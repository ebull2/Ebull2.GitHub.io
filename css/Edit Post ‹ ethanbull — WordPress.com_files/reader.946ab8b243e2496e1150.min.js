(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"./client/blocks/post-likes/index.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/extends.js"),o=s.n(n),r=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),l=s("./node_modules/classnames/index.js"),d=s.n(l),p=s("./node_modules/react-redux/es/index.js"),m=s("./packages/i18n-calypso/dist/esm/index.js"),u=s("./client/components/gravatar/index.jsx"),h=s("./client/components/data/query-post-likes/index.jsx"),b=s("./client/state/selectors/count-post-likes.js"),f=s("./client/state/selectors/get-post-likes.js"),g=s("./client/state/analytics/actions.js");class _ extends c.a.PureComponent{constructor(){super(...arguments),a()(this,"trackLikeClick",()=>{this.props.recordGoogleEvent("Post Likes","Clicked on Gravatar")}),a()(this,"renderLike",e=>{const t=this.props.showDisplayNames,s=e.site_ID&&e.site_visible?"/read/blogs/"+e.site_ID:null,n=s?"a":"span";return c.a.createElement(n,{key:e.ID,href:s,className:"post-likes__item",onClick:s?this.trackLikeClick:null},c.a.createElement(u.a,{user:e,alt:e.login,title:e.login,size:24}),t&&c.a.createElement("span",{className:"post-likes__display-name"},e.name))})}renderExtraCount(){const e=this.props,t=e.likes,s=e.likeCount,n=e.showDisplayNames,o=e.translate,r=e.numberFormat;if(!t||s<=t.length)return null;const a=s-t.length;let i;return i=n?o("+ %(extraCount)s more","+ %(extraCount)s more",{count:a,args:{extraCount:r(a)}}):"+ "+r(a),c.a.createElement("span",{key:"placeholder",className:"post-likes__count"},i)}render(){const e=this.props,t=e.likeCount,s=e.likes,n=e.postId,r=e.postType,a=e.siteId,i=e.translate,l=e.showDisplayNames,p=e.onMouseEnter,m=e.onMouseLeave;let u;u=i("page"===r?"There are no likes on this page yet.":"There are no likes on this post yet.");const b=!s,f=d()("post-likes",{"has-display-names":l}),g={onMouseEnter:p,onMouseLeave:m};return c.a.createElement("div",o()({className:f},g),c.a.createElement(h.a,{siteId:a,postId:n,needsLikers:!0}),b&&c.a.createElement("span",{key:"placeholder",className:"post-likes__count is-loading"},"…"),s&&s.map(this.renderLike),this.renderExtraCount(),0===t&&u)}}a()(_,"defaultProps",{postType:"post",showDisplayNames:!1}),t.a=Object(p.b)((e,t)=>{let s=t.siteId,n=t.postId;return{likeCount:Object(b.a)(e,s,n),likes:Object(f.a)(e,s,n)}},{recordGoogleEvent:g.g})(Object(m.localize)(_))},"./client/blocks/post-likes/popover.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/extends.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/lodash/lodash.js"),l=s("./node_modules/classnames/index.js"),d=s.n(l),p=s("./client/components/popover/index.jsx"),m=s("./client/blocks/post-likes/index.jsx"),u=s("./client/state/selectors/get-post-likes.js"),h=s("./client/state/selectors/count-post-likes.js");t.a=Object(i.b)((e,t)=>{const s=t.siteId,n=t.postId;return{likeCount:Object(h.a)(e,s,n),likes:Object(u.a)(e,s,n)}})(function(e){const t=e.className,s=e.siteId,n=e.postId,r=e.showDisplayNames,i=e.context,l=e.onClose,u=e.likes,h=e.likeCount,b=e.onMouseEnter,f=e.onMouseLeave,g=["likes",s,n,r?"large":"small",u?u.length:0,h].join("-"),_=Object(c.omit)(e,"className","siteId","postId","showDisplayNames","context","onClose","likes","onMouseEnter","onMouseLeave"),j=d()("post-likes-popover",t),y={siteId:s,postId:n,showDisplayNames:r,onMouseEnter:b,onMouseLeave:f};return a.a.createElement(p.a,o()({},_,{className:j,isVisible:!0,context:i,onClose:l,key:g}),a.a.createElement(m.a,y))})},"./client/blocks/reader-combined-card/index.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/prop-types/index.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),l=s("./node_modules/lodash/lodash.js"),d=s("./packages/i18n-calypso/dist/esm/index.js"),p=s("./node_modules/react-redux/es/index.js"),m=s("./client/components/card/index.jsx"),u=s("./client/reader/route/index.js"),h=s("./client/blocks/reader-avatar/index.jsx"),b=s("./client/blocks/reader-site-stream-link/index.jsx"),f=s("./node_modules/@babel/runtime/helpers/extends.js"),g=s.n(f),_=s("./node_modules/react-dom/index.js"),j=s.n(_),y=s("./node_modules/component-closest/index.js"),x=s.n(y),v=s("./node_modules/classnames/index.js"),k=s.n(v),w=s("./client/components/auto-direction/index.jsx"),E=s("./client/components/emojify/index.jsx"),O=s("./client/blocks/reader-excerpt/index.jsx"),C=s("./client/blocks/reader-visit-link/index.jsx"),S=s("./client/blocks/reader-author-link/index.jsx"),N=s("./client/reader/stats.js"),I=s("./client/components/time-since/index.jsx"),P=s("./client/blocks/reader-featured-image/index.jsx"),T=s("./client/blocks/reader-featured-video/index.jsx");var R=()=>c.a.createElement("li",{className:"reader-combined-card__post is-placeholder"},c.a.createElement("div",{className:"reader-combined-card__featured-image-wrapper"}),c.a.createElement("div",{className:"reader-combined-card__post-details"},c.a.createElement("div",{className:"reader-combined-card__post-title"}),c.a.createElement("div",{className:"reader-excerpt is-placeholder"}),c.a.createElement("div",{className:"reader-combined-card__post-author-and-time is-placeholder"},c.a.createElement("div",{className:"reader-combined-card__visit-link-placeholder"}),c.a.createElement("div",{className:"reader-combined-card__timestamp"})))),D=s("./client/reader/lib/author-name-blacklist/index.js"),K=s("./client/components/data/query-reader-post/index.jsx");class L extends c.a.Component{constructor(){super(...arguments),o()(this,"handleCardClick",e=>{const t=j.a.findDOMNode(this),s=window.getSelection&&window.getSelection();e.button>0||e.metaKey||e.controlKey||e.shiftKey||e.altKey?x()(e.target,".reader-combined-card__post-title-link",t)&&Object(N.recordPermalinkClick)("card_title_with_modifier",this.props.post):x()(e.target,".ignore-click, [rel~=external]",t)||x()(e.target,"a",t)&&x()(e.target,".reader-excerpt",t)||s&&s.toString()||e.defaultPrevented||(e.preventDefault(),this.props.onClick(this.props.post))})}render(){const e=this.props,t=e.post,s=e.streamUrl,n=e.isDiscover,o=e.isSelected,r=e.postKey;if(!t||"pending"===t._state||"minimal"===t._state)return c.a.createElement(i.Fragment,null,c.a.createElement(K.a,{postKey:r}),c.a.createElement(R,null));const a=Object(l.has)(t,"author.name")&&!Object(D.a)(t.author.name);let d=null;t.canonical_media&&"video"===t.canonical_media.mediaType?d=c.a.createElement(T.a,g()({},t.canonical_media,{videoEmbed:t.canonical_media,allowPlaying:!1})):t.canonical_media&&(d=c.a.createElement(P.a,{imageWidth:100,imageUrl:t.canonical_media.src,href:t.URL}));const p=k()({"reader-combined-card__post":!0,"is-selected":o,"has-featured-asset":!!d});return c.a.createElement("li",{className:p,onClick:this.handleCardClick},this.props.showFeaturedAsset&&c.a.createElement("div",{className:"reader-combined-card__featured-asset-wrapper"},d),c.a.createElement("div",{className:"reader-combined-card__post-details"},c.a.createElement(w.a,null,c.a.createElement("h1",{className:"reader-combined-card__post-title"},c.a.createElement("a",{className:"reader-combined-card__post-title-link",href:t.URL},c.a.createElement(E.a,null,t.title)))),c.a.createElement(O.a,{post:t,isDiscover:n}),c.a.createElement("div",{className:"reader-combined-card__post-author-and-time ignore-click"},c.a.createElement(C.a,{href:t.URL,iconSize:14},this.props.translate("Visit")),a&&c.a.createElement(S.a,{className:"reader-combined-card__author-link",author:t.author,siteUrl:s,post:t},t.author.name),t.date&&t.URL&&c.a.createElement("span",{className:"reader-combined-card__timestamp"},a&&c.a.createElement("span",null,", "),c.a.createElement("a",{className:"reader-combined-card__timestamp-link",onClick:()=>{Object(N.recordPermalinkClick)("timestamp_combined_card",t)},href:t.URL,target:"_blank",rel:"noopener noreferrer"},c.a.createElement(I.a,{date:t.date}))))))}}o()(L,"propTypes",{post:a.a.object,streamUrl:a.a.string,onClick:a.a.func,showFeaturedAsset:a.a.bool}),o()(L,"defaultProps",{showFeaturedAsset:!0});var M=Object(d.localize)(L),A=s("./client/reader/post-key.js"),q=s("./client/components/data/query-reader-site/index.jsx"),U=s("./client/components/data/query-reader-feed/index.jsx"),F=s("./client/reader/get-helpers.js"),B=s("./client/reader/follow-button/index.jsx"),z=s("./client/state/reader/posts/selectors.js"),W=s("./client/blocks/reader-post-options-menu/index.jsx"),H=s("./client/blocks/reader-post-card/blocked.jsx");s("./client/blocks/reader-combined-card/style.scss");s.d(t,"b",function(){return G}),s.d(t,"a",function(){return X});class V extends c.a.Component{constructor(){super(...arguments),o()(this,"recordRenderTrack",()=>{const e=this.props,t=e.postKey,s=e.posts;Object(N.recordTrack)("calypso_reader_combined_card_render",{blog_id:t.blogId,feed_id:t.feedId,post_count:Object(l.size)(s)})})}componentDidMount(){this.recordRenderTrack()}componentDidUpdate(e){this.props.postKey.feedId===e.postKey.feedId&&this.props.postKey.blogId===e.postKey.blogId&&Object(l.size)(this.props.posts)===Object(l.size)(e.posts)||this.recordRenderTrack()}render(){const e=this.props,t=e.posts,s=e.postKeys,n=e.site,o=e.feed,r=e.postKey,a=e.selectedPostKey,i=e.onClick,d=e.isDiscover,p=e.blockedSites,f=e.translate,g=r.feedId,_=r.blogId,j=Object(l.get)(n,"icon.img"),y=Object(l.get)(o,"image"),x=Object(u.f)(g,_),v=Object(F.d)({site:n,post:t[0]}),k=e=>Object(A.d)(Object(A.b)(e),a),w=o&&o.URL||n&&n.URL,E=Object(l.filter)(t,e=>e&&!Object(l.isEmpty)(e.canonical_media)).length;return t[0]&&!t[0].is_external&&Object(l.includes)(p,+t[0].site_ID)?c.a.createElement(H.a,{post:t[0]}):c.a.createElement(m.a,{className:"reader-combined-card"},c.a.createElement("header",{className:"reader-combined-card__header"},c.a.createElement(h.a,{siteIcon:j,feedIcon:y,author:null,preferGravatar:!0,siteUrl:x,isCompact:!0}),c.a.createElement("div",{className:"reader-combined-card__header-details"},c.a.createElement(b.a,{className:"reader-combined-card__site-link",feedId:g,siteId:_},v),c.a.createElement("p",{className:"reader-combined-card__header-post-count"},f("%(count)d posts",{args:{count:t.length}}))),this.props.showFollowButton&&w&&c.a.createElement(B.a,{siteUrl:w,followSource:this.props.followSource})),c.a.createElement("ul",{className:"reader-combined-card__post-list"},t.map((e,t)=>c.a.createElement(M,{key:"post-".concat(r.feedId||r.blogId,"-").concat(r.postIds[t]),post:e,postKey:s[t],streamUrl:x,onClick:i,isDiscover:d,isSelected:k(e),showFeaturedAsset:E>0}))),c.a.createElement("div",{className:"reader-combined-card__footer"},c.a.createElement(W.a,{className:"reader-combined-card__options-menu ignore-click",showFollow:!0,showConversationFollow:!1,showVisitPost:!1,showEditPost:!1,showReportSite:!0,showReportPost:!1,post:t[0]})),g&&c.a.createElement(U.a,{feedId:+g,includeMeta:!1}),_&&c.a.createElement(q.a,{siteId:+_,includeMeta:!1}))}}function G(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||!e.postIds)return[];const s=e.feedId,n=e.blogId;if(t&&t.lastPostIds===e.postIds)return t.lastPostKeys;const o=e.postIds.map(e=>({feedId:s,blogId:n,postId:e}));return t&&(t.lastPostIds=e.postIds,t.lastPostKeys=o),o}o()(V,"propTypes",{posts:a.a.array.isRequired,site:a.a.object,feed:a.a.object,onClick:a.a.func,isDiscover:a.a.bool,postKey:a.a.object.isRequired,selectedPostKey:a.a.object,showFollowButton:a.a.bool,followSource:a.a.string,blockedSites:a.a.array}),o()(V,"defaultProps",{isDiscover:!1,showFollowButton:!1,blockedSites:[]});const X=Object(d.localize)(V);t.c=Object(p.b)(function(e,t){const s={};return e=>{const n=G(t.postKey,s);return{posts:Object(z.c)(e,n),postKeys:n}}})(X)},"./client/blocks/reader-combined-card/style.scss":function(e,t,s){},"./client/blocks/reader-post-card/blocked.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/prop-types/index.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),l=s("./packages/i18n-calypso/dist/esm/index.js"),d=s("./node_modules/react-redux/es/index.js"),p=s("./client/state/reader/site-blocks/actions.js"),m=s("./client/components/card/index.jsx"),u=s("./client/reader/stats.js"),h=s("./client/state/analytics/actions.js");class b extends c.a.Component{constructor(){super(...arguments),o()(this,"unblock",()=>{this.props.bumpStat("reader_actions","unblocked_blog"),this.props.recordGoogleEvent("reader_actions","Clicked Unblock Site"),Object(u.recordTrack)("calypso_reader_unblock_site",{blog_id:this.props.post.site_ID}),this.props.unblockSite(this.props.post.site_ID)})}render(){const e=this.props,t=e.post,s=e.translate;return c.a.createElement(m.a,{className:"reader-post-card is-blocked"},c.a.createElement("p",{className:"reader-post-card__blocked-description"},s("You have blocked %(site_name)s.",{args:{site_name:t.site_name}}),c.a.createElement("button",{onClick:this.unblock,className:"reader-post-card__blocked-undo"},s("Undo?"))))}}o()(b,"propTypes",{post:a.a.object}),t.a=Object(d.b)(null,{recordGoogleEvent:h.g,bumpStat:h.a,unblockSite:p.c})(Object(l.localize)(b))},"./client/blocks/reader-related-card/index.jsx":function(e,t,s){"use strict";s.d(t,"a",function(){return C});var n=s("./node_modules/@babel/runtime/helpers/extends.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./node_modules/classnames/index.js"),l=s.n(c),d=s("./node_modules/lodash/lodash.js"),p=s("./packages/i18n-calypso/dist/esm/index.js"),m=s("./client/state/reader/posts/selectors.js"),u=s("./client/state/reader/sites/selectors.js"),h=s("./client/components/data/query-reader-site/index.jsx"),b=s("./client/components/card/compact.jsx"),f=s("./client/components/gravatar/index.jsx"),g=s("./client/reader/follow-button/index.jsx"),_=s("./client/reader/route/index.js"),j=s("./client/lib/string/index.js"),y=s("./client/blocks/reader-featured-video/index.jsx"),x=s("./client/blocks/reader-featured-image/index.jsx"),v=s("./client/blocks/reader-author-link/index.jsx");s("./client/blocks/reader-related-card/style.scss");const k=385;function w(e){let t=e.post,s=e.site,n=e.onSiteClick,o=e.followSource;const r=Object(_.f)(t.feed_ID,t.site_ID),i=s&&s.title||t.site_name,c=Object(d.get)(t,"author.name",""),l=!Object(j.a)(i,c);return a.a.createElement("div",{className:"reader-related-card__meta"},a.a.createElement("a",{href:r,onClick:n,"aria-hidden":"true"},a.a.createElement(f.a,{user:t.author})),a.a.createElement("div",{className:"reader-related-card__byline"},c&&l&&a.a.createElement("span",{className:"reader-related-card__byline-author"},a.a.createElement(v.a,{author:t.author,siteUrl:r,post:t,onClick:n,className:"reader-related-card__link"},c)),a.a.createElement("span",{className:"reader-related-card__byline-site"},a.a.createElement("a",{href:r,onClick:n,className:"reader-related-card__link"},i))),a.a.createElement(g.a,{siteUrl:t.site_URL,followSource:o,railcar:t.railcar}))}function E(){return a.a.createElement("div",{className:"reader-related-card__meta is-placeholder"},a.a.createElement(f.a,{user:null}),a.a.createElement("div",{className:"reader-related-card__byline"},a.a.createElement("span",{className:"reader-related-card__byline-author"},"Author name"),a.a.createElement("span",{className:"reader-related-card__byline-site"},"Site title")))}function O(){return a.a.createElement(b.a,{className:"reader-related-card is-placeholder"},a.a.createElement(E,null),a.a.createElement("a",{className:"reader-related-card__post reader-related-card__link-block"},a.a.createElement("div",{className:"reader-related-card__featured-image"}),a.a.createElement("div",{className:"reader-related-card__site-info"},a.a.createElement("h1",{className:"reader-related-card__title"},"Title"),a.a.createElement("div",{className:"reader-related-card__excerpt post-excerpt"},"Excerpt"))))}function C(e){let t=e.post,s=e.site,n=e.siteId,r=e.onPostClick,i=void 0===r?d.noop:r,c=e.onSiteClick,p=void 0===c?d.noop:c,m=e.followSource;if(!t||"minimal"===t._state||"pending"===t._state)return a.a.createElement(O,null);const u=Object(_.b)(t),f=l()("reader-related-card",{"has-thumbnail":!!t.canonical_media,"has-excerpt":t.excerpt&&t.excerpt.length>1}),g=Object(d.partial)(i,t),j=Object(d.partial)(p,t),v=t.canonical_media;let E;return E=v?"video"===v.mediaType?a.a.createElement(y.a,o()({},v,{videoEmbed:v,className:"reader-related-card__featured-image",href:u,onThumbnailClick:g,allowPlaying:!1})):a.a.createElement(x.a,{imageUrl:v.src,imageWidth:k,onClick:g,href:u,className:"reader-related-card__featured-image"}):null,a.a.createElement(b.a,{className:f},n&&!s&&a.a.createElement(h.a,{siteId:n}),a.a.createElement(w,{post:t,site:s,onSiteClick:j,followSource:m}),E,a.a.createElement("a",{href:u,className:"reader-related-card__post reader-related-card__link-block",onClick:g},a.a.createElement("div",{className:"reader-related-card__site-info"},a.a.createElement("h1",{className:"reader-related-card__title"},t.title),a.a.createElement("div",{className:"reader-related-card__excerpt post-excerpt"},t.canonical_media?t.short_excerpt:t.better_excerpt_no_html))))}const S=Object(p.localize)(C);t.b=Object(i.b)((e,t)=>{const s=t.post,n=Object(m.a)(e,s),o=s&&s.site_ID;return{post:n,site:o&&Object(u.a)(e,o),siteId:o}})(S)},"./client/blocks/reader-related-card/style.scss":function(e,t,s){},"./client/components/card/compact.jsx":function(e,t,s){"use strict";s.d(t,"a",function(){return d});var n=s("./node_modules/@babel/runtime/helpers/extends.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/classnames/index.js"),c=s.n(i),l=s("./client/components/card/index.jsx");function d(e){return a.a.createElement(l.a,o()({},e,{className:c()(e.className,"is-compact")}),e.children)}},"./client/components/data/query-post-likes/index.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/prop-types/index.js"),c=s.n(i),l=s("./node_modules/react-redux/es/index.js"),d=s("./client/state/posts/likes/actions.js"),p=s("./node_modules/lodash/lodash.js");function m(e,t,s){return Object(p.get)(e.posts.likes.items,[t,s,"lastUpdated"])}var u=s("./client/state/selectors/get-post-likes.js"),h=s("./client/lib/interval/index.js");class b extends r.Component{constructor(){var e;super(...arguments),e=this,o()(this,"request",function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props,s=t.requestPostLikes,n=t.siteId,o=t.postId,r=t.maxAgeSeconds,a=t.hasPostLikes,i=t.needsLikers,c=t.lastUpdated;(!c||Date.now()-c>1e3*r||i&&!a)&&s(n,o,r)})}componentDidMount(){this.request()}componentWillReceiveProps(e){this.props.siteId===e.siteId&&this.props.postId===e.postId||this.request(e)}render(){return a.a.createElement(h.e,{period:this.props.maxAgeSeconds+1,onTick:this.request})}}o()(b,"propTypes",{siteId:c.a.number.isRequired,postId:c.a.number.isRequired,needsLikers:c.a.bool,hasPostLikes:c.a.bool,maxAgeSeconds:c.a.number,lastUpdated:c.a.number,requestPostLikes:c.a.func.isRequired}),o()(b,"defaultProps",{maxAgeSeconds:120,needsLikers:!1});t.a=Object(l.b)((e,t)=>{let s=t.siteId,n=t.postId;return{lastUpdated:m(e,s,n),hasPostLikes:null!==Object(u.a)(e,s,n)}},{requestPostLikes:d.e})(b)},"./client/components/data/sync-reader-follows/index.js":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s("./node_modules/react-redux/es/index.js"),r=e=>e.reader.follows.lastSyncTime;const a=36e5;function i(e){const t=r(e)+a;return Date.now()>t}var c=s("./client/state/reader/follows/actions.js");t.a=Object(o.b)(e=>({shouldSync:i(e)}),{requestFollows:c.d})(class extends n.Component{check(){this.props.shouldSync&&this.props.requestFollows()}componentDidMount(){this.check()}componentDidUpdate(){this.check()}render(){return null}})},"./client/components/ellipsis-menu/index.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/prop-types/index.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),l=s("./node_modules/classnames/index.js"),d=s.n(l),p=s("./packages/i18n-calypso/dist/esm/index.js"),m=s("./node_modules/lodash/lodash.js"),u=s("./client/components/gridicon/index.jsx"),h=s("./client/components/button/index.jsx"),b=s("./client/components/popover/menu.jsx");s("./client/components/ellipsis-menu/style.scss");class f extends i.Component{constructor(){super(...arguments),o()(this,"state",{isMenuVisible:!1}),o()(this,"popoverContext",c.a.createRef()),o()(this,"handleClick",e=>{const t=this.props.onClick,s=this.state.isMenuVisible;t(e),s?this.hideMenu():this.showMenu()}),o()(this,"hideMenu",()=>this.toggleMenu(!1)),o()(this,"showMenu",()=>this.toggleMenu(!0))}toggleMenu(e){this.props.disabled||(this.setState({isMenuVisible:e}),this.props.onToggle(e))}render(){const e=this.props,t=e.toggleTitle,s=e.translate,n=e.position,o=e.children,r=e.disabled,a=e.className,i=e.popoverClassName,l=this.state.isMenuVisible,p=d()("ellipsis-menu",a,{"is-menu-visible":l,"is-disabled":r}),m=d()("ellipsis-menu__menu","popover",i);return c.a.createElement("span",{className:p},c.a.createElement(h.a,{ref:this.popoverContext,onClick:this.handleClick,title:t||s("Toggle menu"),borderless:!0,disabled:r,className:"ellipsis-menu__toggle"},c.a.createElement(u.a,{icon:"ellipsis",className:"ellipsis-menu__toggle-icon"})),c.a.createElement(b.a,{isVisible:l,onClose:this.hideMenu,position:n,context:this.popoverContext.current,className:m},o))}}o()(f,"propTypes",{translate:a.a.func,toggleTitle:a.a.string,position:a.a.string,disabled:a.a.bool,onClick:a.a.func,onToggle:a.a.func,popoverClassName:a.a.string}),o()(f,"defaultProps",{onClick:m.noop,onToggle:m.noop}),t.a=Object(p.localize)(f)},"./client/components/ellipsis-menu/style.scss":function(e,t,s){},"./client/components/forms/form-input-validation/index.jsx":function(e,t,s){"use strict";s.d(t,"a",function(){return m});var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/prop-types/index.js"),c=s.n(i),l=s("./node_modules/classnames/index.js"),d=s.n(l),p=s("./client/components/gridicon/index.jsx");class m extends a.a.Component{render(){const e=d()(this.props.className,{"form-input-validation":!0,"is-warning":this.props.isWarning,"is-error":this.props.isError,"is-hidden":this.props.isHidden}),t=this.props.isError||this.props.isWarning?"notice-outline":"checkmark";return a.a.createElement("div",{className:e,role:"alert"},a.a.createElement("span",{id:this.props.id},a.a.createElement(p.a,{size:24,icon:this.props.icon?this.props.icon:t})," ",this.props.text))}}o()(m,"displayName","FormInputValidation"),o()(m,"propTypes",{isError:c.a.bool,isWarning:c.a.bool,text:c.a.node,icon:c.a.string,id:c.a.string}),o()(m,"defaultProps",{isError:!1,id:null})},"./client/components/list-end/index.js":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./client/components/gridicon/index.jsx");s("./client/components/list-end/style.scss");function a(){return o.a.createElement("div",{className:"list-end"},o.a.createElement(r.a,{icon:"my-sites"}))}},"./client/components/list-end/style.scss":function(e,t,s){},"./client/components/mobile-back-to-sidebar/index.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/react-redux/es/index.js"),c=s("./client/state/ui/layout-focus/actions.js");t.a=Object(i.b)(null,{setLayoutFocus:c.b})(class extends a.a.Component{constructor(){super(...arguments),o()(this,"toggleSidebar",e=>{e.preventDefault(),this.props.setLayoutFocus("sidebar")})}render(){return a.a.createElement("div",{className:"mobile-back-to-sidebar",onClick:this.toggleSidebar},a.a.createElement("svg",{className:"gridicon gridicon-back-arrow mobile-back-to-sidebar__icon",height:"24",width:"24",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},a.a.createElement("g",null,a.a.createElement("path",{d:"M8.886 4L7 5.886 13.114 12 7 18.114 8.886 20l8-8"}))),a.a.createElement("span",{className:"mobile-back-to-sidebar__content"},this.props.children))}})},"./client/components/popover/menu-item.jsx":function(e,t,s){"use strict";s.d(t,"a",function(){return f});var n=s("./node_modules/@babel/runtime/helpers/extends.js"),o=s.n(n),r=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=s.n(r),i=s("./node_modules/prop-types/index.js"),c=s.n(i),l=s("./node_modules/react/index.js"),d=s.n(l),p=s("./node_modules/classnames/index.js"),m=s.n(p),u=s("./node_modules/lodash/lodash.js"),h=s("./client/components/gridicon/index.jsx"),b=s("./client/components/external-link/index.jsx");class f extends l.Component{constructor(){super(...arguments),a()(this,"handleMouseOver",e=>{this.props.focusOnHover&&e.target.focus(),this.props.onMouseOver()})}render(){const e=this.props,t=e.children,s=e.className,n=e.href,r=e.icon,a=e.isSelected,i=e.isExternalLink,c=Object(u.omit)(this.props,"icon","focusOnHover","isSelected","isExternalLink","className","itemComponent"),l=m()("popover__menu-item",s,{"is-selected":a});let p=this.props.itemComponent;return i&&n?(p=b.a,c.icon=!0):n&&(p="a"),d.a.createElement(p,o()({role:"menuitem",onMouseOver:this.handleMouseOver,tabIndex:"-1",className:l},c),r&&d.a.createElement(h.a,{icon:r,size:18}),t)}}a()(f,"propTypes",{href:c.a.string,className:c.a.string,isSelected:c.a.bool,icon:c.a.string,focusOnHover:c.a.bool,onMouseOver:c.a.func,isExternalLink:c.a.bool,itemComponent:c.a.oneOfType([c.a.func,c.a.string])}),a()(f,"defaultProps",{isSelected:!1,focusOnHover:!0,onMouseOver:u.noop,itemComponent:"button"})},"./client/components/popover/menu-separator.jsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js");const o=s.n(n).a.createElement("hr",{className:"popover__menu-separator"});t.a=(()=>o)},"./client/components/popover/menu.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/prop-types/index.js"),c=s.n(i),l=s("./client/components/popover/index.jsx");const d=e=>"HR"===e.tagName;class p extends r.Component{constructor(){var e;super(...arguments),e=this,o()(this,"menu",a.a.createRef()),o()(this,"_setPropsOnChild",e=>{if(null==e)return e;const t=e.props,s=t.action,n=t.onClick;return a.a.cloneElement(e,{action:null,onClick:()=>{n&&n(),this._onClose(s)}})}),o()(this,"_onShow",()=>{const e=this.menu.current;this._previouslyFocusedElement=document.activeElement,e&&e.focus()}),o()(this,"_getClosestSibling",function(t){let s=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=e.menu.current;let o=n.firstChild,r=n.lastChild;if(s||(o=n.lastChild,r=n.firstChild),t===n)return o;const a=t[s?"nextSibling":"previousSibling"]||r;return d(a)?e._getClosestSibling(a,s):a}),o()(this,"_onKeyDown",e=>{const t=e.target;let s,n=!1;switch(e.keyCode){case 9:this.props.onClose(),n=!0;break;case 38:s=this._getClosestSibling(t,!1),n=!0;break;case 40:s=this._getClosestSibling(t,!0),n=!0}s&&s.focus(),n&&e.preventDefault()}),o()(this,"_onClose",e=>{this._previouslyFocusedElement&&(this._previouslyFocusedElement.focus(),this._previouslyFocusedElement=null),this.props.onClose&&this.props.onClose(e)})}componentWillUnmount(){this._previouslyFocusedElement=null}render(){const e=this.props,t=e.popoverComponent,s=e.autoPosition,n=e.className,o=e.context,r=e.customPosition,i=e.isVisible,c=e.popoverTitle,l=e.position,d=e.rootClassName;return a.a.createElement(t,{onClose:this._onClose,onShow:this._onShow,autoPosition:s,className:n,context:o,customPosition:r,isVisible:i,popoverTitle:c,position:l,rootClassName:d},a.a.createElement("div",{ref:this.menu,role:"menu",className:"popover__menu",onKeyDown:this._onKeyDown,tabIndex:"-1"},a.a.Children.map(this.props.children,this._setPropsOnChild,this)))}}o()(p,"propTypes",{autoPosition:c.a.bool,isVisible:c.a.bool.isRequired,onClose:c.a.func.isRequired,position:c.a.string,className:c.a.string,rootClassName:c.a.string,popoverComponent:c.a.func,popoverTitle:c.a.string,customPosition:c.a.object}),o()(p,"defaultProps",{autoPosition:!0,position:"top",popoverComponent:l.a}),t.a=p},"./client/components/section-header/index.jsx":function(e,t,s){"use strict";s.d(t,"a",function(){return u});var n=s("./node_modules/@babel/runtime/helpers/extends.js"),o=s.n(n),r=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),l=s("./node_modules/classnames/index.js"),d=s.n(l),p=s("./client/components/card/compact.jsx"),m=s("./client/components/count/index.jsx");s("./client/components/section-header/style.scss");class u extends i.PureComponent{render(){const e="number"==typeof this.props.count,t=!(this.props.label||e||this.props.children),s=d()(this.props.className,"section-header",{"is-empty":t,"is-placeholder":this.props.isPlaceholder}),n={id:this.props.id};return c.a.createElement(p.a,o()({className:s,href:this.props.href},n),c.a.createElement("div",{className:"section-header__label"},c.a.createElement("span",{className:"section-header__label-text"},this.props.label),e&&c.a.createElement(m.a,{count:this.props.count})),c.a.createElement("div",{className:"section-header__actions"},this.props.children))}}a()(u,"defaultProps",{label:"",href:null,isPlaceholder:!1})},"./client/components/section-header/style.scss":function(e,t,s){},"./client/components/section-nav/index.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/prop-types/index.js"),c=s.n(i),l=s("./node_modules/classnames/index.js"),d=s.n(l),p=s("./node_modules/lodash/lodash.js"),m=s("./client/components/gridicon/index.jsx"),u=s("./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx"),h=s("./client/components/section-nav/tabs.jsx"),b=s("./client/components/section-nav/item.jsx"),f=s("./client/components/search/index.jsx");class g extends r.Component{constructor(){var e;super(...arguments),e=this,o()(this,"state",{mobileOpen:!1}),o()(this,"renderDropdown",()=>this.props.allowDropdown?a.a.createElement("div",{className:"section-nav__mobile-header",onClick:this.toggleMobileOpenState},a.a.createElement("span",{className:"section-nav__mobile-header-text"},this.props.selectedText),a.a.createElement(m.a,{icon:"chevron-down",size:18})):a.a.createElement("div",null)),o()(this,"getChildren",()=>a.a.Children.map(this.props.children,function(e){const t={hasSiblingControls:this.hasSiblingControls,closeSectionNavMobilePanel:this.closeMobilePanel};return e?(e.type!==h.a||e.props.selectedText||"string"!=typeof this.props.selectedText||(t.selectedText=this.props.selectedText),e.type===h.a&&this.props.selectedCount&&(t.selectedCount=this.props.selectedCount),e.type===f.a&&(e.props.pinned&&(this.hasPinnedSearch=!0),t.onSearch=this.generateOnSearch(e.props.onSearch)),a.a.cloneElement(e,t)):null}.bind(this))),o()(this,"closeMobilePanel",()=>{window.innerWidth<480&&this.state.mobileOpen&&this.setState({mobileOpen:!1})}),o()(this,"toggleMobileOpenState",()=>{const e=!this.state.mobileOpen;this.setState({mobileOpen:e}),e&&this.props.onMobileNavPanelOpen()}),o()(this,"generateOnSearch",t=>(function(){t(...arguments),e.closeMobilePanel()})),o()(this,"checkForSiblingControls",e=>{this.hasSiblingControls=!1;const t=[f.a,u.a];a.a.Children.forEach(e,function(e,s){s&&e&&!Object(p.includes)(t,e.type)&&(this.hasSiblingControls=!0)}.bind(this))})}componentWillMount(){this.checkForSiblingControls(this.props.children)}componentWillReceiveProps(e){this.checkForSiblingControls(e.children),this.hasSiblingControls||this.closeMobilePanel()}render(){const e=this.getChildren();let t;return e?(t=d()({"section-nav":!0,"is-open":this.state.mobileOpen,"has-pinned-items":this.hasPinnedSearch||this.props.hasPinnedItems},this.props.className),a.a.createElement("div",{className:t},this.renderDropdown(),a.a.createElement("div",{className:"section-nav__panel"},e))):(t=d()({"section-nav":!0,"is-empty":!0},this.props.className),a.a.createElement("div",{className:t},a.a.createElement("div",{className:"section-nav__panel"},a.a.createElement(b.a,null))))}}o()(g,"propTypes",{selectedText:c.a.node,selectedCount:c.a.number,hasPinnedItems:c.a.bool,onMobileNavPanelOpen:c.a.func,className:c.a.string,allowDropdown:c.a.bool}),o()(g,"defaultProps",{onMobileNavPanelOpen:()=>{},allowDropdown:!0}),t.a=g},"./client/components/section-nav/item.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/prop-types/index.js"),c=s.n(i),l=s("./node_modules/classnames/index.js"),d=s.n(l),p=s("./client/components/gridicon/index.jsx"),m=s("./client/components/count/index.jsx"),u=s("./client/sections-helper.js");class h extends r.PureComponent{constructor(){super(...arguments),o()(this,"_preloaded",!1),o()(this,"preload",()=>{!this._preloaded&&this.props.preloadSectionName&&(this._preloaded=!0,Object(u.c)(this.props.preloadSectionName))})}render(){const e=this.props.itemType?this.props.itemType:"tab",t={"is-selected":this.props.selected,"is-external":this.props.isExternalLink};t["section-nav-"+e]=!0;const s=d()(this.props.className,t);let n,o;return this.props.isExternalLink&&(n="_blank"),this.props.disabled||(o=this.props.onClick),a.a.createElement("li",{className:s},a.a.createElement("a",{href:this.props.path,target:n,className:"section-nav-"+e+"__link",onClick:o,onMouseEnter:this.preload,tabIndex:this.props.tabIndex||0,"aria-selected":this.props.selected,disabled:this.props.disabled,role:"menuitem",rel:this.props.isExternalLink?"external":null},a.a.createElement("span",{className:"section-nav-"+e+"__text"},this.props.children,"number"==typeof this.props.count&&a.a.createElement(m.a,{count:this.props.count,compact:this.props.compactCount})),this.props.isExternalLink?a.a.createElement(p.a,{icon:"external",size:18}):null))}}o()(h,"propTypes",{itemType:c.a.string,path:c.a.string,selected:c.a.bool,tabIndex:c.a.number,onClick:c.a.func,isExternalLink:c.a.bool,disabled:c.a.bool,count:c.a.oneOfType([c.a.number,c.a.bool]),compactCount:c.a.bool,className:c.a.string,preloadSectionName:c.a.string}),t.a=h},"./client/components/section-nav/tabs.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/extends.js"),o=s.n(n),r=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),l=s("./node_modules/react-dom/index.js"),d=s.n(l),p=s("./node_modules/prop-types/index.js"),m=s.n(p),u=s("./node_modules/classnames/index.js"),h=s.n(u),b=s("./node_modules/lodash/lodash.js"),f=s("./client/components/select-dropdown/item.jsx"),g=s("./client/components/select-dropdown/index.jsx"),_=s("./client/lib/viewport/index.js"),j=s("./client/lib/after-layout-flush/index.js"),y=s("./client/components/translatable/proptype.js");const x=480;class v extends i.Component{constructor(){super(...arguments),a()(this,"state",{isDropdown:!1}),a()(this,"getTabWidths",()=>{let e=0;c.a.Children.forEach(this.props.children,function(t,s){if(!t)return;const n=d.a.findDOMNode(this.refs["tab-"+s]).offsetWidth;e+=n}.bind(this)),this.tabsWidth=Math.max(e,this.tabsWidth||0)}),a()(this,"getDropdown",()=>{const e=c.a.Children.map(this.props.children,function(e,t){return e?c.a.createElement(f.a,o()({},e.props,{key:"navTabsDropdown-"+t}),e.props.children):null});return c.a.createElement(g.a,{className:"section-nav-tabs__dropdown",selectedText:this.props.selectedText,selectedCount:this.props.selectedCount},e)}),a()(this,"setDropdown",()=>{let e;if(window.innerWidth>x){if(!this.refs.navGroup)return;e=this.refs.navGroup.offsetWidth,this.getTabWidths(),e<=this.tabsWidth&&!this.state.isDropdown?this.setState({isDropdown:!0}):e>this.tabsWidth&&this.state.isDropdown&&this.setState({isDropdown:!1})}else window.innerWidth<=x&&this.state.isDropdown&&this.setState({isDropdown:!1})}),a()(this,"setDropdownDebounced",Object(b.debounce)(this.setDropdown,300)),a()(this,"setDropdownAfterLayoutFlush",Object(j.a)(this.setDropdown)),a()(this,"keyHandler",e=>{switch(e.keyCode){case 32:case 13:e.preventDefault(),document.activeElement.click()}})}componentDidMount(){this.setDropdownAfterLayoutFlush(),window.addEventListener("resize",this.setDropdownDebounced)}componentDidUpdate(){this.setDropdownAfterLayoutFlush()}componentWillUnmount(){window.removeEventListener("resize",this.setDropdownDebounced),this.setDropdownDebounced.cancel(),this.setDropdownAfterLayoutFlush.cancel()}render(){const e=c.a.Children.map(this.props.children,function(e,t){return e&&c.a.cloneElement(e,{ref:"tab-"+t})}),t=h()({"section-nav-tabs":!0,"is-dropdown":this.state.isDropdown,"is-open":this.state.isDropdownOpen,"has-siblings":this.props.hasSiblingControls}),s=Object(_.c)();return c.a.createElement("div",{className:"section-nav-group",ref:"navGroup"},c.a.createElement("div",{className:t},this.props.label&&c.a.createElement("h6",{className:"section-nav-group__label"},this.props.label),c.a.createElement("ul",{className:"section-nav-tabs__list",role:"menu",onKeyDown:this.keyHandler},e),this.state.isDropdown&&s>x&&this.getDropdown()))}}a()(v,"propTypes",{selectedText:y.a,selectedCount:m.a.number,label:m.a.string,hasSiblingControls:m.a.bool}),a()(v,"defaultProps",{hasSiblingControls:!1}),t.a=v},"./client/components/select-dropdown/index.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/react-dom/index.js"),a=s.n(r),i=s("./node_modules/prop-types/index.js"),c=s.n(i),l=s("./node_modules/react/index.js"),d=s.n(l),p=s("./node_modules/lodash/lodash.js"),m=s("./node_modules/classnames/index.js"),u=s.n(m),h=s("./client/components/gridicon/index.jsx"),b=s("./client/components/select-dropdown/item.jsx"),f=s("./client/components/select-dropdown/separator.jsx"),g=s("./client/components/select-dropdown/label.jsx"),_=s("./client/components/count/index.jsx"),j=s("./client/components/translatable/proptype.js");class y extends l.Component{constructor(e){super(e),this.navigateItem=this.navigateItem.bind(this),this.toggleDropdown=this.toggleDropdown.bind(this),this.handleOutsideClick=this.handleOutsideClick.bind(this);const t={isOpen:!1};e.options.length&&(t.selected=this.getInitialSelectedItem(e)),this.state=t}componentWillMount(){this.setState({instanceId:++y.instances})}componentWillReceiveProps(e){this.state.isOpen&&this.closeDropdown(),void 0!==this.state.selected&&this.props.initialSelected!==e.initialSelected&&this.setState({selected:e.initialSelected})}componentWillUnmount(){window.removeEventListener("click",this.handleOutsideClick)}componentDidUpdate(e,t){this.state.isOpen?window.addEventListener("click",this.handleOutsideClick):window.removeEventListener("click",this.handleOutsideClick),this.state.isOpen!==t.isOpen&&this.props.onToggle({target:this,open:this.state.isOpen})}getInitialSelectedItem(e){if((e=e||this.props).initialSelected)return e.initialSelected;if(!e.options.length)return;const t=Object(p.find)(e.options,e=>!e.isLabel);return t&&t.value}getSelectedText(){const e=this.props,t=e.options,s=e.selectedText,n=this.state.selected;if(s)return s;const o=n||this.getInitialSelectedItem(this.props);return Object(p.result)(Object(p.find)(t,{value:o}),"label")}getSelectedIcon(){const e=this.props,t=e.options,s=e.selectedIcon,n=this.state.selected;if(s)return s;const o=n||this.getInitialSelectedItem(this.props);return Object(p.result)(Object(p.find)(t,{value:o}),"icon")}dropdownOptions(){let e=0;const t=this;return this.props.children?d.a.Children.map(this.props.children,function(s,n){if(!s)return null;const o=d.a.cloneElement(s,{ref:s.type===b.a?"item-"+e:null,key:"item-"+n,isDropdownOpen:this.state.isOpen,onClick:function(e){t.refs.dropdownContainer.focus(),"function"==typeof s.props.onClick&&s.props.onClick(e)}});return s.type===b.a&&e++,o},this):this.props.options.map(function(t,s){if(!t)return d.a.createElement(f.a,{key:"dropdown-separator-"+this.state.instanceId+"-"+s});if(t.isLabel)return d.a.createElement(g.a,{key:"dropdown-label-"+this.state.instanceId+"-"+s},t.label);const n=d.a.createElement(b.a,{key:"dropdown-item-"+this.state.instanceId+"-"+t.value,ref:"item-"+e,isDropdownOpen:this.state.isOpen,selected:this.state.selected===t.value,onClick:this.onSelectItem(t),path:t.path,icon:t.icon},t.label);return e++,n},this)}render(){const e=u()(this.props.className,{"select-dropdown":!0,"is-compact":this.props.compact,"is-open":this.state.isOpen&&!this.props.disabled,"is-disabled":this.props.disabled,"has-count":"number"==typeof this.props.selectedCount}),t=this.getSelectedText(),s=this.getSelectedIcon();return d.a.createElement("div",{style:this.props.style,className:e},d.a.createElement("div",{ref:"dropdownContainer",className:"select-dropdown__container",onKeyDown:this.navigateItem,tabIndex:this.props.tabIndex||0,"aria-haspopup":"true","aria-owns":"select-submenu-"+this.state.instanceId,"aria-controls":"select-submenu-"+this.state.instanceId,"aria-expanded":this.state.isOpen,"aria-disabled":this.props.disabled,"data-tip-target":this.props.tipTarget,onClick:this.toggleDropdown},d.a.createElement("div",{id:"select-dropdown-"+this.state.instanceId,className:"select-dropdown__header"},d.a.createElement("span",{className:"select-dropdown__header-text"},s&&s.type===h.a?s:null,t),"number"==typeof this.props.selectedCount&&d.a.createElement(_.a,{count:this.props.selectedCount}),d.a.createElement(h.a,{icon:"chevron-down",size:18})),d.a.createElement("ul",{id:"select-submenu-"+this.state.instanceId,className:"select-dropdown__options",role:"menu","aria-labelledby":"select-dropdown-"+this.state.instanceId,"aria-expanded":this.state.isOpen},this.dropdownOptions())))}toggleDropdown(){this.props&&this.props.disabled||this.setState({isOpen:!this.state.isOpen})}openDropdown(){this.props&&this.props.disabled||this.setState({isOpen:!0})}closeDropdown(){this.state.isOpen&&(delete this.focused,this.setState({isOpen:!1}))}onSelectItem(e){return this.selectItem.bind(this,e)}selectItem(e){e&&(this.props.onSelect&&this.props.onSelect(e),this.setState({selected:e.value}),this.refs.dropdownContainer.focus())}navigateItem(e){switch(e.keyCode){case 9:this.navigateItemByTabKey(e);break;case 32:case 13:e.preventDefault(),this.activateItem();break;case 38:e.preventDefault(),this.focusSibling("previous"),this.openDropdown();break;case 40:e.preventDefault(),this.focusSibling("next"),this.openDropdown();break;case 27:e.preventDefault(),this.closeDropdown(),this.refs.dropdownContainer.focus()}}navigateItemByTabKey(e){if(!this.state.isOpen)return;e.preventDefault();const t=e.shiftKey?"previous":"next";this.focusSibling(t)}activateItem(){if(!this.state.isOpen)return this.openDropdown();document.activeElement.click()}focusSibling(e){if(!this.state.isOpen)return;let t,s;this.props.options.length?(t=Object(p.map)(Object(p.filter)(this.props.options,e=>e&&!e.isLabel),"value"),s="number"==typeof this.focused?this.focused:t.indexOf(this.state.selected)):(t=Object(p.filter)(this.props.children,function(e){return e.type===b.a}),s="number"==typeof this.focused?this.focused:Object(p.findIndex)(t,function(e){return e.props.selected}));const n=s+("previous"===e?-1:1);n>=t.length||n<0||(a.a.findDOMNode(this.refs["item-"+n].refs.itemLink).focus(),this.focused=n)}handleOutsideClick(e){a.a.findDOMNode(this.refs.dropdownContainer).contains(e.target)||this.closeDropdown()}}o()(y,"propTypes",{selectedText:j.a,selectedIcon:c.a.element,selectedCount:c.a.number,initialSelected:c.a.string,className:c.a.string,style:c.a.object,onSelect:c.a.func,onToggle:c.a.func,focusSibling:c.a.func,tabIndex:c.a.number,disabled:c.a.bool,options:c.a.arrayOf(c.a.shape({value:c.a.string.isRequired,label:j.a.isRequired,path:c.a.string,icon:c.a.element}))}),o()(y,"defaultProps",{options:[],onSelect:()=>{},onToggle:()=>{},style:{}}),o()(y,"instances",0),t.a=y},"./client/components/select-dropdown/item.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/prop-types/index.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),l=s("./node_modules/classnames/index.js"),d=s.n(l),p=s("./client/components/gridicon/index.jsx"),m=s("./client/components/count/index.jsx"),u=s("./client/components/translatable/proptype.js");class h extends i.Component{render(){const e=d()(this.props.className,{"select-dropdown__item":!0,"is-selected":this.props.selected,"is-disabled":this.props.disabled,"has-icon":!!this.props.icon});return c.a.createElement("li",{className:"select-dropdown__option"},c.a.createElement("a",{ref:"itemLink",href:this.props.path,className:e,onClick:this.props.disabled?null:this.props.onClick,"data-bold-text":this.props.value||this.props.children,role:"menuitem",tabIndex:this.props.isDropdownOpen?0:"","aria-selected":this.props.selected,"data-e2e-title":this.props.e2eTitle},c.a.createElement("span",{className:"select-dropdown__item-text"},this.props.icon&&this.props.icon.type===p.a?this.props.icon:null,this.props.children),"number"==typeof this.props.count&&c.a.createElement("span",{"data-text":this.props.count,className:"select-dropdown__item-count"},c.a.createElement(m.a,{count:this.props.count,compact:this.props.compactCount}))))}}o()(h,"propTypes",{children:u.a.isRequired,compactCount:a.a.bool,path:a.a.string,isDropdownOpen:a.a.bool,selected:a.a.bool,onClick:a.a.func,count:a.a.number,disabled:a.a.bool,icon:a.a.element}),o()(h,"defaultProps",{isDropdownOpen:!1,selected:!1}),t.a=h},"./client/components/select-dropdown/label.jsx":function(e,t,s){"use strict";s.d(t,"a",function(){return a});var n=s("./node_modules/react/index.js"),o=s.n(n);const r=e=>e.stopPropagation();function a(e){return o.a.createElement("li",{onClick:r,className:"select-dropdown__label"},o.a.createElement("label",null,e.children))}},"./client/components/select-dropdown/separator.jsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n);t.a=(()=>o.a.createElement("li",{className:"select-dropdown__separator"}))},"./client/components/tinymce/plugins/wpcom-track-paste/sources.js":function(e,t,s){"use strict";s.d(t,"a",function(){return n}),s.d(t,"b",function(){return o});const n="google_docs",o="unknown"},"./client/lib/after-layout-flush/index.js":function(e,t,s){"use strict";function n(e){let t=void 0,s=void 0;const n="function"==typeof requestAnimationFrame;let o,r;let a=(i=e,function(){if(!n){o=this;for(var e=arguments.length,t=new Array(e),a=0;a<e;a++)t[a]=arguments[a];r=t}void 0===s&&(s=setTimeout(()=>{const e=r,t=o;r=void 0,o=void 0,s=void 0,i.apply(t,e)},0))});var i,c;return n&&(c=a,a=function(){o=this;for(var e=arguments.length,s=new Array(e),n=0;n<e;n++)s[n]=arguments[n];r=s,void 0===t&&(t=requestAnimationFrame(()=>{t=void 0,c()}))}),a.cancel=(()=>{o=void 0,r=void 0,void 0!==t&&(cancelAnimationFrame(t),t=void 0),void 0!==s&&(clearTimeout(s),s=void 0)}),a}s.d(t,"a",function(){return n})},"./client/lib/css-safe-url/index.js":function(e,t,s){"use strict";function n(e){return e&&e.replace(/([\(\)])/g,"\\$1")}s.d(t,"a",function(){return n})},"./client/lib/interval/index.js":function(e,t,s){"use strict";s.d(t,"c",function(){return c}),s.d(t,"a",function(){return l}),s.d(t,"d",function(){return d}),s.d(t,"b",function(){return p}),s.d(t,"e",function(){return m});var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s("./node_modules/prop-types/index.js"),i=s.n(a);const c=1e3,l=5e3,d=1e4,p=6e4;class m extends r.Component{constructor(){var e;super(...arguments),e=this,o()(this,"tick",()=>{this.props.onTick()}),o()(this,"start",function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;e.interval=setInterval(e.tick,t.period)}),o()(this,"stop",()=>{this.interval=clearInterval(this.interval)})}componentDidMount(){this.start()}componentWillUnmount(){this.stop()}componentWillReceiveProps(e){e.period!==this.props.period&&(this.stop(),this.start(e))}render(){return null}}o()(m,"propTypes",{onTick:i.a.func.isRequired,period:i.a.number.isRequired})},"./client/my-sites/comments/comment-navigation/comment-navigation-tab.jsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/classnames/index.js"),a=s.n(r);t.a=(e=>{let t=e.children,s=e.className;return o.a.createElement("div",{className:a()("comment-navigation__tab",s)},t)})},"./client/reader/components/reader-blank-suggestions/index.js":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./packages/i18n-calypso/dist/esm/index.js");s("./client/reader/components/reader-blank-suggestions/style.scss");t.a=Object(r.localize)(function(e){return o.a.createElement("div",{className:"reader-blank-suggestions"},e.suggestions&&e.translate("Suggestions: {{suggestions /}}.",{components:{suggestions:e.suggestions}})," ")})},"./client/reader/components/reader-blank-suggestions/style.scss":function(e,t,s){},"./client/reader/components/reader-main/index.jsx":function(e,t,s){"use strict";s.d(t,"a",function(){return p});var n=s("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./client/components/main/index.jsx"),c=s("./client/components/data/sync-reader-follows/index.js");s("./client/reader/components/reader-main/style.scss");let l=0;const d=e=>{e?document.querySelector("body").classList.add("is-reader-page"):0===l&&document.querySelector("body").classList.remove("is-reader-page")};class p extends a.a.Component{componentDidMount(){l++,d(!0)}componentWillUnmount(){l--,d(!1)}render(){const e=this.props,t=e.children,s=o()(e,["children"]);return a.a.createElement(i.a,s,a.a.createElement(c.a,{key:"syncReaderFollows"}),t)}}},"./client/reader/components/reader-main/style.scss":function(e,t,s){},"./client/reader/controller-helper.js":function(e,t,s){"use strict";s.d(t,"c",function(){return d}),s.d(t,"a",function(){return p}),s.d(t,"d",function(){return m}),s.d(t,"e",function(){return u}),s.d(t,"b",function(){return h});var n=s("./packages/i18n-calypso/dist/esm/index.js"),o=s.n(n),r=s("./node_modules/moment/moment.js"),a=s.n(r),i=s("./client/lib/analytics/index.js"),c=s("./client/reader/stats.js"),l=s("./client/state/document-head/actions.js");function d(e,t,s){i.default.pageView.record(e,t),i.default.mc.bumpStat("reader_views","full_post"===s?s:s+"_load")}function p(e){if(e.query&&e.query.at){const t=a()(e.query.at);return t.isValid()?t.toISOString():null}return null}function m(e,t,s,n,o){i.default.ga.recordEvent(s,"Loaded Next Page","page",o),Object(c.recordTrack)("calypso_reader_infinite_scroll_performed",{path:e,page:o,section:n}),i.default.pageView.record(e,t),i.default.mc.bumpStat({newdash_pageviews:"scroll",reader_views:n+"_scroll"})}function u(e){i.default.mc.bumpStat("reader_views",e+"_load_new"),i.default.ga.recordEvent("Reader","Clicked Load New Posts",e),Object(c.recordTrack)("calypso_reader_load_new_posts",{section:e})}function h(e,t){e.store.dispatch(Object(l.c)(o.a.translate("%s ‹ Reader",{args:t})))}},"./client/reader/controller.js":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./node_modules/page/page.js"),a=s.n(r),i=s("./packages/i18n-calypso/dist/esm/index.js"),c=s.n(i),l=s("./client/lib/abtest/index.js"),d=s("./client/lib/route/index.js"),p=s("./node_modules/lodash/lodash.js"),m=s("./node_modules/lru/index.js"),u=s.n(m);const h=new Set,b=e=>h.has(e);var f=s("./client/lib/wp/browser.js");const g=new u.a(10);var _=function(e){let t=g.get(e);return t||(t=function(e){const t="feed-lookup-".concat(e);return b(t)?g.get(e):f.a.undocumented().discoverFeed({url:e})}(e).then(function(e){if(!Object(p.isEmpty)(e.feeds)){const t=Object(p.head)(e.feeds);if(!Object(p.isEmpty)(t.feed_ID))return t.feed_ID}}),g.set(e,t),t)},j=s("./client/reader/controller-helper.js"),y=s("./client/reader/feed-error/index.jsx"),x=s("./node_modules/react-redux/es/index.js"),v=s("./client/reader/components/reader-blank-suggestions/index.js"),k=s("./client/reader/stream/index.jsx"),w=s("./client/components/card/compact.jsx"),E=s("./client/components/search/index.jsx"),O=s("./client/reader/stats.js"),C=s("./client/reader/search-stream/suggestion.jsx"),S=s("./client/reader/search-stream/suggestion-provider.jsx"),N=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),I=s.n(N),P=s("./client/components/gridicon/index.jsx"),T=s("./node_modules/redux/es/redux.js"),R=s("./client/components/data/query-preferences/index.jsx"),D=s("./client/state/preferences/actions.js"),K=s("./client/state/preferences/selectors.js"),L=s("./client/state/ui/guided-tours/contexts.js");var M=Object(x.b)(e=>({isNewReader:Object(K.b)(e,"is_new_reader"),isNewUser:Object(L.l)(2*L.a)(e)}),e=>Object(T.b)({dismiss:()=>(Object(O.recordTrack)("calypso_reader_following_intro_dismiss"),Object(D.b)("is_new_reader",!1)),handleManageLinkClick:()=>(Object(O.recordTrack)("calypso_reader_following_intro_link_clicked"),Object(D.b)("is_new_reader",!1))},e))(Object(i.localize)(class extends o.a.Component{constructor(){var e;super(...arguments),e=this,I()(this,"recordRenderTrack",function(){!0===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props).isNewReader&&Object(O.recordTrack)("calypso_reader_following_intro_render")})}componentDidMount(){this.recordRenderTrack()}componentDidUpdate(e){this.props.isNewReader!==e.isNewReader&&this.recordRenderTrack()}render(){const e=this.props,t=e.isNewReader,s=e.translate,n=e.dismiss,r=e.isNewUser;if(!t||!r)return null;const a=o.a.createElement("a",{onClick:this.props.handleManageLinkClick,href:"/following/manage"});return o.a.createElement("header",{className:"following__intro"},o.a.createElement(R.a,null),o.a.createElement("div",{className:"following__intro-header"},o.a.createElement("div",{className:"following__intro-copy"},o.a.createElement("span",null,s("{{strong}}Welcome!{{/strong}} Reader is a custom magazine. {{link}}Follow your favorite sites{{/link}} and their latest posts will appear here. {{span}}Read, like, and comment in a distraction-free environment.{{/span}}",{components:{link:a,strong:o.a.createElement("strong",null),span:o.a.createElement("span",{className:"following__intro-copy-hidden"})}}))),o.a.createElement("div",{className:"following__intro-character"}),o.a.createElement("button",{className:"following__intro-close",onClick:n,title:s("Close"),"aria-label":s("Close")},o.a.createElement(P.a,{icon:"cross-circle",className:"following__intro-close-icon",title:s("Close")}),o.a.createElement("span",{className:"following__intro-close-icon-bg"}))))}})),A=s("./client/config/index.js"),q=s("./client/reader/search/utils.js"),U=s("./client/components/banner/index.jsx"),F=s("./client/state/current-user/selectors.js"),B=s("./client/components/section-header/index.jsx"),z=s("./client/components/button/index.jsx");s("./client/reader/following/style.scss");function W(e){Object(O.recordTrack)("calypso_reader_search_from_following",{query:e}),""!==Object(p.trim)(e)&&a()("/read/search?q="+encodeURIComponent(e)+"&focus=1")}const H=new Date("2018-11-07T00:00:00");var V=Object(x.b)(e=>({userInUSA:"US"===Object(F.c)(e)}))(Object(S.a)(Object(i.localize)(e=>{const t=e.suggestions&&Object(p.initial)(Object(p.flatMap)(e.suggestions,e=>[o.a.createElement(C.a,{suggestion:e.text,source:"following",railcar:e.railcar}),", "])),s=Object(q.a)(),n=new Date,r=e.userInUSA&&n<H,a=e.translate;return o.a.createElement(k.a,e,A.a.isEnabled("reader/following-intro")&&!r&&o.a.createElement(M,null),r&&o.a.createElement(U.a,{className:"following__reader-vote",title:"Election Day: Tuesday November 6th",callToAction:"How to vote",description:"Remember to vote.",dismissPreferenceName:"reader-vote-prompt",event:"reader-vote-prompt",href:"https://www.usa.gov/election-office",icon:"star"}),o.a.createElement(w.a,{className:"following__search"},o.a.createElement(E.a,{onSearch:W,delaySearch:!0,delayTimeout:500,placeholder:s})),o.a.createElement(v.a,{suggestions:t}),o.a.createElement(B.a,{label:a("Followed Sites")},o.a.createElement(z.a,{primary:!0,compact:!0,className:"following__manage",href:"/following/manage"},a("Manage"))))}))),G=s("./client/reader/route/index.js"),X=s("./client/sections-helper.js"),J=s("./client/components/async-load/index.jsx");s.d(t,"f",function(){return oe}),s.d(t,"i",function(){return re}),s.d(t,"g",function(){return ae}),s.d(t,"m",function(){return ie}),s.d(t,"e",function(){return ce}),s.d(t,"h",function(){return le}),s.d(t,"k",function(){return de}),s.d(t,"l",function(){return pe}),s.d(t,"d",function(){return me}),s.d(t,"b",function(){return ue}),s.d(t,"c",function(){return he}),s.d(t,"a",function(){return be}),s.d(t,"j",function(){return fe});const Q=[];let $=null;function Y(e){return!!e.lastRoute}var Z=function(e){s.e(378).then(s.bind(null,"./client/reader/sidebar/index.jsx")).then(function(t){e(t.default)})},ee=function(e){Promise.all([s.e(7),s.e(168)]).then(s.bind(null,"./client/reader/feed-stream/index.jsx")).then(function(t){e(t.default)})},te=function(e){Promise.all([s.e(7),s.e(171)]).then(s.bind(null,"./client/reader/site-stream/index.jsx")).then(function(t){e(t.default)})},se=function(e){s.e(172).then(s.bind(null,"./client/reader/team/main.jsx")).then(function(t){e(t.default)})};const ne={initAbTests(e,t){Q.forEach(e=>Object(l.a)(e)),t()},prettyRedirects(e,t){let s;if(e.params.blog_id?s=Object(G.d)(e.params.blog_id):e.params.feed_id&&(s=Object(G.c)(e.params.feed_id)),s)return a.a.redirect(s);t()},legacyRedirects(e,t){const s=/^\/read\/blog\/feed\/([0-9]+)$/i,n=/^\/read\/post\/feed\/([0-9]+)\/([0-9]+)$/i,o=/^\/read\/blog\/id\/([0-9]+)$/i,r=/^\/read\/post\/id\/([0-9]+)\/([0-9]+)$/i;e.path.match(s)?a.a.redirect("/read/feeds/".concat(e.params.feed_id)):e.path.match(n)?a.a.redirect("/read/feeds/".concat(e.params.feed_id,"/posts/").concat(e.params.post_id)):e.path.match(o)?a.a.redirect("/read/blogs/".concat(e.params.blog_id)):e.path.match(r)&&a.a.redirect("/read/blogs/".concat(e.params.blog_id,"/posts/").concat(e.params.post_id)),t()},updateLastRoute(e,t){$&&(e.lastRoute=$),$=e.path,t()},incompleteUrlRedirects(e,t){let s;if(e.path.match(/^\/read\/feeds\/([0-9]+)\/posts$/i)?s="/read/feeds/".concat(e.params.feed_id):e.path.match(/^\/read\/blogs\/([0-9]+)\/posts$/i)&&(s="/read/blogs/".concat(e.params.blog_id)),s)return a.a.redirect(s);t()},preloadReaderBundle(e,t){Object(X.c)("reader"),t()},sidebar(e,t){e.secondary=o.a.createElement(J.a,{require:Z,path:e.path}),t()},unmountSidebar(e,t){t()},following(e,t){const s=Object(d.i)(e.path),n=Object(j.a)(e);Object(j.c)(s,"Reader > Following","following"),Object(O.recordTrack)("calypso_reader_following_loaded"),Object(j.b)(e,c.a.translate("Following")),e.primary=o.a.createElement(V,{key:"following",listName:c.a.translate("Followed Sites"),streamKey:"following",startDate:n,recsStreamKey:"custom_recs_posts_with_images",showPrimaryFollowButtonOnCards:!1,trackScrollPage:j.d.bind(null,s,"Reader > Following","Reader","following"),onUpdatesShown:j.e.bind(null,"following")}),t()},feedDiscovery(e,t){e.params.feed_id.match(/^\d+$/)?t():_(e.params.feed_id).then(function(e){a.a.redirect("/read/feeds/".concat(e))}).catch(function(){!function(e,t){e.primary=o.a.createElement(y.a),t()}(e)})},feedListing(e,t){const s=e.params.feed_id,n="Reader > Feed > "+s;Object(j.c)("/read/feeds/:feed_id",n,"blog"),Object(O.recordTrack)("calypso_reader_blog_preview",{feed_id:s}),e.primary=o.a.createElement(J.a,{require:ee,key:"feed-"+s,streamKey:"feed:"+s,feedId:+s,trackScrollPage:j.d.bind(null,"/read/feeds/:feed_id",n,"Reader","blog"),onUpdatesShown:j.e.bind(null,"blog"),showPrimaryFollowButtonOnCards:!1,suppressSiteNameLink:!0,showBack:Y(e)}),t()},blogListing(e,t){const s=e.params.blog_id,n="Reader > Site > "+s,r="site:"+s;Object(j.c)("/read/blogs/:blog_id",n,"blog"),Object(O.recordTrack)("calypso_reader_blog_preview",{blog_id:e.params.blog_id}),e.primary=o.a.createElement(J.a,{require:te,key:"site-"+s,streamKey:r,siteId:+s,trackScrollPage:j.d.bind(null,"/read/blogs/:blog_id",n,"Reader","blog"),onUpdatesShown:j.e.bind(null,"blog"),showPrimaryFollowButtonOnCards:!1,suppressSiteNameLink:!0,showBack:Y(e)}),t()},readA8C(e,t){const s=Object(d.i)(e.path),n=Object(j.a)(e);Object(j.c)(s,"Reader > A8C","a8c"),Object(j.b)(e,"Automattic"),e.primary=o.a.createElement(J.a,{require:se,key:"read-a8c",className:"is-a8c",listName:"Automattic",streamKey:"a8c",startDate:n,trackScrollPage:j.d.bind(null,s,"Reader > A8C","Reader","a8c"),showPrimaryFollowButtonOnCards:!1,onUpdatesShown:j.e.bind(null,"a8c")}),t()}},oe=ne.initAbTests,re=ne.prettyRedirects,ae=ne.legacyRedirects,ie=ne.updateLastRoute,ce=ne.incompleteUrlRedirects,le=ne.preloadReaderBundle,de=ne.sidebar,pe=ne.unmountSidebar,me=ne.following,ue=ne.feedDiscovery,he=ne.feedListing,be=ne.blogListing,fe=ne.readA8C},"./client/reader/conversations/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/page/page.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./client/lib/route/index.js"),c=s("./client/reader/stats.js"),l=s("./client/components/async-load/index.jsx"),d=s("./client/reader/controller-helper.js"),p=function(e){s.e(167).then(s.bind(null,"./client/reader/conversations/stream.js")).then(function(t){e(t.default)})};function m(e,t){const s=Object(i.i)(e.path);Object(d.c)(s,"Reader > Conversations","conversations"),Object(c.recordTrack)("calypso_reader_conversations_viewed");const n=d.d.bind(null,"/read/conversations","Reader > Conversations","Reader","conversations");e.primary=a.a.createElement(l.a,{require:p,key:"conversations",title:"Conversations",streamKey:"conversations",trackScrollPage:n}),t()}var u=function(e){s.e(167).then(s.bind(null,"./client/reader/conversations/stream.js")).then(function(t){e(t.default)})};function h(e,t){const s=Object(i.i)(e.path),n="conversations-a8c";Object(d.c)(s,"Reader > Conversations > Automattic",n),Object(c.recordTrack)("calypso_reader_conversations_automattic_viewed");const o=d.d.bind(null,"/read/conversations/a8c","Reader > Conversations > Automattic","Reader",n);e.primary=a.a.createElement(l.a,{require:u,key:"conversations",title:"Conversations @ Automattic",streamKey:"conversations-a8c",trackScrollPage:o}),t()}var b=s("./client/reader/controller.js"),f=s("./client/controller/index.web.js");t.default=function(){o()("/read/conversations",b.h,b.m,b.f,b.k,m,f.c,f.f),o()("/read/conversations/a8c",b.h,b.m,b.f,b.k,h,f.c,f.f)}},"./client/reader/discover/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/page/page.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./client/config/index.js"),c=s("./client/lib/route/index.js"),l=s("./client/reader/stats.js"),d=s("./client/reader/controller-helper.js"),p=s("./client/components/async-load/index.jsx");var m=function(e){Promise.all([s.e(7),s.e(171)]).then(s.bind(null,"./client/reader/site-stream/index.jsx")).then(function(t){e(t.default)})};const u={discover(e,t){const s=Object(i.a)("discover_blog_id"),n=Object(c.i)(e.path),o="Reader > Site > "+s,r="site:".concat(s),u="featured:".concat(s);Object(d.c)(n,o,"discover"),Object(l.recordTrack)("calypso_reader_discover_viewed"),e.primary=a.a.createElement(p.a,{require:m,key:"site-"+s,streamKey:r,featuredStreamKey:u,siteId:+s,title:"Discover",trackScrollPage:d.d.bind(null,n,o,"Reader","discover"),onUpdatesShown:d.e.bind(null,"discover"),suppressSiteNameLink:!0,showPrimaryFollowButtonOnCards:!1,isDiscoverStream:!0,showBack:!1,className:"is-discover-stream is-site-stream"}),t()}};const h=u.discover;var b=s("./client/reader/controller.js"),f=s("./client/controller/index.web.js");t.default=function(){o()("/discover",b.h,b.m,b.f,b.k,h,f.c,f.f)}},"./client/reader/feed-error/index.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/prop-types/index.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),l=s("./packages/i18n-calypso/dist/esm/index.js"),d=s.n(l),p=s("./client/reader/components/reader-main/index.jsx"),m=s("./client/components/mobile-back-to-sidebar/index.jsx"),u=s("./client/components/empty-content/index.jsx"),h=s("./client/reader/stats.js");class b extends c.a.Component{constructor(){super(...arguments),o()(this,"recordAction",()=>{Object(h.recordAction)("clicked_search_on_404"),Object(h.recordGaEvent)("Clicked Search on 404"),Object(h.recordTrack)("calypso_reader_search_on_feed_error_clicked")}),o()(this,"recordSecondaryAction",()=>{Object(h.recordAction)("clicked_discover_on_404"),Object(h.recordGaEvent)("Clicked Discover on 404"),Object(h.recordTrack)("calypso_reader_discover_on_feed_error_clicked")})}render(){const e=c.a.createElement("a",{className:"empty-content__action button is-primary",onClick:this.recordAction,href:"/read/search"},this.props.translate("Find Sites to Follow")),t=c.a.createElement("a",{className:"empty-content__action button",onClick:this.recordSecondaryAction,href:"/discover"},this.props.translate("Explore Discover"));return c.a.createElement(p.a,null,c.a.createElement(m.a,null,c.a.createElement("h1",null,this.props.sidebarTitle)),c.a.createElement(u.a,{action:e,secondaryAction:t,title:this.props.message,illustration:"/calypso/images/illustrations/illustration-404.svg",illustrationWidth:500}))}}o()(b,"defaultProps",{message:d.a.translate("Sorry, we can't find that site.")}),b.propTypes={sidebarTitle:a.a.string},t.a=Object(l.localize)(b)},"./client/reader/following/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/page/page.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./packages/i18n-calypso/dist/esm/index.js"),c=s.n(i),l=s("./client/lib/route/index.js"),d=s("./client/reader/controller-helper.js"),p=s("./client/components/async-load/index.jsx");var m=function(e){Promise.all([s.e(181),s.e(195),s.e(380),s.e(32),s.e(31)]).then(s.bind(null,"./client/reader/following-manage/index.jsx")).then(function(t){e(t.default)})};const u={followingManage(e,t){const s=Object(l.i)(e.path),n=e.query,o=n.q,r=n.s,i=n.sort,u=n.showMoreResults;Object(d.b)(e,c.a.translate("Manage Followed Sites")),Object(d.c)(s,"Reader > Manage Followed Sites","following_manage"),e.primary=a.a.createElement(p.a,{require:m,key:"following-manage",initialFollowUrl:e.query.follow,sitesQuery:o,subsQuery:r,showMoreResults:Boolean(u),subsSortOrder:i,context:e}),t()}};const h=u.followingManage;var b=s("./client/reader/controller.js"),f=s("./client/controller/index.web.js");t.default=function(){o()("/following/*",b.f),o()("/following/manage",b.m,b.k,h,f.c,f.f),o()("/following/edit*","/following/manage")}},"./client/reader/following/style.scss":function(e,t,s){},"./client/reader/full-post/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/page/page.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/lodash/lodash.js"),c=s("./client/reader/controller-helper.js"),l=s("./client/components/async-load/index.jsx");const d="Reader",p=()=>Object(i.defer)(()=>{"undefined"==typeof window||window.location.hash||window.scrollTo(0,0)});var m=function(e){s.e(4).then(s.bind(null,"./client/blocks/reader-full-post/index.jsx")).then(function(t){e(t.default)})};function u(e,t){const s=e.params.blog,n=e.params.post,r=d+" > Blog Post > "+s+" > "+n;let i;e.query.ref_blog&&e.query.ref_post&&(i={blogId:e.query.ref_blog,postId:e.query.ref_post}),Object(c.c)("/read/blogs/:blog_id/posts/:post_id",r,"full_post"),e.primary=a.a.createElement(l.a,{require:m,blogId:s,postId:n,referral:i,referralStream:e.lastRoute,onClose:function(){o.a.back(e.lastRoute||"/")}}),p(),t()}var h=function(e){s.e(4).then(s.bind(null,"./client/blocks/reader-full-post/index.jsx")).then(function(t){e(t.default)})};function b(e,t){const s=e.params.feed,n=e.params.post,r=d+" > Feed Post > "+s+" > "+n;Object(c.c)("/read/feeds/:feed_id/posts/:feed_item_id",r,"full_post"),e.primary=a.a.createElement(l.a,{require:h,feedId:s,postId:n,onClose:function(){o.a.back(e.lastRoute||"/")},referralStream:e.lastRoute}),p(),t()}var f=s("./client/reader/controller.js"),g=s("./client/controller/index.web.js");t.default=function(){o()("/read/feeds/:feed/posts/:post",f.m,f.l,b,g.c,g.f),o()("/read/blogs/:blog/posts/:post",f.m,f.l,u,g.c,g.f)}},"./client/reader/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/page/page.js"),o=s.n(n),r=s("./client/reader/controller.js"),a=s("./client/config/index.js"),i=s("./client/controller/index.web.js");s("./client/reader/style.scss");function c(e,t){e.params.team="a8c",t()}t.default=function(){a.a.isEnabled("reader")&&(o()("/",r.h,r.f,r.m,r.k,r.d,i.c,i.f),o()("/read/following","/"),o()("/read","/"),o()("/read/blogs","/"),o()("/read/feeds","/"),o()("/read/blog","/"),o()("/read/post","/"),o()("/read/feed","/"),o()("/read/*",r.h,r.f),o()("/read/blog/feed/:feed_id",r.g),o()("/read/feeds/:feed_id/posts",r.e),o()("/read/feeds/:feed_id",r.m,r.i,r.k,r.b,r.c,i.c,i.f),o()("/read/blog/id/:blog_id",r.g),o()("/read/blogs/:blog_id/posts",r.e),o()("/read/blogs/:blog_id",r.m,r.i,r.k,r.a,i.c,i.f),o()("/read/post/feed/:feed_id/:post_id",r.g),o()("/read/post/id/:blog_id/:post_id",r.g),o()("/recommendations","/read/search")),o()("/read/a8c",r.m,r.k,c,r.j,i.c,i.f)}},"./client/reader/liked-stream/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/page/page.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./client/lib/route/index.js"),c=s("./client/reader/controller-helper.js"),l=s("./node_modules/@babel/runtime/helpers/extends.js"),d=s.n(l),p=s("./packages/i18n-calypso/dist/esm/index.js"),m=s("./client/reader/stream/index.jsx"),u=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),h=s.n(u),b=s("./client/components/empty-content/index.jsx"),f=s("./client/reader/stats.js"),g=s("./client/reader/discover/helper.js");var _=Object(p.localize)(class extends a.a.Component{constructor(){super(...arguments),h()(this,"recordAction",()=>{Object(f.recordAction)("clicked_following_on_empty_likes"),Object(f.recordGaEvent)("Clicked Following on Empty Like Stream"),Object(f.recordTrack)("calypso_reader_following_on_empty_like_stream_clicked")}),h()(this,"recordSecondaryAction",()=>{Object(f.recordAction)("clicked_discover_on_empty_likes"),Object(f.recordGaEvent)("Clicked Discover on Empty Like Stream"),Object(f.recordTrack)("calypso_reader_discover_on_empty_like_stream_clicked")})}shouldComponentUpdate(){return!1}render(){const e=a.a.createElement("a",{className:"empty-content__action button is-primary",onClick:this.recordAction,href:"/"},this.props.translate("Back to Following")),t=Object(g.h)()?a.a.createElement("a",{className:"empty-content__action button",onClick:this.recordSecondaryAction,href:"/discover"},this.props.translate("Explore Discover")):null;return a.a.createElement(b.a,{title:this.props.translate("No Likes Yet"),line:this.props.translate("Posts that you like will appear here."),action:e,secondaryAction:t,illustration:"/calypso/images/illustrations/illustration-empty-results.svg",illustrationWidth:400})}}),j=s("./client/components/data/document-head/index.jsx");const y=Object(p.translate)("My Likes"),x=Object(p.translate)("%s ‹ Reader",{args:y});var v=class extends a.a.Component{render(){const e=a.a.createElement(_,null);return a.a.createElement(m.a,d()({},this.props,{listName:y,emptyContent:e,showFollowInHeader:!0}),a.a.createElement(j.a,{title:x}))}};const k={likes(e,t){const s=Object(i.i)(e.path);Object(c.c)(s,"Reader > My Likes","postlike"),e.primary=a.a.createElement(v,{key:"liked",streamKey:"likes",trackScrollPage:c.d.bind(null,s,"Reader > My Likes","Reader","postlike"),onUpdatesShown:c.e.bind(null,"postlike")}),t()}};const w=k.likes;var E=s("./client/reader/controller.js"),O=s("./client/controller/index.web.js");t.default=function(){o()("/activities/likes",E.h,E.f,E.m,E.k,w,O.c,O.f)}},"./client/reader/list-gap/style.scss":function(e,t,s){},"./client/reader/list/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/page/page.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./client/reader/stats.js"),c=s("./client/reader/controller-helper.js"),l=s("./client/components/async-load/index.jsx");var d=function(e){s.e(170).then(s.bind(null,"./client/reader/list-stream/index.jsx")).then(function(t){e(t.default)})};const p={listListing(e,t){const s="Reader > List > "+e.params.user+" - "+e.params.list,n="list:"+JSON.stringify({owner:e.params.user,slug:e.params.list});Object(c.c)("/read/list/:owner/:slug",s,"list"),Object(i.recordTrack)("calypso_reader_list_loaded",{list_owner:e.params.user,list_slug:e.params.list}),e.primary=a.a.createElement(l.a,{require:d,key:"tag-"+e.params.user+"-"+e.params.list,streamKey:n,owner:encodeURIComponent(e.params.user),slug:encodeURIComponent(e.params.list),showPrimaryFollowButtonOnCards:!1,trackScrollPage:c.d.bind(null,"/read/list/:owner/:slug",s,"Reader","list"),onUpdatesShown:c.e.bind(null,"list")}),t()}};const m=p.listListing;var u=s("./client/reader/controller.js"),h=s("./client/controller/index.web.js");t.default=function(){o()("/read/list/:user/:list",u.m,u.k,m,h.c,h.f)}},"./client/reader/search-stream/search-stream-header.jsx":function(e,t,s){"use strict";s.d(t,"a",function(){return h});var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/prop-types/index.js"),a=s.n(r),i=s("./node_modules/react/index.js"),c=s.n(i),l=s("./packages/i18n-calypso/dist/esm/index.js"),d=s("./node_modules/lodash/lodash.js"),p=s("./client/components/section-nav/tabs.jsx"),m=s("./client/components/section-nav/index.jsx"),u=s("./client/components/section-nav/item.jsx");const h={POSTS:"posts",SITES:"sites"};class b extends i.Component{constructor(){super(...arguments),o()(this,"handlePostsSelected",()=>this.props.onSelection(h.POSTS)),o()(this,"handleSitesSelected",()=>this.props.onSelection(h.SITES))}render(){const e=this.props,t=e.translate,s=e.wideDisplay,n=e.selected;return s?c.a.createElement("ul",{className:"search-stream__headers"},c.a.createElement("li",{className:"search-stream__post-header"},t("Posts")),c.a.createElement("li",{className:"search-stream__site-header"},t("Sites"))):c.a.createElement("div",{className:"search-stream__header"},c.a.createElement(m.a,null,c.a.createElement(p.a,null,c.a.createElement(u.a,{key:"posts-nav",selected:n===h.POSTS,onClick:this.handlePostsSelected},t("Posts")),c.a.createElement(u.a,{key:"sites-nav",selected:n===h.SITES,onClick:this.handleSitesSelected},t("Sites")))))}}o()(b,"propTypes",{translate:a.a.func,wideDisplay:a.a.bool,selected:a.a.oneOf(Object(d.values)(h)),onSelection:a.a.func}),o()(b,"defaultProps",{onSelection:d.noop,selected:h.posts}),t.b=Object(l.localize)(b)},"./client/reader/search-stream/suggestion-provider.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/react-redux/es/index.js"),a=s("./node_modules/react/index.js"),i=s.n(a),c=s("./node_modules/lodash/lodash.js"),l=s("./client/lib/i18n-utils/browser.js");const d={en:["Anime","Art","Astrology","Batman","Beach","Beautiful","Beauty","Bloom","Books","Chickens","Cocktails","Colorado","Community Pool","Craft Beer","Cute","Delicious","DIY","Dogs","Elasticsearch","Fabulous","Farm","Fashion","Fitness","Flowers","Food","Funny","Garden","Groovy","Happy Place","Health","Hiking","Homeschool","Homesteading","Iceland","Inspiration","Juno","Life","Love","Makeup","Mathematics","Michigan","Monkeys","Motivation","Mountain Biking","Overwatch","Parenting","Philosophy","Photography","Poetry","Politics","Pride","Psychology","Recipe","Red Sox","Robots","Scenic","Sharks","Sous vide","Sunday Brunch","Technology","Tibet","Toddlers","Travel Backpacks","Travel","Vegan","Woodworking","WordPress","Writing","Yoga","Zombies"],es:["amor","arte","cine","fotografia","libros","literatura","moda","musica","poesia","viajes"],fr:["amour","art","beauté","beauty","fashion","lifestyle","livres","maquillage","mode","photo","photographie","recette","vegan","voyage"],de:["beauty","bücher","diy","essen","fashion","food","foto","kinder","mode","politik","reisen","vegan"]};var p=s("./client/state/selectors/get-reader-followed-tags.js"),m=s("./client/lib/analytics/index.js");function u(e,t,s){return{text:e,railcar:{railcar:m.default.tracks.createRandomId()+"-"+s,ui_algo:t,ui_position:s,rec_result:e}}}function h(e,t){const s=function(e,t){return t?t.length<=e?[]:Object(c.map)(Object(c.sampleSize)(t,e),(e,t)=>u((e.displayName||e.slug).replace(/-/g," "),"read:search-suggestions:tags/1",t)):null}(e,t);return null===s?null:s.length?s:function(e){const t=Object(l.f)().split("-")[0];return d[t]?Object(c.map)(Object(c.sampleSize)(d[t],e),(e,t)=>u(e,"read:search-suggestions:picks/1",t)):null}(e)}t.a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:3;return class extends a.Component{constructor(){super(...arguments),o()(this,"memoizedSuggestions",null),o()(this,"getFirstSuggestions",e=>this.memoizedSuggestions?this.memoizedSuggestions:this.memoizedSuggestions=h(t,Object(p.a)(e))),o()(this,"EnhancedComponent",Object(r.b)(e=>({suggestions:this.getFirstSuggestions(e)}))(e))}componentWillUnmount(){this.memoizedSuggestions=null}render(){const e=this.EnhancedComponent;return i.a.createElement(e,this.props)}}}},"./client/reader/search-stream/suggestion.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/prop-types/index.js"),c=s.n(i),l=s("./node_modules/qs/lib/index.js"),d=s("./client/reader/stats.js"),p=s("./client/lib/analytics/index.js");class m extends r.Component{constructor(){super(...arguments),o()(this,"handleSuggestionClick",()=>{const e=this.props,t=e.suggestion,s=e.source,n=e.railcar;Object(d.recordTrack)("calypso_reader_search_suggestion_click",{suggestion:t,source:s}),Object(d.recordTracksRailcarInteract)("search_suggestion_click",n)})}componentDidMount(){const e=this.props.railcar;p.default.tracks.recordEvent("calypso_traintracks_render",e)}render(){const e=this.props,t=e.suggestion,s={isSuggestion:1,q:t,sort:e.sort},n="/read/search?"+Object(l.stringify)(s);return a.a.createElement("a",{onClick:this.handleSuggestionClick,href:n},t)}}o()(m,"propTypes",{suggestion:c.a.string.isRequired,source:c.a.string,sort:c.a.string,railcar:c.a.object}),t.a=m},"./client/reader/search/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/page/page.js"),o=s.n(n),r=s("./node_modules/react/index.js"),a=s.n(r),i=s("./node_modules/qs/lib/index.js"),c=s("./client/reader/stats.js"),l=s("./client/reader/controller-helper.js"),d=s("./client/components/async-load/index.jsx"),p=s("./client/reader/search-stream/search-stream-header.jsx");function m(e,t){let s="/read/search";e&&(s+="?"+Object(i.stringify)({q:e,sort:t})),o.a.replace(s)}var u=function(e){Promise.all([s.e(181),s.e(195),s.e(380),s.e(32),s.e(169)]).then(s.bind(null,"./client/reader/search-stream/index.jsx")).then(function(t){e(t.default)})};const h={search:function(e,t){const s=e.query,n=s.sort,o=void 0===n?"relevance":n,r=s.q,i=s.show,h=void 0===i?p.a.POSTS:i,b=r;let f,g=!1;b?(f="search:"+JSON.stringify({sort:o,q:r}),g="1"===e.query.isSuggestion):f="custom_recs_posts_with_images",Object(l.c)("/read/search","Reader > Search","search"),b?Object(c.recordTrack)("calypso_reader_search_performed",{query:b,sort:o}):Object(c.recordTrack)("calypso_reader_search_loaded");const _=!b||"1"===e.query.focus;e.primary=a.a.createElement(d.a,{require:u,key:"search",streamKey:f,isSuggestion:g,query:b,sort:o,trackScrollPage:l.d.bind(null,"/read/search","Reader > Search","Reader","search"),onUpdatesShown:l.e.bind(null,"search"),showBack:!1,showPrimaryFollowButtonOnCards:!0,autoFocusInput:_,onQueryChange:function(e){m(e,"relevance"!==o?o:void 0)},onSortChange:function(e){m(b,"relevance"!==e?e:void 0)},searchType:h}),t()}};const b=h.search;var f=s("./client/reader/controller.js"),g=s("./client/controller/index.web.js");t.default=function(){o()("/read/search",f.h,f.m,f.k,b,g.c,g.f)}},"./client/reader/search/utils.js":function(e,t,s){"use strict";s.d(t,"a",function(){return r});var n=s("./packages/i18n-calypso/dist/esm/index.js"),o=s.n(n);function r(){return o.a.translate("Search")}},"./client/reader/stream/index.jsx":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=s.n(n),r=s("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=s.n(r),i=s("./node_modules/react-dom/index.js"),c=s.n(i),l=s("./node_modules/prop-types/index.js"),d=s.n(l),p=s("./node_modules/react/index.js"),m=s.n(p),u=s("./node_modules/classnames/index.js"),h=s.n(u),b=s("./node_modules/lodash/lodash.js"),f=s("./node_modules/react-redux/es/index.js"),g=s("./packages/i18n-calypso/dist/esm/index.js"),_=s("./client/reader/components/reader-main/index.jsx"),j=s("./client/components/empty-content/index.jsx"),y=s("./client/reader/stats.js");var x=Object(g.localize)(class extends m.a.Component{constructor(){super(...arguments),a()(this,"recordAction",()=>{Object(y.recordAction)("clicked_search_on_empty"),Object(y.recordGaEvent)("Clicked Search on EmptyContent"),Object(y.recordTrack)("calypso_reader_search_on_empty_stream_clicked")})}shouldComponentUpdate(){return!1}render(){const e=m.a.createElement("a",{className:"empty-content__action button is-primary",onClick:this.recordAction,href:"/read/search"},this.props.translate("Find Sites to Follow"));return m.a.createElement(j.a,{className:"stream__empty",title:this.props.translate("Welcome to Reader"),line:this.props.translate("Recent posts from sites you follow will appear here."),action:e,secondaryAction:null,illustration:"/calypso/images/reader/reader-welcome-illustration.svg",illustrationWidth:380})}}),v=s("./client/state/reader/streams/actions.js"),k=s("./client/state/selectors/get-reader-stream.js"),w=s("./client/reader/stream/utils.js"),E=s("./client/state/selectors/get-reader-follows.js");var O=function(e,t,s){if(!s)return!1;const n=Object(E.a)(e).length,o=Object(k.a)(e,t).items,r=Object(k.a)(e,s),a=r.items;return!r.lastPage&&!r.isRequesting&&(0===a.length||a.length<o.length*(w.a/Object(w.c)(n)))},C=s("./node_modules/@babel/runtime/helpers/slicedToArray.js"),S=s.n(C),N=s("./packages/tree-select/dist/esm/index.js");var I=s.n(N)()((e,t)=>{let s=t.streamKey,n=t.recsStreamKey;return[Object(k.a)(e,s).items,Object(k.a)(e,n).items,Object(E.a)(e)]},(e,t)=>{let s=S()(e,3),n=s[0],o=s[1],r=s[2],a=t.shouldCombine;return 0===n.length?[]:(o.length>0&&(n=Object(w.d)(n,o,Object(w.c)(r.length))),a&&(n=Object(w.b)(n)),n)},{getCacheKey:e=>{let t=e.streamKey,s=e.recsStreamKey,n=e.shouldCombine;return"".concat(t).concat(s).concat(n)}}),P=s("./client/reader/like-helper.jsx"),T=s("./client/state/posts/likes/actions.js"),R=s("./client/state/selectors/is-liked-post.js"),D=s("./client/components/list-end/index.js"),K=s("./client/components/infinite-list/index.jsx"),L=s("./client/components/mobile-back-to-sidebar/index.jsx"),M=s("./client/reader/stream/post-placeholder.jsx"),A=s("./client/components/gridicon/index.jsx"),q=s("./client/components/data/document-head/index.jsx"),U=s("./client/state/document-head/selectors.js"),F=s("./client/state/comments/selectors.js");s("./client/reader/update-notice/style.scss");class B extends m.a.PureComponent{constructor(){super(...arguments),a()(this,"handleClick",e=>{e.preventDefault(),this.props.onClick()})}render(){const e=this.props,t=e.count,s=e.cappedUnreadCount,n=e.translate,o=h()({"reader-update-notice":!0,"is-active":t>0});return m.a.createElement("button",{className:o,onClick:this.handleClick},m.a.createElement(q.a,{unreadCount:t}),m.a.createElement(A.a,{icon:"arrow-up",size:18}),n("%s new post","%s new posts",{args:[s],count:t}))}}a()(B,"propTypes",{streamKey:d.a.string,onClick:d.a.func,cappedUnreadCount:d.a.string}),a()(B,"defaultProps",{onClick:b.noop});var z=Object(f.b)((e,t)=>{const s=Object(k.a)(e,t.streamKey),n=s.pendingItems.items,o=s.pendingItems.items.length,r=Object(b.get)(n,[0,"comments"])?((e,t)=>Object(b.flatMap)(t,t=>Object(b.filter)(t.comments,s=>!Object(F.b)({state:e,siteId:t.blogId,commentId:s}))).length)(e,n):o;return{cappedUnreadCount:Object(U.a)(e),count:r}})(Object(g.localize)(B)),W=s("./client/lib/keyboard-shortcuts/index.js"),H=s("./client/lib/scroll-to/index.js"),V=s("./client/reader/xpost-helper.js"),G=s("./node_modules/@babel/runtime/helpers/extends.js"),X=s.n(G),J=s("./client/config/index.js"),Q=s("./client/components/card/index.jsx");var $=Object(g.localize)(class extends m.a.PureComponent{componentDidMount(){this.errors={unauthorized:this.props.translate("This is a post on a private site that you’re following, but not currently a member of. Please request membership to display these posts in Reader."),default:this.props.translate("An error occurred loading this post.")}}render(){const e=this.errors[this.props.post.errorCode||"default"]||this.errors.default;return 404===this.props.post.statusCode?null:m.a.createElement(Q.a,{tagName:"article",className:"reader__card is-error"},m.a.createElement("div",{className:"reader__post-header"},m.a.createElement("h1",{className:"reader__post-title"},m.a.createElement("div",{className:"reader__post-title-link"},m.a.createElement("span",{className:"reader__placeholder-text"},"Oops!")))),m.a.createElement("div",{className:"reader__post-excerpt"},m.a.createElement("p",null,e),J.a.isEnabled("reader/full-errors")?m.a.createElement("pre",null,JSON.stringify(this.props.post,null,"  ")):null))}});s("./client/reader/list-gap/style.scss");class Y extends m.a.Component{constructor(){super(...arguments),a()(this,"state",{isFilling:!1}),a()(this,"handleClick",()=>{const e=this.props,t=e.streamKey,s=e.gap;this.props.fillGap({streamKey:t,gap:s}),Object(y.recordAction)("fill_gap"),Object(y.recordGaEvent)("Clicked Fill Gap"),Object(y.recordTrack)("calypso_reader_filled_gap",{stream:t}),this.setState({isFilling:!0})})}render(){const e=h()({"reader-list-gap":!0,"is-filling":this.state.isFilling,"is-selected":this.props.selected}),t=this.props.translate;return m.a.createElement("div",{className:e},m.a.createElement("button",{type:"button",className:"button reader-list-gap__button",onClick:this.handleClick},t("Load More Posts")))}}a()(Y,"propTypes",{gap:d.a.object.isRequired,streamKey:d.a.string.isRequired,selected:d.a.bool});var Z=Object(g.localize)(Object(f.b)(null,{fillGap:v.a})(Y)),ee=s("./node_modules/url/url.js"),te=s.n(ee),se=s("./node_modules/component-closest/index.js"),ne=s.n(se),oe=s("./client/blocks/reader-avatar/index.jsx"),re=s("./client/state/reader/sites/selectors.js"),ae=s("./client/state/reader/feeds/selectors.js"),ie=s("./client/components/data/query-reader-site/index.jsx"),ce=s("./client/components/data/query-reader-feed/index.jsx"),le=s("./client/components/emojify/index.jsx");class de extends p.PureComponent{constructor(){super(...arguments),a()(this,"handleTitleClick",e=>{e.button>0||e.metaKey||e.controlKey||e.shiftKey||e.altKey||(e.preventDefault(),this.props.handleClick(this.props.xMetadata))}),a()(this,"handleCardClick",e=>{const t=c.a.findDOMNode(this);ne()(e.target,".should-scroll",t)&&setTimeout(function(){window.scrollTo(0,0)},100),ne()(e.target,".ignore-click",t)||ne()(e.target,"a",t)&&ne()(e.target,".reader__x-post",t)||e.metaKey||e.controlKey||e.shiftKey||e.altKey||e.defaultPrevented||(e.preventDefault(),this.props.handleClick(this.props.xMetadata))}),a()(this,"getSiteNameFromURL",e=>e&&"+".concat(te.a.parse(e).hostname.split(".")[0])),a()(this,"getDescription",e=>{let t;const s=this.getSiteNameFromURL(this.props.xMetadata.siteURL);return t=!!this.props.xMetadata.commentURL?this.props.translate("{{author}}%(authorFirstName)s{{/author}} {{label}}left a comment on %(siteName)s, cross-posted to{{/label}} {{blogNames/}}",{args:{siteName:s,authorFirstName:e},components:{author:m.a.createElement("span",{className:"reader__x-post-author"}),label:m.a.createElement("span",{className:"reader__x-post-label"}),blogNames:this.getXPostedToContent()}}):this.props.translate("{{author}}%(authorFirstName)s{{/author}} {{label}}cross-posted from %(siteName)s to{{/label}} {{blogNames/}}",{args:{siteName:s,authorFirstName:e},components:{author:m.a.createElement("span",{className:"reader__x-post-author"}),label:m.a.createElement("span",{className:"reader__x-post-label"}),blogNames:this.getXPostedToContent()}})}),a()(this,"getXPostedToContent",()=>{const e=this.props,t=e.postKey,s=e.translate,n=[{siteURL:this.props.post.site_URL,siteName:this.getSiteNameFromURL(this.props.post.site_URL)}];return t.xPostUrls&&Object(b.forEach)(t.xPostUrls,e=>{n.push({siteURL:e,siteName:this.getSiteNameFromURL(e)})}),Object(b.uniqBy)(n,"siteName").map((e,t,n)=>m.a.createElement("span",{className:"reader__x-post-site",key:e.siteURL+"-"+t},e.siteName,t+2<n.length&&m.a.createElement("span",null,", "),t+2===n.length&&m.a.createElement("span",null," ",s("and",{comment:"last conjunction in a list of blognames: (blog1, blog2,) blog3 _and_ blog4"})," ")))})}render(){const e=this.props,t=e.post,s=e.postKey,n=e.site,o=e.feed,r=e.translate,a=s.blogId,i=s.feedId,c=Object(b.get)(n,"icon.img"),l=Object(b.get)(o,"image"),d=h()({reader__card:!0,"is-x-post":!0,"is-selected":this.props.isSelected});let p=t.title;return(p=p.replace(/x-post:/i,""))||(p="(".concat(r("no title"),")")),m.a.createElement(Q.a,{tagName:"article",onClick:this.handleCardClick,className:d},m.a.createElement(oe.a,{siteIcon:c,feedIcon:l,author:t.author,onClick:this.handleTitleClick,isCompact:!0}),m.a.createElement("div",{className:"reader__x-post"},t.title&&m.a.createElement("h1",{className:"reader__post-title"},m.a.createElement("a",{className:"reader__post-title-link",onClick:this.handleTitleClick,href:t.URL,target:"_blank",rel:"noopener noreferrer"},m.a.createElement(le.a,null,p))),t.author&&m.a.createElement(le.a,null,this.getDescription(t.author.first_name))),i&&m.a.createElement(ce.a,{feedId:+i,includeMeta:!1}),a&&m.a.createElement(ie.a,{siteId:+a,includeMeta:!1}))}}a()(de,"propTypes",{post:d.a.object.isRequired,isSelected:d.a.bool.isRequired,xMetadata:d.a.object.isRequired,xPostedTo:d.a.array,handleClick:d.a.func.isRequired,translate:d.a.func.isRequired,postKey:d.a.object,site:d.a.object,feed:d.a.object});var pe=Object(f.b)((e,t)=>{const s=t.postKey,n=s.feedId,o=s.blogId;let r,a;return n?a=(r=Object(ae.a)(e,n))&&r.blog_ID?Object(re.a)(e,r.blog_ID):void 0:r=(a=Object(re.a)(e,o))&&a.feed_ID?Object(ae.a)(e,a.feed_ID):void 0,{feed:r,site:a}})(Object(g.localize)(de)),me=s("./client/reader/utils.js"),ue=s("./client/blocks/reader-related-card/index.jsx"),he=s("./client/components/button/index.jsx"),be=s("./client/state/reader/site-dismissals/actions.js"),fe=s("./client/reader/post-key.js"),ge=s("./client/components/data/query-reader-post/index.jsx"),_e=s("./client/state/reader/posts/selectors.js");function je(e,t){Object(y.recordTrackForPost)("calypso_reader_recommended_site_clicked",t,{recommendation_source:"in-stream",ui_position:e}),Object(y.recordAction)("in_stream_rec_site_click")}function ye(e,t){Object(y.recordTrackForPost)("calypso_reader_recommended_post_clicked",t,{recommendation_source:"in-stream",ui_position:e}),Object(y.recordAction)("in_stream_rec_post_click")}class xe extends m.a.PureComponent{render(){const e=this.props,t=e.posts,s=e.recommendations;return m.a.createElement("div",{className:"reader-stream__recommended-posts"},m.a.createElement(ge.a,{postKey:s[0]}),m.a.createElement(ge.a,{postKey:s[1]}),m.a.createElement("h1",{className:"reader-stream__recommended-posts-header"},m.a.createElement(A.a,{icon:"thumbs-up",size:18})," ",this.props.translate("Recommended Posts")),m.a.createElement("ul",{className:"reader-stream__recommended-posts-list"},Object(b.map)(t,(e,t)=>{const s=this.props.index+t;return m.a.createElement("li",{className:"reader-stream__recommended-posts-list-item",key:"".concat(t,"-").concat(e&&e.global_ID)},m.a.createElement("div",{className:"reader-stream__recommended-post-dismiss"},m.a.createElement(he.a,{borderless:!0,title:this.props.translate("Dismiss this recommendation"),onClick:()=>{!function(e,t,s){Object(y.recordTrackForPost)("calypso_reader_recommended_post_dismissed",s,{recommendation_source:"in-stream",ui_position:e}),Object(y.recordAction)("in_stream_rec_dismiss")}(s,this.props.streamKey,e),this.props.dismissPost({streamKey:this.props.streamKey,postKey:Object(fe.b)(e)})}},m.a.createElement(A.a,{icon:"cross",size:14}))),m.a.createElement(ue.a,{post:e,onPostClick:Object(b.partial)(ye,s),onSiteClick:Object(b.partial)(je,s),followSource:this.props.followSource}))})))}}a()(xe,"propTypes",{index:d.a.number,translate:d.a.func,recommendations:d.a.array});var ve=Object(f.b)((e,t)=>({posts:Object(_e.c)(e,t.recommendations)}),{dismissPost:be.a})(Object(g.localize)(xe)),ke=s("./client/blocks/reader-post-card/blocked.jsx"),we=s("./client/blocks/reader-post-card/index.jsx"),Ee=s("./client/reader/discover/helper.js");class Oe extends m.a.Component{constructor(){super(...arguments),a()(this,"onClick",e=>{let t;Object(b.get)(this.props,"discoverPost")&&(t=o()({},e,{referral:{blogId:Ee.a,postId:this.props.post.ID}})),this.props.handleClick&&this.props.handleClick({post:t||e})}),a()(this,"onCommentClick",()=>{Object(y.recordAction)("click_comments"),Object(y.recordGaEvent)("Clicked Post Comment Button"),Object(y.recordTrackForPost)("calypso_reader_post_comments_button_clicked",this.props.post),this.props.handleClick&&this.props.handleClick({post:this.props.post,comments:!0})})}render(){const e=this.props.post,t=e.feed_ID,s=e.site_ID,n=e.is_external,o=e.is_discover,r=Object(Ee.e)(this.props.post),a=!!r.postId;return m.a.createElement(we.a,{post:this.props.post,discoverPost:this.props.discoverPost,discoverSite:this.props.discoverSite,site:this.props.site,feed:this.props.feed,onClick:this.onClick,onCommentClick:this.onCommentClick,isSelected:this.props.isSelected,showPrimaryFollowButton:this.props.showPrimaryFollowButtonOnCards,followSource:this.props.followSource,showSiteName:this.props.showSiteName,isDiscoverStream:this.props.isDiscoverStream,postKey:this.props.postKey,compact:this.props.compact},t&&m.a.createElement(ce.a,{feedId:t,includeMeta:!1}),!n&&s&&m.a.createElement(ie.a,{siteId:+s,includeMeta:!1}),o&&m.a.createElement(ie.a,{siteId:r.blogId,includeMeta:!1}),a&&m.a.createElement(ge.a,{postKey:r}))}}a()(Oe,"displayName","ReaderPostCardAdapter");var Ce=Object(f.b)((e,t)=>{const s=t.post,n=Object(b.get)(s,"site_ID"),o=Object(b.get)(s,"is_external"),r=Object(b.get)(s,"feed_ID"),a=Object(b.get)(s,"is_discover"),i=t.isDiscoverStream;let c=void 0,l=void 0;if(a){const t=Object(Ee.e)(s);c=Object(_e.b)(e,t),i&&(l=Object(re.a)(e,t.blogId))}return{site:o?null:Object(re.a)(e,n),feed:Object(ae.a)(e,r),discoverPost:c,discoverSite:l}})(Oe),Se=s("./client/reader/follow-sources.jsx"),Ne=s("./client/blocks/reader-combined-card/index.jsx");function Ie(e){let t=e.post;const s={title:t&&t.site_name};return m.a.createElement("div",{className:"search-stream__recommendation-list-item",key:t&&t.global_ID},m.a.createElement(ue.a,{post:t,site:s,onSiteClick:function(){Object(y.recordTrackForPost)("calypso_reader_recommended_site_clicked",t,{recommendation_source:"empty-search"}),Object(y.recordAction)("search_page_rec_site_click")},onPostClick:function(){Object(y.recordTrackForPost)("calypso_reader_recommended_post_clicked",t,{recommendation_source:"empty-search"}),Object(y.recordAction)("search_page_rec_post_click")},followSource:Se.b}))}class Pe extends m.a.Component{shouldComponentUpdate(e){const t=Object(b.omit)(this.props,"handleClick"),s=Object(b.omit)(e,"handleClick");return!Object(me.b)(t,s)}render(){const e=this.props,t=e.post,s=e.postKey,n=e.followSource,o=e.isSelected,r=e.recsStreamKey,a=e.streamKey;if(s.isRecommendationBlock)return m.a.createElement(ve,{recommendations:s.recommendations,index:s.index,streamKey:r,followSource:Se.c});if(s.isCombination)return m.a.createElement(Ne.c,{postKey:s,index:this.props.index,onClick:this.props.handleClick,selectedPostKey:this.props.selectedPostKey,followSource:n,showFollowButton:this.props.showPrimaryFollowButtonOnCards,blockedSites:this.props.blockedSites});if(a.indexOf("rec")>-1)return m.a.createElement(Ie,{post:t,site:s});if(s.isGap)return m.a.createElement(Z,{gap:s,selected:o,handleClick:this.props.handleClick,streamKey:a});if(!t)return m.a.createElement(p.Fragment,null,m.a.createElement(ge.a,{postKey:s}),m.a.createElement(M.a,null));if("error"===t._state)return m.a.createElement($,{post:t});if((!t.is_external||t.is_jetpack)&&Object(b.includes)(this.props.blockedSites,+t.site_ID))return m.a.createElement(ke.a,{post:t});if(Object(V.b)(t)){const e=V.a.getXPostMetadata(t);return m.a.createElement(pe,X()({},Object(b.omit)(this.props,"store"),{xMetadata:e,post:t,postKey:s}))}return m.a.createElement(Ce,this.props)}}a()(Pe,"propTypes",{postKey:d.a.object.isRequired,isDiscoverStream:d.a.bool,handleClick:d.a.func,recStreamKey:d.a.string});var Te=Object(f.b)((e,t)=>({post:Object(_e.b)(e,t.postKey)}))(Pe),Re=s("./client/state/selectors/get-blocked-sites.js"),De=s("./client/state/ui/reader/card-expansions/actions.js"),Ke=s("./client/lib/redux-bridge/index.js");var Le=s("./client/lib/interval/index.js"),Me=s("./client/state/data-layer/wpcom/read/streams/index.js");s("./client/reader/stream/style.scss");const Ae=600,qe=46,Ue=new Map;class Fe extends m.a.Component{constructor(){var e;super(...arguments),e=this,a()(this,"_popstate",()=>{this.props.selectedPostKey&&"manual"!==history.scrollRestoration&&this.scrollToSelectedPost(!1)}),a()(this,"handleOpenSelection",()=>{Object(me.c)({store:this.props.streamKey,postKey:this.props.selectedPostKey})}),a()(this,"toggleLikeOnSelectedPost",()=>{const e=this.props.selectedPost;V.a.getXPostMetadata(e).postURL||Object(P.a)(e)&&this.toggleLikeAction(e.site_ID,e.ID)}),a()(this,"goToTop",()=>{const e=this.props,t=e.streamKey;e.updateCount>0?this.props.showUpdates({streamKey:t}):this.props.selectFirstItem({streamKey:t})}),a()(this,"selectNextItem",()=>{const e=this.props,t=e.streamKey,s=e.stream.items;if(this.props.selectedPostKey)return void this.props.selectNextItem({streamKey:t,items:s});const n=this.getVisibleItemIndexes();if(n&&n.length>0){let e=n[0].index;for(let t=0;t<n.length;t++){const o=n[t];if(o.bounds.top>0&&!s[o.index].isRecommendationBlock){e=o.index;break}}const o=s[e];if(o.isCombination){const e={postId:o.postIds[0],feedId:o.feedId,blogId:o.blogId};this.props.selectItem({streamKey:t,postKey:e})}const r=Object(b.findLast)(s,s[e],e);Object(fe.d)(r,this.props.selectedPostKey)?this.props.selectNextItem({streamKey:t,items:s}):this.props.selectItem({streamKey:t,postKey:r})}}),a()(this,"selectPrevItem",()=>{const e=this.props,t=e.streamKey,s=e.selectedPostKey,n=e.stream.items;s&&this.props.selectPrevItem({streamKey:t,items:n})}),a()(this,"poll",()=>{const e=this.props.streamKey;this.props.requestPage({streamKey:e,isPoll:!0})}),a()(this,"fetchNextPage",function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:e.props;const n=s.streamKey,o=s.stream,r=s.startDate;if(t.triggeredByScroll){const e=Ue.get(n)||0;Ue.set(n,e+1),s.trackScrollPage(e)}const a=o.pageHandle||{before:r};s.requestPage({streamKey:n,pageHandle:a})}),a()(this,"showUpdates",()=>{const e=this.props.streamKey;this.props.onUpdatesShown(),this.props.showUpdates({streamKey:e}),this._list&&this._list.scrollToTop()}),a()(this,"renderLoadingPlaceholders",()=>{const e=0===this.props.items.length?Me.a:Me.b;return Object(b.times)(e,e=>this.props.placeholderFactory?this.props.placeholderFactory({key:"feed-post-placeholder-"+e}):m.a.createElement(M.a,{key:"feed-post-placeholder-"+e}))}),a()(this,"getPostRef",e=>Object(fe.c)(e)),a()(this,"renderPost",(e,t)=>{const s=this.props,n=s.selectedPostKey,r=s.streamKey,a=!(!n||!Object(fe.d)(n,e)),i=this.getPostRef(e);return m.a.createElement(Te,{key:i,ref:i,isSelected:a,handleClick:t=>Object(me.c)(o()({},t,{postKey:e.isCombination?Object(fe.b)(t):e,streamKey:r})),postKey:e,suppressSiteNameLink:this.props.suppressSiteNameLink,showPostHeader:this.props.showPostHeader,showFollowInHeader:this.props.showFollowInHeader,showPrimaryFollowButtonOnCards:this.props.showPrimaryFollowButtonOnCards,isDiscoverStream:this.props.isDiscoverStream,showSiteName:this.props.showSiteNameOnCards,selectedPostKey:e.isCombination?n:void 0,followSource:this.props.followSource,blockedSites:this.props.blockedSites,streamKey:r,recsStreamKey:this.props.recsStreamKey,index:t,compact:this.props.useCompactCards})})}componentDidUpdate(e){let t=e.selectedPostKey,s=e.streamKey;s!==this.props.streamKey&&(this.props.resetCardExpansions(),this.props.viewStream({streamKey:s}),this.fetchNextPage({})),Object(fe.d)(t,this.props.selectedPostKey)||this.scrollToSelectedPost(!0),this.props.shouldRequestRecs&&this.props.requestPage({streamKey:this.props.recsStreamKey,pageHandle:this.props.recsStream.pageHandle})}scrollToSelectedPost(e){const t=c.a.findDOMNode(this).querySelector(".is-selected");if(t){const s=document.documentElement;t.focus();const n=(window.pageYOffset||s.scrollTop)-(s.clientTop||0),o=t.getBoundingClientRect(),r=parseInt(n+o.top+-80,10);e?Object(H.a)({x:0,y:r,duration:200}):window.scrollTo(0,r)}}componentDidMount(){const e=this.props.streamKey;this.props.resetCardExpansions(),this.props.viewStream({streamKey:e}),this.fetchNextPage({}),W.a.on("move-selection-down",this.selectNextItem),W.a.on("move-selection-up",this.selectPrevItem),W.a.on("open-selection",this.handleOpenSelection),W.a.on("like-selection",this.toggleLikeOnSelectedPost),W.a.on("go-to-top",this.goToTop),window.addEventListener("popstate",this._popstate),"scrollRestoration"in history&&(history.scrollRestoration="manual")}componentWillUnmount(){W.a.off("move-selection-down",this.selectNextItem),W.a.off("move-selection-up",this.selectPrevItem),W.a.off("open-selection",this.handleOpenSelection),W.a.off("like-selection",this.toggleLikeOnSelectedPost),W.a.off("go-to-top",this.goToTop),window.removeEventListener("popstate",this._popstate),"scrollRestoration"in history&&(history.scrollRestoration="auto")}toggleLikeAction(e,t){const s=Object(R.a)(Object(Ke.c)(),e,t);null!==s&&(s?this.props.unlikePost:this.props.likePost)(e,t,{source:"reader"})}getVisibleItemIndexes(){return this._list&&this._list.getVisibleItemIndexes({offsetTop:qe})}render(){const e=this.props,t=e.forcePlaceholders,s=e.lastPage,n=e.streamKey;let o=this.props,r=o.items,a=o.isRequesting;const i=0===r.length&&!a;let c,l;t&&(r=[],a=!0),i?(!(c=this.props.emptyContent)&&this.props.showDefaultEmptyContentIfMissing&&(c=m.a.createElement(x,null)),l=!1):(c=m.a.createElement(K.a,{ref:e=>this._list=e,className:"reader__content",items:r,lastPage:s,fetchingNextPage:a,guessedItemHeight:Ae,fetchNextPage:this.fetchNextPage,getItemRef:this.getPostRef,renderItem:this.renderPost,renderLoadingPlaceholders:this.renderLoadingPlaceholders}),l=!0);const d=Object(me.a)(n),p="search"!==d&&"custom_recs_posts_with_images"!==d,u=this.props.isMain?_.a:"div";return m.a.createElement(u,{className:h()("following",this.props.className)},p&&m.a.createElement(Le.e,{onTick:this.poll,period:Le.b}),this.props.isMain&&this.props.showMobileBackToSidebar&&m.a.createElement(L.a,null,m.a.createElement("h1",null,this.props.translate("Streams"))),m.a.createElement(z,{streamKey:n,onClick:this.showUpdates}),this.props.children,l&&r.length?this.props.intro:null,c,l&&r.length&&!a?m.a.createElement(D.a,null):null)}}a()(Fe,"propTypes",{trackScrollPage:d.a.func.isRequired,suppressSiteNameLink:d.a.bool,showPostHeader:d.a.bool,showFollowInHeader:d.a.bool,onUpdatesShown:d.a.func,emptyContent:d.a.object,className:d.a.string,showDefaultEmptyContentIfMissing:d.a.bool,showPrimaryFollowButtonOnCards:d.a.bool,showMobileBackToSidebar:d.a.bool,placeholderFactory:d.a.func,followSource:d.a.string,isDiscoverStream:d.a.bool,shouldCombineCards:d.a.bool,useCompactCards:d.a.bool,isMain:d.a.bool,intro:d.a.object,forcePlaceholders:d.a.bool,recsStreamKey:d.a.string}),a()(Fe,"defaultProps",{showPostHeader:!0,suppressSiteNameLink:!1,showFollowInHeader:!1,onUpdatesShown:b.noop,className:"",showDefaultEmptyContentIfMissing:!0,showPrimaryFollowButtonOnCards:!0,showMobileBackToSidebar:!0,isDiscoverStream:!1,shouldCombineCards:!0,isMain:!0,useCompactCards:!1,intro:null,forcePlaceholders:!1});t.a=Object(f.b)((e,t)=>{let s=t.streamKey,n=t.recsStreamKey,o=t.shouldCombineCards,r=void 0===o||o;const a=Object(k.a)(e,s);return{blockedSites:Object(Re.a)(e),items:I(e,{streamKey:s,recsStreamKey:n,shouldCombine:r}),stream:a,recsStream:Object(k.a)(e,n),selectedPostKey:a.selected,selectedPost:Object(_e.b)(e,a.selected),lastPage:a.lastPage,isRequesting:a.isRequesting,shouldRequestRecs:O(e,s,n)}},{resetCardExpansions:De.b,likePost:T.b,unlikePost:T.f,requestPage:v.d,selectItem:v.e,selectNextItem:v.f,selectPrevItem:v.g,showUpdates:v.h,viewStream:e=>{return{type:"READER_VIEW_STREAM",mark:e.mark,streamKey:e.streamKey}}})(Object(g.localize)(Fe))},"./client/reader/stream/post-placeholder.jsx":function(e,t,s){"use strict";var n=s("./node_modules/react/index.js"),o=s.n(n),r=s("./client/components/card/index.jsx");t.a=class extends o.a.PureComponent{render(){return o.a.createElement(r.a,{tagName:"article",className:"reader__card is-placeholder"},o.a.createElement("div",{className:"reader__post-header"},o.a.createElement("h1",{className:"reader__post-title"},o.a.createElement("div",{className:"reader__post-title-link"},o.a.createElement("span",{className:"reader__placeholder-text"},"Loading interesting posts…"))),o.a.createElement("div",{className:"reader__post-byline"},o.a.createElement("span",{className:"site-icon",height:"16",width:"16"}),o.a.createElement("h4",{className:"reader__site-name"},o.a.createElement("span",{className:"reader__placeholder-text"},"Loading Sites")),o.a.createElement("div",{className:"reader__post-time-placeholder"},o.a.createElement("span",{className:"reader__placeholder-text"},"10 min")))),o.a.createElement("div",{className:"reader__post-excerpt"},o.a.createElement("p",null,o.a.createElement("span",{className:"reader__placeholder-text"},"Please wait while we grab all the interesting posts, photos, videos and more to show you in Reader. It shouldn’t take long."))),o.a.createElement("ul",{className:"reader__post-footer"},o.a.createElement("li",{className:"reader__post-read-time"},o.a.createElement("span",{className:"reader__placeholder-text"},"10 min read"))))}}},"./client/reader/stream/style.scss":function(e,t,s){},"./client/reader/style.scss":function(e,t,s){},"./client/reader/tag-stream/index.js":function(e,t,s){"use strict";s.r(t);var n=s("./node_modules/page/page.js"),o=s.n(n),r=s("./node_modules/lodash/lodash.js"),a=s("./node_modules/react/index.js"),i=s.n(a),c=s("./client/reader/stats.js"),l=s("./client/reader/controller-helper.js"),d=s("./client/components/async-load/index.jsx"),p=s("./client/reader/follow-sources.jsx");var m=function(e){s.e(114).then(s.bind(null,"./client/reader/tag-stream/main.jsx")).then(function(t){e(t.default)})};const u=(e,t)=>{const s="Reader > Tag > "+e.params.tag,n=Object(r.trim)(e.params.tag).toLowerCase().replace(/\s+/g,"-").replace(/-{2,}/g,"-"),o=encodeURIComponent(n).toLowerCase(),a="tag:"+n,u=Object(l.a)(e);Object(l.c)("/tag/:slug",s,"topic"),Object(c.recordTrack)("calypso_reader_tag_loaded",{tag:n}),e.primary=i.a.createElement(d.a,{require:m,key:"tag-"+o,streamKey:a,encodedTagSlug:o,decodedTagSlug:n,trackScrollPage:l.d.bind(null,"/tag/:slug",s,"Reader","topic"),startDate:u,onUpdatesShown:l.e.bind(null,"topic"),showBack:!!e.lastRoute,showPrimaryFollowButtonOnCards:!0,followSource:p.m}),t()};var h=s("./client/reader/controller.js"),b=s("./client/controller/index.web.js");const f=(e,t)=>{e.hashstring&&Object(r.startsWith)(e.pathname,"/tag/#")&&o.a.redirect("/tag/".concat(e.hashstring)),t()};t.default=function(){o()("/tag/*",h.h,f,h.f),o()("/tag/:tag",h.m,h.k,u,b.c,b.f)}},"./client/reader/update-notice/style.scss":function(e,t,s){},"./client/reader/utils.js":function(e,t,s){"use strict";s.d(t,"c",function(){return l}),s.d(t,"b",function(){return p}),s.d(t,"a",function(){return m});var n=s("./node_modules/page/page.js"),o=s.n(n),r=s("./node_modules/lodash/lodash.js"),a=s("./client/reader/xpost-helper.js"),i=s("./client/lib/redux-bridge/index.js"),c=s("./client/state/reader/posts/selectors.js");function l(e){let t=e.replaceHistory,s=e.postKey,n=e.comments;if(!s)return;if(s.isRecommendationBlock)return;const o=Object(c.b)(Object(i.c)(),s);if(Object(a.b)(o)&&!t)return function(e){if(e.blogId&&e.postId){const t={site_ID:e.blogId,ID:e.postId};d({post:t})}else window.open(e.postURL)}(a.a.getXPostMetadata(o));let r;d({post:r=s.feedId?{feed_ID:s.feedId,feed_item_ID:s.postId}:{site_ID:s.blogId,ID:s.postId},replaceHistory:t,comments:n})}function d(e){let t=e.post,s=e.replaceHistory;const n=e.comments?"#comments":"";let r="";if(t.referral){const e=t.referral,s=e.blogId,n=e.postId;r+="ref_blog=".concat(s,"&ref_post=").concat(n)}const a=s?"replace":"show";t.feed_ID&&t.feed_item_ID?o.a[a]("/read/feeds/".concat(t.feed_ID,"/posts/").concat(t.feed_item_ID).concat(n).concat(r)):o.a[a]("/read/blogs/".concat(t.site_ID,"/posts/").concat(t.ID).concat(n).concat(r))}const p=(e,t)=>Object(r.every)(Object.keys(e),s=>e[s]===t[s]);function m(e){const t=e.indexOf(":");return-1===t?e:e.substring(0,t)}},"./client/reader/xpost-helper.js":function(e,t,s){"use strict";s.d(t,"b",function(){return i});var n=s("./node_modules/url/url.js"),o=s.n(n),r=s("./node_modules/lodash/lodash.js");const a=s("./client/state/reader/posts/display-types.js").a.X_POST;function i(e){return e&&(e.display_type&a||Object(r.has)(e,["tags","p2-xpost"]))}const c={getXPostMetadata(e){if(!i(e))return null;const t={siteURL:null,postURL:null,commentURL:null,blogId:null,postId:null};if(e&&e.metadata){const s=Object.keys(e.metadata);for(let n=0;n<s.length;n++){const r=e.metadata[s[n]];if("_xpost_original_permalink"===r.key||"xcomment_original_permalink"===r.key){const e=o.a.parse(r.value,!1,!1);t.siteURL="".concat(e.protocol,"//").concat(e.host),t.postURL="".concat(t.siteURL).concat(e.path),e.hash&&0===e.hash.indexOf("#comment-")&&(t.commentURL=e.href)}else if("xpost_origin"===r.key){const e=r.value.split(":");t.blogId=+e[0],t.postId=+e[1]}}}return t}};t.a=c},"./client/state/data-layer/wpcom/read/streams/index.js":function(e,t,s){"use strict";s.d(t,"b",function(){return _}),s.d(t,"a",function(){return j});var n=s("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=s.n(n),r=s("./node_modules/lodash/lodash.js"),a=s("./client/state/data-layer/wpcom-http/actions.js"),i=s("./client/state/data-layer/wpcom-http/utils.js"),c=s("./client/lib/warn/index.js"),l=s("./client/state/reader/streams/actions.js"),d=s("./client/state/reader/posts/actions.js"),p=s("./client/reader/post-key.js"),m=s("./client/state/analytics/actions.js"),u=s("./client/reader/xpost-helper.js"),h=s("./client/state/data-layer/handler-registry.js");function b(e){return e.substring(e.indexOf(":")+1)}const f=new Map;const g=e=>f.get(e),_=7,j=4,y=40,x=40,v=["post","discover_original_post"].join(","),k=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return o()({orderBy:"date",meta:v},e,{content_width:675})},w=k,E=["ID","site_ID","date","feed_ID","feed_item_ID","global_ID","metadata","tags","site_URL","URL"];function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return o()({orderBy:"date",number:y,fields:[E,...e].join(",")},t)}const C=Object(r.random)(0,1e3),S={following:{path:()=>"/read/following",dateProperty:"date"},search:{path:()=>"/read/search",dateProperty:"date",query:(e,t)=>{let s=t.streamKey;const n=JSON.parse(b(s)),r=n.sort,a=n.q;return o()({sort:r,q:a},e,{content_width:675})}},feed:{path:e=>{let t=e.streamKey;return"/read/feed/".concat(b(t),"/posts")},dateProperty:"date"},site:{path:e=>{let t=e.streamKey;return"/read/sites/".concat(b(t),"/posts")},dateProperty:"date"},conversations:{path:()=>"/read/conversations",dateProperty:"last_comment_date_gmt",pollQuery:()=>O(["last_comment_date_gmt","comments"])},featured:{path:e=>{let t=e.streamKey;return"/read/sites/".concat(b(t),"/featured")},dateProperty:"date"},a8c:{path:()=>"/read/a8c",dateProperty:"date"},"conversations-a8c":{path:()=>"/read/conversations",dateProperty:"last_comment_date_gmt",query:e=>k(o()({},e,{index:"a8c"})),pollQuery:()=>O(["last_comment_date_gmt","comments"],{index:"a8c"})},likes:{path:()=>"/read/liked",dateProperty:"date_liked",pollQuery:()=>O(["date_liked"])},recommendations_posts:{path:()=>"/read/recommendations/posts",dateProperty:"date",query:e=>{let t=e.query;return o()({},t,{seed:C,algorithm:"read:recommendations:posts/es/1"})}},custom_recs_posts_with_images:{path:()=>"/read/recommendations/posts",dateProperty:"date",query:e=>k(o()({},e,{seed:C,alg_prefix:"read:recommendations:posts"}))},tag:{path:e=>{let t=e.streamKey;return"/read/tags/".concat(b(t),"/posts")},dateProperty:"date"},list:{path:e=>{let t=e.streamKey;const s=JSON.parse(b(t)),n=s.owner,o=s.slug;return"/read/list/".concat(n,"/").concat(o,"/posts")},dateProperty:"date"}};Object(h.b)("state/data-layer/wpcom/read/streams/index.js",{READER_STREAMS_PAGE_REQUEST:[Object(i.a)({fetch:function(e){const t=e.payload,s=t.streamKey,n=t.streamType,r=t.pageHandle,i=t.isPoll,l=t.gap,d=S[n];if(!d)return void Object(c.a)("Unable to determine api path for ".concat(s));const p=d.apiVersion,m=void 0===p?"1.2":p,u=d.path,h=d.query,b=void 0===h?w:h,f=d.pollQuery,y=void 0===f?O:f,v=g(s)?{algorithm:g(s)}:{},k=l?x:r?_:j;return Object(a.a)({method:"GET",path:u(o()({},e.payload)),apiVersion:m,query:i?y([],o()({},v)):b(o()({},r,v,{number:k}),e.payload),onSuccess:e,onFailure:e})},onSuccess:function(e,t){const s=t.posts,n=t.date_range,a=t.meta,i=t.next_page,c=e.payload,h=c.streamKey,b=c.query,g=c.isPoll,j=c.gap,y=c.streamType,x=S[y].dateProperty;let v={};Object(r.includes)(y,"rec")?v={offset:Object(r.get)(e,"payload.pageHandle.offset",0)+_}:i||a&&a.next_page?v={page_handle:i||a.next_page}:n&&n.after&&(v={before:n.after});const k=function(e){let t=e.streamKey,s=e.algorithm,n=e.posts;return t&&s&&n?(f.set(t,s),n.filter(e=>!!e.railcar).map(e=>Object(m.i)("calypso_traintracks_render",e.railcar))):[]}({streamKey:h,algorithm:t.algorithm,posts:s}),w=s.map(e=>o()({},Object(p.b)(e),{date:e[x]},e.comments&&{comments:Object(r.map)(e.comments,"ID").reverse()},{url:e.URL,xPostMetadata:u.a.getXPostMetadata(e)}));return g?k.push(Object(l.c)({streamKey:h,streamItems:w,query:b})):(k.push(Object(d.c)(s)),k.push(Object(l.b)({streamKey:h,query:b,streamItems:w,pageHandle:v,gap:j}))),k},onError:r.noop})]})},"./client/state/reader/site-dismissals/actions.js":function(e,t,s){"use strict";var n=s("./packages/i18n-calypso/dist/esm/index.js"),o=s("./client/state/data-layer/wpcom-http/actions.js"),r=s("./client/state/data-layer/wpcom-http/utils.js"),a=s("./client/state/notices/actions.js"),i=s("./client/state/data-layer/handler-registry.js");function c(e){return Object(o.a)({method:"POST",apiVersion:"1.1",path:"/me/dismiss/sites/".concat(e.payload.siteId,"/new"),body:{}},e)}function l(e){if(!e.success)throw new Error("Site dismiss was unsuccessful",e);return e}function d(){return Object(a.f)(Object(n.translate)("We won't recommend this site to you again."),{duration:5e3})}function p(){return Object(a.b)(Object(n.translate)("Sorry, there was a problem dismissing that site."))}Object(i.b)("state/data-layer/wpcom/me/dismiss/sites/new/index.js",{READER_DISMISS_SITE:[Object(r.a)({fetch:c,onSuccess:d,onError:p,fromApi:l})],READER_DISMISS_POST:[Object(r.a)({fetch:c,onSuccess:d,onError:p,fromApi:l})]}),s.d(t,"a",function(){return m}),s.d(t,"b",function(){return u});const m=e=>{let t=e.streamKey,s=e.postKey;return{type:"READER_DISMISS_POST",payload:{streamKey:t,postKey:s,siteId:s.blogId}}},u=e=>({type:"READER_DISMISS_SITE",payload:{siteId:e}})},"./client/state/reader/streams/actions.js":function(e,t,s){"use strict";s.d(t,"d",function(){return r}),s.d(t,"b",function(){return a}),s.d(t,"h",function(){return i}),s.d(t,"c",function(){return c}),s.d(t,"e",function(){return l}),s.d(t,"f",function(){return d}),s.d(t,"g",function(){return p}),s.d(t,"a",function(){return m});var n=s("./client/state/selectors/get-reader-stream.js"),o=s("./client/reader/utils.js");s("./client/state/data-layer/wpcom/read/streams/index.js");function r(e){let t=e.streamKey,s=e.pageHandle,n=e.isPoll,r=void 0!==n&&n,a=e.gap,i=void 0===a?null:a;return{type:"READER_STREAMS_PAGE_REQUEST",payload:{streamKey:t,pageHandle:s,streamType:Object(o.a)(t),isPoll:r,gap:i}}}function a(e){let t=e.streamKey,s=e.pageHandle;return{type:"READER_STREAMS_PAGE_RECEIVE",payload:{streamKey:t,streamItems:e.streamItems,pageHandle:s,gap:e.gap}}}const i=e=>{let t=e.streamKey;return(e,s)=>{const o=Object(n.a)(s(),t).pendingItems.items;return e({type:"READER_STREAMS_SHOW_UPDATES",payload:{streamKey:t,items:o}})}};function c(e){return{type:"READER_STREAMS_UPDATES_RECEIVE",payload:{streamKey:e.streamKey,streamItems:e.streamItems}}}function l(e){return{type:"READER_STREAMS_SELECT_ITEM",payload:{streamKey:e.streamKey,postKey:e.postKey}}}function d(e){return{type:"READER_STREAMS_SELECT_NEXT_ITEM",payload:{streamKey:e.streamKey,items:e.items}}}function p(e){return{type:"READER_STREAMS_SELECT_PREV_ITEM",payload:{streamKey:e.streamKey,items:e.items}}}function m(e){let t=e.streamKey,s=e.gap;return r({streamKey:t,pageHandle:{before:s.to.toISOString(),after:s.from.toISOString()},gap:s})}},"./client/state/selectors/count-post-likes.js":function(e,t,s){"use strict";s.d(t,"a",function(){return o});var n=s("./node_modules/lodash/lodash.js");function o(e,t,s){return Object(n.get)(e.posts.likes.items,[t,s,"found"],null)}},"./client/state/selectors/get-post-likes.js":function(e,t,s){"use strict";s.d(t,"a",function(){return o});var n=s("./node_modules/lodash/lodash.js");function o(e,t,s){return Object(n.get)(e.posts.likes.items,[t,s,"likes"],null)}},"./client/state/selectors/get-reader-followed-tags.js":function(e,t,s){"use strict";var n=s("./node_modules/lodash/lodash.js"),o=s("./client/lib/create-selector/index.js");const r=Object(o.a)(e=>e.reader.tags.items?Object(n.sortBy)(Object(n.filter)(e.reader.tags.items,e=>e.isFollowing),"slug"):null,e=>[e.reader.tags.items]);t.a=r},"./client/state/selectors/get-reader-follows.js":function(e,t,s){"use strict";var n=s("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=s.n(n),r=s("./node_modules/lodash/lodash.js"),a=s("./client/lib/create-selector/index.js"),i=s("./client/state/reader/sites/selectors.js"),c=s("./client/state/reader/feeds/selectors.js");const l=Object(a.a)(e=>{const t=Object(r.reject)(Object(r.values)(e.reader.follows.items),"error").map(t=>o()({},t,{site:Object(i.a)(e,t.blog_ID),feed:Object(c.a)(e,t.feed_ID)}));return Object(r.reject)(t,e=>e.site&&e.site.is_error&&410===e.site.error.statusCode||e.feed&&e.feed.is_error)},e=>[e.reader.follows.items,e.reader.feeds.items,e.reader.sites.items,e.currentUser.capabilities]);t.a=l},"./client/state/selectors/get-reader-stream.js":function(e,t,s){"use strict";const n={items:[],pendingItems:{lastUpdated:null,items:[]},lastPage:!1,isRequesting:!1};t.a=function(e,t){return e.reader.streams[t]||n}},"./client/state/ui/action-log/selectors.js":function(e,t,s){"use strict";s.d(t,"a",function(){return r}),s.d(t,"d",function(){return a}),s.d(t,"c",function(){return i}),s.d(t,"b",function(){return c});var n=s("./node_modules/lodash/lodash.js"),o=s("./client/lib/create-selector/index.js");function r(e){return e.ui.actionLog}const a=Object(o.a)(e=>r(e).filter(e=>"ROUTE_SET"===e.type),e=>[e.ui.actionLog]),i=Object(o.a)(e=>Object(n.findLast)(r(e),e=>"ROUTE_SET"===e.type),e=>[e.ui.actionLog]),c=Object(o.a)(e=>Object(n.last)(e.ui.actionLog)||!1,e=>[e.ui.actionLog])},"./client/state/ui/guided-tours/contexts.js":function(e,t,s){"use strict";s.d(t,"a",function(){return m}),s.d(t,"d",function(){return u}),s.d(t,"e",function(){return h}),s.d(t,"l",function(){return f}),s.d(t,"f",function(){return g}),s.d(t,"g",function(){return _}),s.d(t,"k",function(){return j}),s.d(t,"h",function(){return y}),s.d(t,"b",function(){return x}),s.d(t,"c",function(){return v}),s.d(t,"i",function(){return k}),s.d(t,"j",function(){return w});var n=s("./node_modules/lodash/lodash.js"),o=s("./client/components/tinymce/plugins/wpcom-track-paste/sources.js"),r=s("./client/config/index.js"),a=(s("./client/lib/abtest/index.js"),s("./client/lib/media/store.js")),i=s("./client/state/ui/selectors.js"),c=s("./client/state/ui/action-log/selectors.js"),l=s("./client/state/current-user/selectors.js"),d=(s("./client/state/selectors/can-current-user.js"),s("./client/state/sites/selectors.js"));const p=a.a.getAll,m=6048e5,u=e=>t=>Object(i.c)(t)===e,h=e=>()=>r.a.isEnabled(e),b=e=>{const t=Object(l.b)(e),s=t&&Date.parse(t.date);return!!s&&Date.now()-s},f=e=>t=>{const s=b(t);return!1!==s&&s<=e},g=e=>f(m)(e),_=e=>!g(e),j=e=>Object(n.get)(Object(i.d)(e),"is_previewable",!1),y=e=>Object(i.d)(e)&&Object(i.d)(e).is_customizable,x=e=>{const t=Object(i.e)(e);if(!t)return!1;const s=p(t);return s&&s.length&&s.length>0},v=e=>{const t=Object(c.b)(e)||!1;return t&&"EDITOR_PASTE_EVENT"===t.type&&t.source===o.a},k=e=>{const t=Object(i.e)(e);return!!t&&Object(d.J)(e,t)},w=e=>{const t=Object(i.e)(e);return!!t&&!Object(d.J)(e,t)}},"./node_modules/@babel/runtime/helpers/objectDestructuringEmpty.js":function(e,t){e.exports=function(e){if(null==e)throw new TypeError("Cannot destructure undefined")}},"./node_modules/component-closest/index.js":function(e,t,s){try{var n=s("./node_modules/component-matches-selector/index.js")}catch(e){n=s("./node_modules/component-matches-selector/index.js")}e.exports=function(e,t,s){s=s||document.documentElement;for(;e&&e!==s;){if(n(e,t))return e;e=e.parentNode}return n(e,t)?e:null}},"./node_modules/component-matches-selector/index.js":function(e,t,s){try{var n=s("./node_modules/component-query/index.js")}catch(e){n=s("./node_modules/component-query/index.js")}var o=s("./node_modules/global-object/global-object.js").Element,r=o&&o.prototype||{},a=r.matches||r.webkitMatchesSelector||r.mozMatchesSelector||r.msMatchesSelector||r.oMatchesSelector;e.exports=function(e,t){if(!e||1!==e.nodeType)return!1;if(a)return a.call(e,t);for(var s=n.all(t,e.parentNode),o=0;o<s.length;++o)if(s[o]==e)return!0;return!1}},"./node_modules/component-query/index.js":function(e,t){function s(e,t){return t.querySelector(e)}(t=e.exports=function(e,t){return s(e,t=t||document)}).all=function(e,t){return(t=t||document).querySelectorAll(e)},t.engine=function(e){if(!e.one)throw new Error(".one callback required");if(!e.all)throw new Error(".all callback required");return s=e.one,t.all=e.all,t}},"./node_modules/global-object/global-object.js":function(module,exports){!function(e){try{e("export default global")}catch(t){try{e("export default self")}catch(e){try{module.exports=window}catch(e){try{self.global=self}catch(e){window.global=window}}}}}(eval)},"./node_modules/path-browserify/index.js":function(e,t,s){"use strict";function n(e){if("string"!=typeof e)throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}function o(e,t){for(var s,n="",o=0,r=-1,a=0,i=0;i<=e.length;++i){if(i<e.length)s=e.charCodeAt(i);else{if(47===s)break;s=47}if(47===s){if(r===i-1||1===a);else if(r!==i-1&&2===a){if(n.length<2||2!==o||46!==n.charCodeAt(n.length-1)||46!==n.charCodeAt(n.length-2))if(n.length>2){var c=n.lastIndexOf("/");if(c!==n.length-1){-1===c?(n="",o=0):o=(n=n.slice(0,c)).length-1-n.lastIndexOf("/"),r=i,a=0;continue}}else if(2===n.length||1===n.length){n="",o=0,r=i,a=0;continue}t&&(n.length>0?n+="/..":n="..",o=2)}else n.length>0?n+="/"+e.slice(r+1,i):n=e.slice(r+1,i),o=i-r-1;r=i,a=0}else 46===s&&-1!==a?++a:a=-1}return n}var r={resolve:function(){for(var e,t="",s=!1,r=arguments.length-1;r>=-1&&!s;r--){var a;r>=0?a=arguments[r]:(void 0===e&&(e=process.cwd()),a=e),n(a),0!==a.length&&(t=a+"/"+t,s=47===a.charCodeAt(0))}return t=o(t,!s),s?t.length>0?"/"+t:"/":t.length>0?t:"."},normalize:function(e){if(n(e),0===e.length)return".";var t=47===e.charCodeAt(0),s=47===e.charCodeAt(e.length-1);return 0!==(e=o(e,!t)).length||t||(e="."),e.length>0&&s&&(e+="/"),t?"/"+e:e},isAbsolute:function(e){return n(e),e.length>0&&47===e.charCodeAt(0)},join:function(){if(0===arguments.length)return".";for(var e,t=0;t<arguments.length;++t){var s=arguments[t];n(s),s.length>0&&(void 0===e?e=s:e+="/"+s)}return void 0===e?".":r.normalize(e)},relative:function(e,t){if(n(e),n(t),e===t)return"";if((e=r.resolve(e))===(t=r.resolve(t)))return"";for(var s=1;s<e.length&&47===e.charCodeAt(s);++s);for(var o=e.length,a=o-s,i=1;i<t.length&&47===t.charCodeAt(i);++i);for(var c=t.length-i,l=a<c?a:c,d=-1,p=0;p<=l;++p){if(p===l){if(c>l){if(47===t.charCodeAt(i+p))return t.slice(i+p+1);if(0===p)return t.slice(i+p)}else a>l&&(47===e.charCodeAt(s+p)?d=p:0===p&&(d=0));break}var m=e.charCodeAt(s+p);if(m!==t.charCodeAt(i+p))break;47===m&&(d=p)}var u="";for(p=s+d+1;p<=o;++p)p!==o&&47!==e.charCodeAt(p)||(0===u.length?u+="..":u+="/..");return u.length>0?u+t.slice(i+d):(i+=d,47===t.charCodeAt(i)&&++i,t.slice(i))},_makeLong:function(e){return e},dirname:function(e){if(n(e),0===e.length)return".";for(var t=e.charCodeAt(0),s=47===t,o=-1,r=!0,a=e.length-1;a>=1;--a)if(47===(t=e.charCodeAt(a))){if(!r){o=a;break}}else r=!1;return-1===o?s?"/":".":s&&1===o?"//":e.slice(0,o)},basename:function(e,t){if(void 0!==t&&"string"!=typeof t)throw new TypeError('"ext" argument must be a string');n(e);var s,o=0,r=-1,a=!0;if(void 0!==t&&t.length>0&&t.length<=e.length){if(t.length===e.length&&t===e)return"";var i=t.length-1,c=-1;for(s=e.length-1;s>=0;--s){var l=e.charCodeAt(s);if(47===l){if(!a){o=s+1;break}}else-1===c&&(a=!1,c=s+1),i>=0&&(l===t.charCodeAt(i)?-1==--i&&(r=s):(i=-1,r=c))}return o===r?r=c:-1===r&&(r=e.length),e.slice(o,r)}for(s=e.length-1;s>=0;--s)if(47===e.charCodeAt(s)){if(!a){o=s+1;break}}else-1===r&&(a=!1,r=s+1);return-1===r?"":e.slice(o,r)},extname:function(e){n(e);for(var t=-1,s=0,o=-1,r=!0,a=0,i=e.length-1;i>=0;--i){var c=e.charCodeAt(i);if(47!==c)-1===o&&(r=!1,o=i+1),46===c?-1===t?t=i:1!==a&&(a=1):-1!==t&&(a=-1);else if(!r){s=i+1;break}}return-1===t||-1===o||0===a||1===a&&t===o-1&&t===s+1?"":e.slice(t,o)},format:function(e){if(null===e||"object"!=typeof e)throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof e);return function(e,t){var s=t.dir||t.root,n=t.base||(t.name||"")+(t.ext||"");return s?s===t.root?s+n:s+e+n:n}("/",e)},parse:function(e){n(e);var t={root:"",dir:"",base:"",ext:"",name:""};if(0===e.length)return t;var s,o=e.charCodeAt(0),r=47===o;r?(t.root="/",s=1):s=0;for(var a=-1,i=0,c=-1,l=!0,d=e.length-1,p=0;d>=s;--d)if(47!==(o=e.charCodeAt(d)))-1===c&&(l=!1,c=d+1),46===o?-1===a?a=d:1!==p&&(p=1):-1!==a&&(p=-1);else if(!l){i=d+1;break}return-1===a||-1===c||0===p||1===p&&a===c-1&&a===i+1?-1!==c&&(t.base=t.name=0===i&&r?e.slice(1,c):e.slice(i,c)):(0===i&&r?(t.name=e.slice(1,a),t.base=e.slice(1,c)):(t.name=e.slice(i,a),t.base=e.slice(i,c)),t.ext=e.slice(a,c)),i>0?t.dir=e.slice(0,i-1):r&&(t.dir="/"),t},sep:"/",delimiter:":",win32:null,posix:null};r.posix=r,e.exports=r},"./node_modules/percentage-regex/index.js":function(e,t,s){"use strict";e.exports=function(e){var t="(\\d+(\\.\\d+)?|\\.\\d+) ?%";return(e=e||{}).exact?new RegExp("^"+t+"$","i"):new RegExp(t,"ig")}},"./node_modules/social-logos/svg-sprite/social-logos.svg":function(e,t,s){e.exports=s.p+"images/social-logos-f4361331404e16a6f99e32a7d5c130ce.svg"},"./node_modules/textarea-caret/index.js":function(e,t,s){!function(){var t=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],s="undefined"!=typeof window,n=s&&null!=window.mozInnerScreenX;function o(e,o,r){if(!s)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var a=r&&r.debug||!1;if(a){var i=document.querySelector("#input-textarea-caret-position-mirror-div");i&&i.parentNode.removeChild(i)}var c=document.createElement("div");c.id="input-textarea-caret-position-mirror-div",document.body.appendChild(c);var l=c.style,d=window.getComputedStyle?window.getComputedStyle(e):e.currentStyle,p="INPUT"===e.nodeName;l.whiteSpace="pre-wrap",p||(l.wordWrap="break-word"),l.position="absolute",a||(l.visibility="hidden"),t.forEach(function(e){p&&"lineHeight"===e?l.lineHeight=d.height:l[e]=d[e]}),n?e.scrollHeight>parseInt(d.height)&&(l.overflowY="scroll"):l.overflow="hidden",c.textContent=e.value.substring(0,o),p&&(c.textContent=c.textContent.replace(/\s/g," "));var m=document.createElement("span");m.textContent=e.value.substring(o)||".",c.appendChild(m);var u={top:m.offsetTop+parseInt(d.borderTopWidth),left:m.offsetLeft+parseInt(d.borderLeftWidth),height:parseInt(d.lineHeight)};return a?m.style.backgroundColor="#aaa":document.body.removeChild(c),u}void 0!==e.exports?e.exports=o:s&&(window.getCaretCoordinates=o)}()}}]);