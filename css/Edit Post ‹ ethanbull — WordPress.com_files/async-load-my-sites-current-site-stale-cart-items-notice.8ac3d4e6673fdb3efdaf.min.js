(window.webpackJsonp=window.webpackJsonp||[]).push([[159],{"./client/my-sites/current-site/stale-cart-items-notice.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(r),o=n("./node_modules/react/index.js"),i=n.n(o),a=n("./node_modules/react-redux/es/index.js"),d=n("./packages/i18n-calypso/dist/esm/index.js"),c=n("./client/lib/cart/store/index.js"),u=n("./client/lib/cart-values/index.js"),p=n("./client/state/analytics/actions.js"),l=n("./client/state/notices/actions.js"),f=n("./client/state/notices/selectors.js"),y=n("./client/state/ui/selectors.js");const m="stale-cart-item-notice";t.default=Object(a.b)(e=>({selectedSiteSlug:Object(y.f)(e),staleCartItemNoticeLastTimeShown:Object(f.a)(e,m),sectionName:Object(y.c)(e)}),{infoNotice:l.c,removeNotice:l.e,recordTracksEvent:p.i})(Object(d.localize)(class extends i.a.Component{constructor(){super(...arguments),s()(this,"showStaleCartItemsNotice",()=>{if(this.props.removeNotice(m),"upgrades"===this.props.sectionName)return null;this.props.selectedSiteSlug&&u.c.hasStaleItem(c.a.get())&&this.props.staleCartItemNoticeLastTimeShown<Date.now()-6e5&&(this.props.recordTracksEvent("calypso_cart_abandonment_notice_view"),this.props.infoNotice(this.props.translate("Your cart is awaiting payment."),{id:m,isPersistent:!1,duration:1e4,button:this.props.translate("Complete your purchase"),href:"/checkout/"+this.props.selectedSiteSlug,onClick:this.clickStaleCartItemsNotice}))}),s()(this,"clickStaleCartItemsNotice",()=>{this.props.recordTracksEvent("calypso_cart_abandonment_notice_click")})}componentDidMount(){c.a.on("change",this.showStaleCartItemsNotice)}componentWillUnmount(){c.a.off("change",this.showStaleCartItemsNotice)}render(){return null}}))},"./node_modules/array-find/find.js":function(e,t,n){"use strict";e.exports=function(e,t,n){if("function"==typeof Array.prototype.find)return e.find(t,n);n=n||this;var r,s=e.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(r=0;r<s;r++)if(t.call(n,e[r],r,e))return e[r]}},"./node_modules/cpf_cnpj/index.js":function(e,t,n){e.exports={CPF:n("./node_modules/cpf_cnpj/lib/cpf.js"),CNPJ:n("./node_modules/cpf_cnpj/lib/cnpj.js")}},"./node_modules/cpf_cnpj/lib/cnpj.js":function(e,t){var n,r,s,o,i;n=["00000000000000","11111111111111","22222222222222","33333333333333","44444444444444","55555555555555","66666666666666","77777777777777","88888888888888","99999999999999"],r=/[-\/.]/g,s=/[^\d]/g,o=function(e){var t=2,n=e.split("").reduce(function(e,t){return[parseInt(t,10)].concat(e)},[]).reduce(function(e,n){return e+=n*t,t=9===t?2:t+1,e},0)%11;return n<2?0:11-n},i={format:function(e){return this.strip(e).replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5")},strip:function(e,t){var n=t?r:s;return(e||"").toString().replace(n,"")},isValid:function(e,t){var r=this.strip(e,t);if(!r)return!1;if(14!==r.length)return!1;if(n.indexOf(r)>=0)return!1;var s=r.substr(0,12);return s+=o(s),(s+=o(s)).substr(-2)===r.substr(-2)},generate:function(e){for(var t="",n=0;n<12;n++)t+=Math.floor(9*Math.random());return t+=o(t),t+=o(t),e?this.format(t):t}},void 0!==t?e.exports=i:window.CNPJ=i},"./node_modules/cpf_cnpj/lib/cpf.js":function(e,t){var n,r,s,o,i;n=["00000000000","11111111111","22222222222","33333333333","44444444444","55555555555","66666666666","77777777777","88888888888","99999999999","12345678909"],r=/[.-]/g,s=/[^\d]/g,o=function(e){var t=(e=e.split("").map(function(e){return parseInt(e,10)})).length+1,n=e.map(function(e,n){return e*(t-n)}).reduce(function(e,t){return e+t})%11;return n<2?0:11-n},i={format:function(e){return this.strip(e).replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/,"$1.$2.$3-$4")},strip:function(e,t){var n=t?r:s;return(e||"").toString().replace(n,"")},isValid:function(e,t){var r=this.strip(e,t);if(!r)return!1;if(11!==r.length)return!1;if(n.indexOf(r)>=0)return!1;var s=r.substr(0,9);return s+=o(s),(s+=o(s)).substr(-2)===r.substr(-2)},generate:function(e){for(var t="",n=0;n<9;n++)t+=Math.floor(9*Math.random());return t+=o(t),t+=o(t),e?this.format(t):t}},void 0!==t?e.exports=i:window.CPF=i},"./node_modules/creditcards-types/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/creditcards-types/types/index.js")},"./node_modules/creditcards-types/type.js":function(e,t,n){"use strict";var r=n("./node_modules/xtend/mutable.js");function s(e){if(!(this instanceof s))return new s(e);r(this,e)}e.exports=s,s.prototype.cvcLength=3,s.prototype.luhn=!0,s.prototype.groupPattern=/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?/,s.prototype.group=function(e){return(e.match(this.groupPattern)||[]).slice(1).filter(Boolean)},s.prototype.test=function(e,t){return this[t?"eagerPattern":"pattern"].test(e)}},"./node_modules/creditcards-types/types/american-express.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"American Express",pattern:/^3[47]\d{13}$/,eagerPattern:/^3[47]/,groupPattern:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,cvcLength:4})},"./node_modules/creditcards-types/types/dankort.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"Dankort",pattern:/^5019\d{12}$/,eagerPattern:/^5019/})},"./node_modules/creditcards-types/types/diners-club.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"Diners Club",pattern:/^3(0[0-5]|[68]\d)\d{11}$/,eagerPattern:/^3(0|[68])/,groupPattern:/(\d{1,4})?(\d{1,6})?(\d{1,4})?/})},"./node_modules/creditcards-types/types/discover.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"Discover",pattern:/^6(011(0[0-9]|[2-4]\d|74|7[7-9]|8[6-9]|9[0-9])|4[4-9]\d{3}|5\d{4})\d{10}$/,eagerPattern:/^6(011(0[0-9]|[2-4]|74|7[7-9]|8[6-9]|9[0-9])|4[4-9]|5)/})},"./node_modules/creditcards-types/types/elo.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"Elo",pattern:/^(4[035]|5[0]|6[235])(6[7263]|9[90]|1[2416]|7[736]|8[9]|0[04579]|5[0])([0-9])([0-9])\d{10}$/,eagerPattern:/^(4[035]|5[0]|6[235])(6[7263]|9[90]|1[2416]|7[736]|8[9]|0[04579]|5[0])([0-9])([0-9])/,groupPattern:/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/})},"./node_modules/creditcards-types/types/forbrugsforeningen.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"Forbrugsforeningen",pattern:/^600722\d{10}$/,eagerPattern:/^600/})},"./node_modules/creditcards-types/types/index.js":function(e,t,n){"use strict";e.exports=[n("./node_modules/creditcards-types/types/visa.js"),n("./node_modules/creditcards-types/types/maestro.js"),n("./node_modules/creditcards-types/types/forbrugsforeningen.js"),n("./node_modules/creditcards-types/types/dankort.js"),n("./node_modules/creditcards-types/types/mastercard.js"),n("./node_modules/creditcards-types/types/american-express.js"),n("./node_modules/creditcards-types/types/diners-club.js"),n("./node_modules/creditcards-types/types/discover.js"),n("./node_modules/creditcards-types/types/jcb.js"),n("./node_modules/creditcards-types/types/unionpay.js"),n("./node_modules/creditcards-types/types/troy.js"),n("./node_modules/creditcards-types/types/elo.js")]},"./node_modules/creditcards-types/types/jcb.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"JCB",pattern:/^35\d{14}$/,eagerPattern:/^35/})},"./node_modules/creditcards-types/types/maestro.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"Maestro",pattern:/^(?:5[06789]\d\d|(?!6011[0234])(?!60117[4789])(?!60118[6789])(?!60119)(?!64[456789])(?!65)6\d{3})\d{8,15}$/,eagerPattern:/^(5(018|0[23]|[68])|6[37]|60111|60115|60117([56]|7[56])|60118[0-5]|64[0-3]|66)/,groupPattern:/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/})},"./node_modules/creditcards-types/types/mastercard.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"Mastercard",pattern:/^(5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)\d{12}$/,eagerPattern:/^(2[3-7]|22[2-9]|5[1-5])/})},"./node_modules/creditcards-types/types/troy.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"Troy",pattern:/^9792\d{12}$/,eagerPattern:/^9792/})},"./node_modules/creditcards-types/types/unionpay.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"UnionPay",pattern:/^62[0-5]\d{13,16}$/,eagerPattern:/^62/,groupPattern:/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/,luhn:!1})},"./node_modules/creditcards-types/types/visa.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/type.js");e.exports=r({name:"Visa",pattern:/^4\d{12}(\d{3}|\d{6})?$/,eagerPattern:/^4/,groupPattern:/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/})},"./node_modules/creditcards/card.js":function(e,t,n){"use strict";var r=n("./node_modules/fast-luhn/index.js"),s=n("./node_modules/creditcards/types.js");e.exports=function(e){var t=s(e);return{types:e,parse:function(e){return"string"!=typeof e?"":e.replace(/[^\d]/g,"")},format:function(e,t){var r=n(e,!0);return r?r.group(e).join(t||" "):e},type:function(e,t){var r=n(e,t);return r?r.name:void 0},luhn:r,isValid:function(e,s){s=s?t.get(s):n(e);return!!s&&(!s.luhn||r(e))&&s.test(e)}};function n(e,n){return t.find(function(t){return t.test(e,n)})}}},"./node_modules/creditcards/cvc.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards/types.js"),s=/^\d{3,4}$/;e.exports=function(e){var t=r(e);return{isValid:function(e,n){if("string"!=typeof e)return!1;if(!s.test(e))return!1;if(!n)return t.some(function(t){return t.cvcLength===e.length});return t.get(n).cvcLength===e.length}}}},"./node_modules/creditcards/expiration.js":function(e,t,n){"use strict";var r=n("./node_modules/is-valid-month/index.js"),s=n("./node_modules/parse-int/index.js"),o=n("./node_modules/parse-year/index.js");e.exports={isPast:function(e,t){return Date.now()>=new Date(t,e)},month:{parse:function(e){return s(e)},isValid:r},year:{parse:o,format:function(e,t){return e=e.toString(),t?e.substr(2,4):e},isValid:function(e){return"number"==typeof e&&(e=s(e))>0},isPast:function(e){return(new Date).getFullYear()>e}}}},"./node_modules/creditcards/index.js":function(e,t,n){"use strict";var r=n("./node_modules/creditcards-types/index.js"),s=n("./node_modules/creditcards/card.js"),o=n("./node_modules/creditcards/cvc.js"),i=n("./node_modules/creditcards/expiration.js");function a(e){return{card:s(e),cvc:o(e),expiration:i}}e.exports=a(r),e.exports.withTypes=a},"./node_modules/creditcards/types.js":function(e,t,n){"use strict";var r=n("./node_modules/array-find/find.js"),s=n("./node_modules/creditcards-types/index.js");e.exports=function(e){var t=e.reduce(function(e,t){return e[t.name]=t,e},{});return{find:r.bind(null,e),some:e.some.bind(e),get:function(e){var n=t[e];if(!n)throw new Error("No type found for name: "+e);return n}}},e.exports.defaults=s},"./node_modules/expand-year/index.js":function(e,t,n){"use strict";var r=n("./node_modules/zero-fill/index.js"),s=n("./node_modules/parse-int/index.js"),o=r(2);e.exports=function(e,t){var n=(t=t||new Date).getFullYear().toString().substr(0,2);return e=s(e),s(n+o(e))}},"./node_modules/fast-luhn/index.js":function(e,t,n){"use strict";var r;e.exports=(r=[0,2,4,6,8,1,3,5,7,9],function(e){if("string"!=typeof e)throw new TypeError("Expected string input");if(!e)return!1;for(var t,n=e.length,s=1,o=0;n;)t=parseInt(e.charAt(--n),10),o+=(s^=1)?r[t]:t;return o%10==0})},"./node_modules/immutability-helper/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/invariant/browser.js"),s=Object.prototype.hasOwnProperty,o=Array.prototype.splice,i=Object.prototype.toString;function a(e){return i.call(e).slice(8,-1)}var d=Object.assign||function(e,t){return c(t).forEach(function(n){s.call(t,n)&&(e[n]=t[n])}),e},c="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function u(e){return Array.isArray(e)?d(e.constructor(e.length),e):"Map"===a(e)?new Map(e):"Set"===a(e)?new Set(e):e&&"object"==typeof e?d(Object.create(Object.getPrototypeOf(e)),e):e}var p=function(){function e(){this.commands=d({},l),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,o="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(o)||r(!Array.isArray(o),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),r("object"==typeof o&&null!==o,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(this.commands).join(", "));var i=e;return c(o).forEach(function(t){if(s.call(n.commands,t)){var r=e===i;i=n.commands[t](o[t],i,o,e),r&&n.isEquals(i,e)&&(i=e)}else{var d="Map"===a(e)?n.update(e.get(t),o[t]):n.update(e[t],o[t]),c="Map"===a(i)?i.get(t):i[t];n.isEquals(d,c)&&(void 0!==d||s.call(e,t))||(i===e&&(i=u(e)),"Map"===a(i)?i.set(t,d):i[t]=d)}}),i},e}();t.Context=p;var l={$push:function(e,t,n){return y(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return y(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,s){return function(e,t){r(Array.isArray(e),"Expected $splice target to be an array; got %s",e),j(t.$splice)}(t,n),e.forEach(function(e){j(e),t===s&&e.length&&(t=u(s)),o.apply(t,e)}),t},$set:function(e,t,n){return function(e){r(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}(n),e},$toggle:function(e,t){m(e,"$toggle");var n=e.length?u(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,r){return m(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===r&&(t=u(r)),delete t[e])}),t},$add:function(e,t,n,r){return h(t,"$add"),m(e,"$add"),"Map"===a(t)?e.forEach(function(e){var n=e[0],s=e[1];t===r&&t.get(n)!==s&&(t=u(r)),t.set(n,s)}):e.forEach(function(e){t!==r||t.has(e)||(t=u(r)),t.add(e)}),t},$remove:function(e,t,n,r){return h(t,"$remove"),m(e,"$remove"),e.forEach(function(e){t===r&&t.has(e)&&(t=u(r)),t.delete(e)}),t},$merge:function(e,t,n,s){var o,i;return o=t,r((i=e)&&"object"==typeof i,"update(): $merge expects a spec of type 'object'; got %s",i),r(o&&"object"==typeof o,"update(): $merge expects a target of type 'object'; got %s",o),c(e).forEach(function(n){e[n]!==t[n]&&(t===s&&(t=u(s)),t[n]=e[n])}),t},$apply:function(e,t){var n;return r("function"==typeof(n=e),"update(): expected spec of $apply to be a function; got %s.",n),e(t)}},f=new p;function y(e,t,n){r(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),m(t[n],n)}function m(e,t){r(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function j(e){r(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function h(e,t){var n=a(e);r("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",t,n)}t.isEquals=f.update.isEquals,t.extend=f.extend,t.default=f.update,t.default.default=e.exports=d(t.default,t)},"./node_modules/is-finite/index.js":function(e,t,n){"use strict";var r=n("./node_modules/number-is-nan/index.js");e.exports=Number.isFinite||function(e){return!("number"!=typeof e||r(e)||e===1/0||e===-1/0)}},"./node_modules/is-integer/index.js":function(e,t,n){var r=n("./node_modules/is-finite/index.js");e.exports=Number.isInteger||function(e){return"number"==typeof e&&r(e)&&Math.floor(e)===e}},"./node_modules/is-valid-month/index.js":function(e,t,n){"use strict";var r=n("./node_modules/is-integer/index.js");e.exports=function(e){return!("number"!=typeof e||!r(e))&&(e>=1&&e<=12)}},"./node_modules/number-is-nan/index.js":function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},"./node_modules/parse-int/index.js":function(e,t,n){"use strict";var r=n("./node_modules/is-integer/index.js"),s=/^-?\d+$/;e.exports=function(e){return"number"==typeof e?r(e)?e:void 0:"string"==typeof e&&s.test(e)?parseInt(e,10):void 0}},"./node_modules/parse-year/index.js":function(e,t,n){"use strict";var r=n("./node_modules/parse-int/index.js"),s=n("./node_modules/expand-year/index.js");e.exports=function(e,t,n){if(null!=(e=r(e)))return t?s(e,n):e}},"./node_modules/xtend/mutable.js":function(e,t){e.exports=function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var s in r)n.call(r,s)&&(e[s]=r[s])}return e};var n=Object.prototype.hasOwnProperty},"./node_modules/zero-fill/index.js":function(e,t){e.exports=function e(t,n,r){return void 0===n?function(n,r){return e(t,n,r)}:(void 0===r&&(r="0"),(t-=n.toString().length)>0?new Array(t+(/\./.test(n)?2:1)).join(r)+n:n+"")}}}]);