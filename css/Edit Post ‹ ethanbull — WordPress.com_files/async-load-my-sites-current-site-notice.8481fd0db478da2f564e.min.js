(window.webpackJsonp=window.webpackJsonp||[]).push([[69],{"./client/components/data/cart/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),r=n.n(s),o=n("./client/components/data/store-connection/index.jsx"),a=n("./client/lib/cart/store/index.js");const i=[a.a];function c(){return{cart:a.a.get()}}t.a=class extends r.a.Component{render(){return r.a.createElement(o.a,{stores:i,getStateFromStores:c},this.props.children)}}},"./client/components/data/query-active-promotions/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/prop-types/index.js"),r=n.n(s),o=n("./node_modules/react/index.js"),a=n("./node_modules/react-redux/es/index.js"),i=n("./client/state/active-promotions/selectors.js"),c=n("./client/state/data-layer/wpcom-http/actions.js"),d=n("./client/state/data-layer/wpcom-http/utils.js"),u=n("./client/state/data-layer/handler-registry.js");const l=Object(d.a)({fetch:e=>Object(c.a)({apiVersion:"1.1",method:"GET",path:"/me/active-promotions"},e),onSuccess:(e,t)=>{let n=t.active_promotions;return[m(),p(n)]},onError:(e,t)=>f(t instanceof Error?t.message:t)});Object(u.b)("state/data-layer/wpcom/active-promotions/index.js",{ACTIVE_PROMOTIONS_REQUEST:[l]});const p=e=>({type:"ACTIVE_PROMOTIONS_RECEIVE",activePromotions:e}),m=()=>({type:"ACTIVE_PROMOTIONS_REQUEST_SUCCESS"}),f=e=>({type:"ACTIVE_PROMOTIONS_REQUEST_FAILURE",error:e});class y extends o.Component{componentWillMount(){this.props.requestingActivePromotions||this.props.requestActivePromotions()}render(){return null}}y.propTypes={requestingActivePromotions:r.a.bool,requestActivePromotions:r.a.func},y.defaultProps={requestPlans:()=>{}};t.a=Object(a.b)(e=>({requestingPlans:Object(i.b)(e)}),{requestActivePromotions:()=>({type:"ACTIVE_PROMOTIONS_REQUEST"})})(y)},"./client/components/data/query-site-plans/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/prop-types/index.js"),r=n.n(s),o=n("./node_modules/react/index.js"),a=n("./node_modules/react-redux/es/index.js"),i=n("./node_modules/redux/es/redux.js"),c=n("./client/state/sites/plans/selectors.js"),d=n("./client/state/sites/plans/actions.js");class u extends o.Component{constructor(e){super(e),this.requestPlans=this.requestPlans.bind(this)}requestPlans(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props;!e.requestingSitePlans&&e.siteId&&e.fetchSitePlans(e.siteId)}componentWillMount(){this.requestPlans()}componentWillReceiveProps(e){!e.requestingSitePlans&&e.siteId&&this.props.siteId!==e.siteId&&this.requestPlans(e)}render(){return null}}u.propTypes={siteId:r.a.number,requestingPlans:r.a.bool,fetchSitePlans:r.a.func},u.defaultProps={fetchSitePlans:()=>{}},t.a=Object(a.b)((e,t)=>({requestingSitePlans:Object(c.l)(e,t.siteId)}),e=>Object(i.b)({fetchSitePlans:d.b},e))(u)},"./client/components/data/store-connection/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(s),o=n("./node_modules/prop-types/index.js"),a=n.n(o),i=n("./node_modules/react/index.js"),c=n.n(i),d=n("./node_modules/lodash/lodash.js"),u=n("./client/lib/abtest/index.js");class l extends c.a.Component{constructor(){super(...arguments),r()(this,"state",this.props.getStateFromStores(this.props)),r()(this,"addStoreListeners",e=>{e.forEach(function(e){e.on("change",this.handleStoresChanged)},this)}),r()(this,"removeStoreListeners",e=>{e.forEach(function(e){e.off("change",this.handleStoresChanged)},this)}),r()(this,"handleStoresChanged",()=>{this.setState(this.props.getStateFromStores(this.props))}),r()(this,"isDataLoading",()=>!(!this.props.loadingPlaceholder||!this.props.isDataLoading)&&this.props.isDataLoading(this.state))}componentDidMount(){this.addStoreListeners(this.props.stores)}componentWillReceiveProps(e){const t=e.getStateFromStores(e);Object(d.isEqual)(this.state,t)||(this.removeStoreListeners(this.props.stores),this.addStoreListeners(e.stores),this.setState(t))}componentWillUnmount(){this.removeStoreListeners(this.props.stores)}render(){if(this.isDataLoading())return c.a.createElement(this.props.loadingPlaceholder,this.state);if(this.props.component)return c.a.createElement(this.props.component,this.state);if("variantRightColumn"===Object(u.a)("showCheckoutCartRight"))return c.a.Children.map(this.props.children,e=>c.a.cloneElement(e,this.state));const e=c.a.Children.only(this.props.children);return c.a.cloneElement(e,this.state)}}r()(l,"propTypes",{component:a.a.func,getStateFromStores:a.a.func.isRequired,isDataLoading:a.a.func,loadingPlaceholder:a.a.func,stores:a.a.array.isRequired}),t.a=l},"./client/lib/discounts/index.js":function(e,t,n){"use strict";var s=n("./client/lib/plans/constants.js"),r=[{name:"simple_payments_wpcom",startsAt:new Date(2018,6,9,0,0,0),endsAt:new Date(2018,8,9,23,59,59),plansPageNoticeText:"Upgrade to a Premium or Business plan today and start collecting payments with the Simple Payments button!",targetPlans:[{type:s.Ec,group:s.Yb},{type:s.Fc,group:s.Yb}]},{name:"simple_payments_jetpack",startsAt:new Date(2018,6,9,0,0,0),endsAt:new Date(2018,8,9,23,59,59),plansPageNoticeText:"Upgrade to a Premium or Professional plan today and start collecting payments with the Simple Payments button!",targetPlans:[{type:s.Ec,group:s.Xb},{type:s.Fc,group:s.Xb}]},{name:"renewing_plan",startsAt:new Date(2018,6,11,0,0,0),endsAt:new Date(2018,6,16,23,59,59),plansPageNoticeText:"Enter coupon code YOURGIFT30 during checkout to redeem your 30% off discount!",targetPlans:[{type:s.Fc,group:s.Yb},{type:s.Gc,group:s.Yb}]},{name:"free_domain",plansPageNoticeTextTitle:"Get a free domain name by upgrading to any plan listed below!",plansPageNoticeText:"Improve your SEO, branding, credibility, and even word-of-mouth marketing with a custom domain. All plan upgrades include a free domain name of your choice for one year."},{name:"sale_feb_2019",startsAt:new Date(2019,2,4,0,0,0),endsAt:new Date(2019,2,8,0,0,0),nudgeText:"Sale! 20% off all plans",ctaText:"Upgrade",plansPageNoticeText:"Enter coupon code “MARCH20” at checkout to claim your 20% discount",targetPlans:[{type:s.Ec,group:s.Yb},{type:s.Bc,group:s.Yb},{type:s.Fc,group:s.Yb},{type:s.Gc,group:s.Yb}]},{name:"sale_feb_2019_jp",startsAt:new Date(2019,1,25,0,0,0),endsAt:new Date(2019,2,8,0,0,0),nudgeText:"Sale! 20% off all plans",ctaText:"Upgrade",plansPageNoticeText:"Enter coupon code “JPSALE20” at checkout to claim your 20% discount",targetPlans:[{type:s.Ec,group:s.Xb},{type:s.Fc,group:s.Xb},{type:s.Gc,group:s.Xb}]},{name:"plans_no_tabs",startsAt:new Date(2018,2,7,0,0,0),endsAt:new Date(2120,9,26,0,0,0)},{name:"new_plans",startsAt:new Date(2018,9,25,0,0,1),endsAt:new Date(2120,9,26,0,0,0)},{name:"default_plans_tab_business",startsAt:new Date(2018,9,25,0,0,1),endsAt:new Date(2120,9,26,0,0,0)}];function o(e){const t=r.find(function(t){if(e!==t.name)return!1;const n=new Date;return!(t.startsAt&&t.startsAt>n||t.endsAt&&t.endsAt<n)});return void 0!==t&&t}n.d(t,"b",function(){return o}),n.d(t,"a",function(){return r})},"./client/lib/memoize-last/index.js":function(e,t,n){"use strict";function s(e){let t,n;return function(){for(var s=arguments.length,r=new Array(s),o=0;o<s;o++)r[o]=arguments[o];return t&&r.length===t.length&&r.every((e,n)=>e===t[n])||(t=r,n=e(...r)),n}}n.d(t,"a",function(){return s})},"./client/my-sites/current-site/notice.jsx":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(s),o=n("./node_modules/prop-types/index.js"),a=n.n(o),i=n("./node_modules/react/index.js"),c=n.n(i),d=n("./node_modules/url/url.js"),u=n.n(d),l=n("./node_modules/moment/moment.js"),p=n.n(l),m=n("./node_modules/react-redux/es/index.js"),f=n("./packages/i18n-calypso/dist/esm/index.js"),y=n("./client/config/index.js"),j=n("./node_modules/classnames/index.js"),g=n.n(j),h=n("./client/components/gridicon/index.jsx"),b=n("./client/lib/analytics/track-component-view/index.jsx"),_=n("./client/state/analytics/actions.js");n("./client/my-sites/current-site/sidebar-banner/style.scss");class x extends i.Component{constructor(){super(...arguments),r()(this,"onClick",e=>{const t=this.props,n=t.ctaName,s=t.track,r=t.onClick;s("calypso_upgrade_nudge_cta_click",{cta_name:n}),r&&r(e)})}render(){const e=this.props,t=e.className,n=e.ctaName,s=e.ctaText,r=e.href,o=e.icon,a=e.text,i=g()("sidebar-banner",t);return c.a.createElement("div",{className:i},c.a.createElement(b.a,{eventName:"calypso_upgrade_nudge_impression",eventProperties:{cta_name:n}}),c.a.createElement("a",{className:"sidebar-banner__link",onClick:this.onClick,href:r},c.a.createElement("span",{className:"sidebar-banner__icon-wrapper"},c.a.createElement(h.a,{className:"sidebar-banner__icon",icon:o,size:18})),c.a.createElement("span",{className:"sidebar-banner__content"},c.a.createElement("span",{className:"sidebar-banner__text"},a)),c.a.createElement("span",{className:"sidebar-banner__cta"},s)))}}r()(x,"defaultProps",{className:""}),r()(x,"propTypes",{className:a.a.string,ctaName:a.a.string,ctaText:a.a.string,icon:a.a.string,href:a.a.string,text:a.a.string,onClick:a.a.func,track:a.a.func.isRequired,translate:a.a.func.isRequired});const v={track:_.i};var P=Object(m.b)(null,v)(Object(f.localize)(x)),O=n("./client/components/notice/index.jsx"),E=n("./client/components/notice/notice-action.jsx"),w=n("./client/state/selectors/get-active-discount.js"),S=n("./client/my-sites/domains/paths.js"),T=n("./client/state/sites/plans/selectors.js"),A=n("./client/state/selectors/can-current-user.js"),N=n("./client/state/selectors/is-domain-only-site.js"),D=n("./client/state/selectors/is-mapped-domain-site.js"),C=n("./client/state/selectors/is-site-on-free-plan.js"),I=n("./client/state/selectors/is-vip-site.js");var $=(e,t)=>{const n=Object(A.b)(e,t,"manage_options"),s=Object(D.a)(e,t),r=Object(C.a)(e,t),o=Object(I.a)(e,t);return n&&!s&&r&&!o},k=n("./client/components/data/query-site-plans/index.jsx"),q=n("./client/components/data/query-active-promotions/index.jsx"),R=n("./client/state/plugins/premium/selectors.js"),F=n("./client/components/data/cart/index.jsx"),M=n("./node_modules/lodash/lodash.js"),L=n("./client/state/ui/selectors.js"),U=n("./client/state/selectors/is-eligible-for-domain-to-paid-plan-upsell.js"),Y=n("./client/state/sites/selectors.js");class V extends i.Component{render(){const e=this.props,t=e.eligible,n=e.isConflicting,s=e.isDomainOnly,r=e.isJetpack,o=e.site,a=e.translate;if(!o||!t||n)return null;const i=s?"/start/site-selected/?siteSlug=".concat(encodeURIComponent(o.slug),"&siteId=").concat(encodeURIComponent(o.ID)):"/plans/".concat(o.slug),d=a(r?"Upgrade for full site backups.":"Upgrade your site and save.");return c.a.createElement(P,{ctaName:"domain-to-paid-sidebar",ctaText:a("Go"),href:i,icon:"info-outline",text:d})}}r()(V,"propTypes",{translate:a.a.func.isRequired}),r()(V,"defaultProps",{translate:M.noop});var J=Object(m.b)(e=>{const t=Object(L.d)(e),n=Object(N.a)(e,t.ID),s=Object(Y.J)(e,t.ID);return{eligible:Object(U.a)(e,t.ID),isConflicting:n&&Object(M.endsWith)(t.domain,".wordpress.com"),isDomainOnly:n,site:t,isJetpack:s}},null)(Object(f.localize)(V)),z=n("./client/lib/cart-values/index.js");var W=Object(f.localize)(e=>{let t=e.translate,n=e.cart,s=void 0===n?{}:n;return Object(z.l)(s)?c.a.createElement(O.b,{icon:"info-outline",isCompact:!0,status:"is-warning",text:t("Processing your payment...",{comment:"Notice to user that a payment is pending"})},c.a.createElement(E.a,{href:"/me/purchases/pending"},t("View",{context:"verb"}))):null});n.d(t,"SiteNotice",function(){return G});class G extends c.a.Component{getSiteRedirectNotice(e){if(!e||this.props.isDomainOnly)return null;if(!e.options||!e.options.is_redirect)return null;const t=u.a.parse(e.URL).hostname,n=this.props.translate;return c.a.createElement(O.b,{icon:"info-outline",isCompact:!0,showDismiss:!1,text:n("Redirects to {{a}}%(url)s{{/a}}",{args:{url:t},components:{a:c.a.createElement("a",{href:e.URL})}})},c.a.createElement(E.a,{href:Object(S.i)(e.domain)},n("Edit")))}domainCreditNotice(){if(!this.props.hasDomainCredit||!this.props.canManageOptions)return null;const e=this.props.translate;return c.a.createElement(O.b,{isCompact:!0,status:"is-success",icon:"info-outline",text:e("Free domain available")},c.a.createElement(E.a,{onClick:this.props.clickClaimDomainNotice,href:"/domains/add/".concat(this.props.site.slug)},e("Claim"),c.a.createElement(b.a,{eventName:"calypso_domain_credit_reminder_impression",eventProperties:{cta_name:"current_site_domain_notice"}})))}freeToPaidPlanNotice(){if(!this.props.isEligibleForFreeToPaidUpsell||this.props.isDomainOnly)return null;const e=this.props,t=e.site,n=e.translate;return c.a.createElement(P,{ctaName:"free-to-paid-sidebar",ctaText:n("Upgrade"),href:"/plans/"+t.slug,icon:"info-outline",text:n("Free domain with a plan")})}activeDiscountNotice(){if(!this.props.activeDiscount)return null;const e=this.props,t=e.site,n=e.activeDiscount,s=n.nudgeText,r=n.nudgeEndsTodayText,o=n.ctaText,a=n.name,i=r&&this.promotionEndsToday(n)?r:s;return i?c.a.createElement(P,{ctaName:"active-discount-sidebar",ctaText:o||"Upgrade",href:"/plans/".concat(t.slug,"?discount=").concat(a),icon:"info-outline",text:i}):null}promotionEndsToday(e){let t=e.endsAt;const n=new Date;return p()(n).format("YYYYMMDD")===p()(t).format("YYYYMMDD")}jetpackPluginsSetupNotice(){if(!this.props.pausedJetpackPluginsSetup||"jetpack_free"===this.props.site.plan.product_slug)return null;const e=this.props.translate;return c.a.createElement(O.b,{icon:"plugins",isCompact:!0,status:"is-info",text:e("Your %(plan)s plan needs setting up!",{args:{plan:this.props.site.plan.product_name_short}})},c.a.createElement(E.a,{href:"/plugins/setup/".concat(this.props.site.slug)},e("Finish")))}pendingPaymentNotice(){return y.a.isEnabled("async-payments")?c.a.createElement(F.a,null,c.a.createElement(W,null)):null}render(){const e=this.props.site;return e?c.a.createElement("div",{className:"site__notices"},c.a.createElement(q.a,null),this.activeDiscountNotice()||this.freeToPaidPlanNotice()||c.a.createElement(J,null),this.getSiteRedirectNotice(e),c.a.createElement(k.a,{siteId:e.ID}),this.pendingPaymentNotice(),this.domainCreditNotice(),this.jetpackPluginsSetupNotice()):c.a.createElement("div",{className:"site__notices"})}}r()(G,"propTypes",{site:a.a.object}),r()(G,"defaultProps",{});t.default=Object(m.b)((e,t)=>{const n=t.site&&t.site.ID?t.site.ID:null;return{isDomainOnly:Object(N.a)(e,n),isEligibleForFreeToPaidUpsell:$(e,n),activeDiscount:Object(w.a)(e),hasDomainCredit:Object(T.h)(e,n),canManageOptions:Object(A.b)(e,n,"manage_options"),pausedJetpackPluginsSetup:Object(R.i)(e,n)&&!Object(R.f)(e,n)}},e=>({clickClaimDomainNotice:()=>e(Object(_.i)("calypso_domain_credit_reminder_click",{cta_name:"current_site_domain_notice"})),clickFreeToPaidPlanNotice:()=>e(Object(_.i)("calypso_upgrade_nudge_cta_click",{cta_name:"free-to-paid-sidebar"}))}))(Object(f.localize)(G))},"./client/my-sites/current-site/sidebar-banner/style.scss":function(e,t,n){},"./client/state/active-promotions/selectors.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return r});const s=(e,t)=>-1!==(e=>e.activePromotions.items)(e).indexOf(t),r=e=>e.activePromotions.requesting},"./client/state/plugins/premium/selectors.js":function(e,t,n){"use strict";n.d(t,"h",function(){return i}),n.d(t,"e",function(){return c}),n.d(t,"d",function(){return d}),n.d(t,"i",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"g",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"c",function(){return y});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),r=n.n(s),o=n("./node_modules/lodash/lodash.js"),a=n("./client/lib/create-selector/index.js");const i=function(e,t){return void 0===e.plugins.premium.isRequesting[t]||e.plugins.premium.isRequesting[t]},c=function(e,t){return void 0!==e.plugins.premium.hasRequested[t]&&e.plugins.premium.hasRequested[t]},d=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=e.plugins.premium.plugins[t];return void 0===s?[]:("backups"!==n&&"scan"!==n||(n="vaultpress"),Object(o.filter)(s,e=>!n||n===e.slug))},u=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=d(e,t,n);return!Object(o.every)(s,e=>"wait"===e.status)},l=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=d(e,t,n);return 0===s.length||!Object(o.some)(s,e=>"done"!==e.status&&null===e.error)},p=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=d(e,t,n);return 0!==s.length&&Object(o.some)(s,e=>!Object(o.includes)(["done","wait"],e.status)&&null===e.error)},m=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=d(e,t,n),r=Object(o.find)(s,e=>!Object(o.includes)(["done","wait"],e.status)&&null===e.error);return void 0!==r&&r},f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const s=d(e,t,n),r=Object(o.find)(s,e=>"wait"===e.status&&null===e.error);return void 0!==r&&r},y=Object(a.a)(function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return d(e,t,n).reduce((e,t)=>{const n=Object(o.get)(t,"key"),s=Object(o.get)(t,"slug");return r()({},e,{[s]:n})},{})},(e,t)=>[e.plugins.premium.plugins[t]])},"./client/state/selectors/get-active-discount.js":function(e,t,n){"use strict";n.d(t,"b",function(){return p});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),r=n.n(s),o=n("./client/lib/discounts/index.js"),a=n("./client/lib/abtest/index.js"),i=n("./client/lib/plans/index.js"),c=n("./client/state/active-promotions/selectors.js"),d=n("./client/state/sites/selectors.js"),u=n("./client/state/ui/selectors.js"),l=n("./client/lib/memoize-last/index.js");const p=(e,t)=>{const n=new Date;if(!e.startsAt||!e.endsAt)return!1;if(e.startsAt>n||e.endsAt<n)return!1;if(!Object(c.a)(t,e.name))return!1;if(e.targetPlans){const n=Array.isArray(e.targetPlans)?e.targetPlans:[],s=Object(d.t)(t,Object(u.e)(t));return n.some(e=>Object(i.B)(s,e))}return!e.abTestName||"control"!==Object(a.a)(e.abTestName)},m=Object(l.a)((e,t)=>r()({},e,t));t.a=(e=>{const t=o.a.find(t=>p(t,e));if(!t)return null;const n=t.variations?t.variations[Object(a.a)(t.abTestName)]:null;return n?m(t,n):t})},"./client/state/selectors/is-eligible-for-domain-to-paid-plan-upsell.js":function(e,t,n){"use strict";var s=n("./client/state/selectors/can-current-user.js"),r=n("./client/state/selectors/is-mapped-domain-site.js"),o=n("./client/state/selectors/is-site-on-free-plan.js"),a=n("./client/state/selectors/is-vip-site.js");t.a=((e,t)=>{const n=Object(s.b)(e,t,"manage_options"),i=Object(o.a)(e,t),c=Object(r.a)(e,t),d=Object(a.a)(e,t);return n&&c&&!d&&i})},"./client/state/selectors/is-mapped-domain-site.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var s=n("./node_modules/lodash/lodash.js"),r=n("./client/state/selectors/get-raw-site.js");function o(e,t){const n=Object(r.a)(e,t);return n?Object(s.get)(n,"options.is_mapped_domain",!1):null}},"./client/state/selectors/is-site-on-free-plan.js":function(e,t,n){"use strict";var s=n("./client/state/sites/plans/selectors.js"),r=n("./client/lib/plans/index.js");t.a=((e,t)=>{const n=Object(s.a)(e,t);return!!n&&Object(r.p)(n.productSlug)})},"./client/state/sites/plans/actions.js":function(e,t,n){"use strict";var s=n("./node_modules/debug/src/browser.js"),r=n.n(s),o=n("./node_modules/lodash/lodash.js"),a=n("./packages/i18n-calypso/dist/esm/index.js"),i=n.n(a),c=n("./client/state/sites/plans/assembler.js"),d=n("./client/lib/wp/browser.js"),u=n("./client/state/data-layer/wpcom-http/utils.js"),l=n("./client/state/notices/actions.js"),p=n("./client/state/data-layer/wpcom-http/actions.js"),m=n("./client/state/data-layer/handler-registry.js");const f=e=>({duration:8e3,id:"sites-plan-transfer-notice-".concat(e)});Object(m.b)("state/data-layer/wpcom/sites/plan-transfer/index.js",{SITE_PLAN_OWNERSHIP_TRANSFER:[Object(u.a)({fetch:e=>Object(p.a)({apiVersion:"1",method:"POST",path:"/sites/"+e.siteId+"/plan-transfer",query:{new_user_id:e.newOwnerUserId}},e),onSuccess:e=>{let t=e.siteId;return[Object(l.f)(Object(a.translate)("Plan purchaser has been changed successfully."),f(t)),h(t)]},onError:(e,t)=>{let n=e.siteId,s=t.message;return Object(l.b)(s,f(n))}})]}),n.d(t,"a",function(){return j}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return b});const y=r()("calypso:site-plans:actions");function j(e){return{type:"SITE_PLANS_REMOVE",siteId:e}}function g(e){return t=>(t({type:"SITE_PLANS_FETCH",siteId:e}),new Promise(n=>{d.a.undocumented().getSitePlans(e,(s,r)=>{if(s){y("Fetching site plans failed: ",s);const n=s.message||i.a.translate("There was a problem fetching site plans. Please try again later or contact support.");t({type:"SITE_PLANS_FETCH_FAILED",siteId:e,error:n})}else t(function(e,t){return{type:"SITE_PLANS_FETCH_COMPLETED",siteId:e,plans:Object(o.map)(t,c.a)}}(e,r));n()})}))}function h(e){return t=>{t(j(e)),t(g(e))}}const b=(e,t)=>({type:"SITE_PLAN_OWNERSHIP_TRANSFER",newOwnerUserId:t,siteId:e})},"./node_modules/array-find/find.js":function(e,t,n){"use strict";e.exports=function(e,t,n){if("function"==typeof Array.prototype.find)return e.find(t,n);n=n||this;var s,r=e.length;if("function"!=typeof t)throw new TypeError(t+" is not a function");for(s=0;s<r;s++)if(t.call(n,e[s],s,e))return e[s]}},"./node_modules/cpf_cnpj/index.js":function(e,t,n){e.exports={CPF:n("./node_modules/cpf_cnpj/lib/cpf.js"),CNPJ:n("./node_modules/cpf_cnpj/lib/cnpj.js")}},"./node_modules/cpf_cnpj/lib/cnpj.js":function(e,t){var n,s,r,o,a;n=["00000000000000","11111111111111","22222222222222","33333333333333","44444444444444","55555555555555","66666666666666","77777777777777","88888888888888","99999999999999"],s=/[-\/.]/g,r=/[^\d]/g,o=function(e){var t=2,n=e.split("").reduce(function(e,t){return[parseInt(t,10)].concat(e)},[]).reduce(function(e,n){return e+=n*t,t=9===t?2:t+1,e},0)%11;return n<2?0:11-n},a={format:function(e){return this.strip(e).replace(/^(\d{2})(\d{3})(\d{3})(\d{4})(\d{2})$/,"$1.$2.$3/$4-$5")},strip:function(e,t){var n=t?s:r;return(e||"").toString().replace(n,"")},isValid:function(e,t){var s=this.strip(e,t);if(!s)return!1;if(14!==s.length)return!1;if(n.indexOf(s)>=0)return!1;var r=s.substr(0,12);return r+=o(r),(r+=o(r)).substr(-2)===s.substr(-2)},generate:function(e){for(var t="",n=0;n<12;n++)t+=Math.floor(9*Math.random());return t+=o(t),t+=o(t),e?this.format(t):t}},void 0!==t?e.exports=a:window.CNPJ=a},"./node_modules/cpf_cnpj/lib/cpf.js":function(e,t){var n,s,r,o,a;n=["00000000000","11111111111","22222222222","33333333333","44444444444","55555555555","66666666666","77777777777","88888888888","99999999999","12345678909"],s=/[.-]/g,r=/[^\d]/g,o=function(e){var t=(e=e.split("").map(function(e){return parseInt(e,10)})).length+1,n=e.map(function(e,n){return e*(t-n)}).reduce(function(e,t){return e+t})%11;return n<2?0:11-n},a={format:function(e){return this.strip(e).replace(/^(\d{3})(\d{3})(\d{3})(\d{2})$/,"$1.$2.$3-$4")},strip:function(e,t){var n=t?s:r;return(e||"").toString().replace(n,"")},isValid:function(e,t){var s=this.strip(e,t);if(!s)return!1;if(11!==s.length)return!1;if(n.indexOf(s)>=0)return!1;var r=s.substr(0,9);return r+=o(r),(r+=o(r)).substr(-2)===s.substr(-2)},generate:function(e){for(var t="",n=0;n<9;n++)t+=Math.floor(9*Math.random());return t+=o(t),t+=o(t),e?this.format(t):t}},void 0!==t?e.exports=a:window.CPF=a},"./node_modules/creditcards-types/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/creditcards-types/types/index.js")},"./node_modules/creditcards-types/type.js":function(e,t,n){"use strict";var s=n("./node_modules/xtend/mutable.js");function r(e){if(!(this instanceof r))return new r(e);s(this,e)}e.exports=r,r.prototype.cvcLength=3,r.prototype.luhn=!0,r.prototype.groupPattern=/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?/,r.prototype.group=function(e){return(e.match(this.groupPattern)||[]).slice(1).filter(Boolean)},r.prototype.test=function(e,t){return this[t?"eagerPattern":"pattern"].test(e)}},"./node_modules/creditcards-types/types/american-express.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"American Express",pattern:/^3[47]\d{13}$/,eagerPattern:/^3[47]/,groupPattern:/(\d{1,4})(\d{1,6})?(\d{1,5})?/,cvcLength:4})},"./node_modules/creditcards-types/types/dankort.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"Dankort",pattern:/^5019\d{12}$/,eagerPattern:/^5019/})},"./node_modules/creditcards-types/types/diners-club.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"Diners Club",pattern:/^3(0[0-5]|[68]\d)\d{11}$/,eagerPattern:/^3(0|[68])/,groupPattern:/(\d{1,4})?(\d{1,6})?(\d{1,4})?/})},"./node_modules/creditcards-types/types/discover.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"Discover",pattern:/^6(011(0[0-9]|[2-4]\d|74|7[7-9]|8[6-9]|9[0-9])|4[4-9]\d{3}|5\d{4})\d{10}$/,eagerPattern:/^6(011(0[0-9]|[2-4]|74|7[7-9]|8[6-9]|9[0-9])|4[4-9]|5)/})},"./node_modules/creditcards-types/types/elo.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"Elo",pattern:/^(4[035]|5[0]|6[235])(6[7263]|9[90]|1[2416]|7[736]|8[9]|0[04579]|5[0])([0-9])([0-9])\d{10}$/,eagerPattern:/^(4[035]|5[0]|6[235])(6[7263]|9[90]|1[2416]|7[736]|8[9]|0[04579]|5[0])([0-9])([0-9])/,groupPattern:/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/})},"./node_modules/creditcards-types/types/forbrugsforeningen.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"Forbrugsforeningen",pattern:/^600722\d{10}$/,eagerPattern:/^600/})},"./node_modules/creditcards-types/types/index.js":function(e,t,n){"use strict";e.exports=[n("./node_modules/creditcards-types/types/visa.js"),n("./node_modules/creditcards-types/types/maestro.js"),n("./node_modules/creditcards-types/types/forbrugsforeningen.js"),n("./node_modules/creditcards-types/types/dankort.js"),n("./node_modules/creditcards-types/types/mastercard.js"),n("./node_modules/creditcards-types/types/american-express.js"),n("./node_modules/creditcards-types/types/diners-club.js"),n("./node_modules/creditcards-types/types/discover.js"),n("./node_modules/creditcards-types/types/jcb.js"),n("./node_modules/creditcards-types/types/unionpay.js"),n("./node_modules/creditcards-types/types/troy.js"),n("./node_modules/creditcards-types/types/elo.js")]},"./node_modules/creditcards-types/types/jcb.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"JCB",pattern:/^35\d{14}$/,eagerPattern:/^35/})},"./node_modules/creditcards-types/types/maestro.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"Maestro",pattern:/^(?:5[06789]\d\d|(?!6011[0234])(?!60117[4789])(?!60118[6789])(?!60119)(?!64[456789])(?!65)6\d{3})\d{8,15}$/,eagerPattern:/^(5(018|0[23]|[68])|6[37]|60111|60115|60117([56]|7[56])|60118[0-5]|64[0-3]|66)/,groupPattern:/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/})},"./node_modules/creditcards-types/types/mastercard.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"Mastercard",pattern:/^(5[1-5][0-9]{2}|222[1-9]|22[3-9][0-9]|2[3-6][0-9]{2}|27[01][0-9]|2720)\d{12}$/,eagerPattern:/^(2[3-7]|22[2-9]|5[1-5])/})},"./node_modules/creditcards-types/types/troy.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"Troy",pattern:/^9792\d{12}$/,eagerPattern:/^9792/})},"./node_modules/creditcards-types/types/unionpay.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"UnionPay",pattern:/^62[0-5]\d{13,16}$/,eagerPattern:/^62/,groupPattern:/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/,luhn:!1})},"./node_modules/creditcards-types/types/visa.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/type.js");e.exports=s({name:"Visa",pattern:/^4\d{12}(\d{3}|\d{6})?$/,eagerPattern:/^4/,groupPattern:/(\d{1,4})(\d{1,4})?(\d{1,4})?(\d{1,4})?(\d{1,3})?/})},"./node_modules/creditcards/card.js":function(e,t,n){"use strict";var s=n("./node_modules/fast-luhn/index.js"),r=n("./node_modules/creditcards/types.js");e.exports=function(e){var t=r(e);return{types:e,parse:function(e){return"string"!=typeof e?"":e.replace(/[^\d]/g,"")},format:function(e,t){var s=n(e,!0);return s?s.group(e).join(t||" "):e},type:function(e,t){var s=n(e,t);return s?s.name:void 0},luhn:s,isValid:function(e,r){r=r?t.get(r):n(e);return!!r&&(!r.luhn||s(e))&&r.test(e)}};function n(e,n){return t.find(function(t){return t.test(e,n)})}}},"./node_modules/creditcards/cvc.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards/types.js"),r=/^\d{3,4}$/;e.exports=function(e){var t=s(e);return{isValid:function(e,n){if("string"!=typeof e)return!1;if(!r.test(e))return!1;if(!n)return t.some(function(t){return t.cvcLength===e.length});return t.get(n).cvcLength===e.length}}}},"./node_modules/creditcards/expiration.js":function(e,t,n){"use strict";var s=n("./node_modules/is-valid-month/index.js"),r=n("./node_modules/parse-int/index.js"),o=n("./node_modules/parse-year/index.js");e.exports={isPast:function(e,t){return Date.now()>=new Date(t,e)},month:{parse:function(e){return r(e)},isValid:s},year:{parse:o,format:function(e,t){return e=e.toString(),t?e.substr(2,4):e},isValid:function(e){return"number"==typeof e&&(e=r(e))>0},isPast:function(e){return(new Date).getFullYear()>e}}}},"./node_modules/creditcards/index.js":function(e,t,n){"use strict";var s=n("./node_modules/creditcards-types/index.js"),r=n("./node_modules/creditcards/card.js"),o=n("./node_modules/creditcards/cvc.js"),a=n("./node_modules/creditcards/expiration.js");function i(e){return{card:r(e),cvc:o(e),expiration:a}}e.exports=i(s),e.exports.withTypes=i},"./node_modules/creditcards/types.js":function(e,t,n){"use strict";var s=n("./node_modules/array-find/find.js"),r=n("./node_modules/creditcards-types/index.js");e.exports=function(e){var t=e.reduce(function(e,t){return e[t.name]=t,e},{});return{find:s.bind(null,e),some:e.some.bind(e),get:function(e){var n=t[e];if(!n)throw new Error("No type found for name: "+e);return n}}},e.exports.defaults=r},"./node_modules/expand-year/index.js":function(e,t,n){"use strict";var s=n("./node_modules/zero-fill/index.js"),r=n("./node_modules/parse-int/index.js"),o=s(2);e.exports=function(e,t){var n=(t=t||new Date).getFullYear().toString().substr(0,2);return e=r(e),r(n+o(e))}},"./node_modules/fast-luhn/index.js":function(e,t,n){"use strict";var s;e.exports=(s=[0,2,4,6,8,1,3,5,7,9],function(e){if("string"!=typeof e)throw new TypeError("Expected string input");if(!e)return!1;for(var t,n=e.length,r=1,o=0;n;)t=parseInt(e.charAt(--n),10),o+=(r^=1)?s[t]:t;return o%10==0})},"./node_modules/immutability-helper/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n("./node_modules/invariant/browser.js"),r=Object.prototype.hasOwnProperty,o=Array.prototype.splice,a=Object.prototype.toString;function i(e){return a.call(e).slice(8,-1)}var c=Object.assign||function(e,t){return d(t).forEach(function(n){r.call(t,n)&&(e[n]=t[n])}),e},d="function"==typeof Object.getOwnPropertySymbols?function(e){return Object.keys(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.keys(e)};function u(e){return Array.isArray(e)?c(e.constructor(e.length),e):"Map"===i(e)?new Map(e):"Set"===i(e)?new Set(e):e&&"object"==typeof e?c(Object.create(Object.getPrototypeOf(e)),e):e}var l=function(){function e(){this.commands=c({},p),this.update=this.update.bind(this),this.update.extend=this.extend=this.extend.bind(this),this.update.isEquals=function(e,t){return e===t},this.update.newContext=function(){return(new e).update}}return Object.defineProperty(e.prototype,"isEquals",{get:function(){return this.update.isEquals},set:function(e){this.update.isEquals=e},enumerable:!0,configurable:!0}),e.prototype.extend=function(e,t){this.commands[e]=t},e.prototype.update=function(e,t){var n=this,o="function"==typeof t?{$apply:t}:t;Array.isArray(e)&&Array.isArray(o)||s(!Array.isArray(o),"update(): You provided an invalid spec to update(). The spec may not contain an array except as the value of $set, $push, $unshift, $splice or any custom command allowing an array value."),s("object"==typeof o&&null!==o,"update(): You provided an invalid spec to update(). The spec and every included key path must be plain objects containing one of the following commands: %s.",Object.keys(this.commands).join(", "));var a=e;return d(o).forEach(function(t){if(r.call(n.commands,t)){var s=e===a;a=n.commands[t](o[t],a,o,e),s&&n.isEquals(a,e)&&(a=e)}else{var c="Map"===i(e)?n.update(e.get(t),o[t]):n.update(e[t],o[t]),d="Map"===i(a)?a.get(t):a[t];n.isEquals(c,d)&&(void 0!==c||r.call(e,t))||(a===e&&(a=u(e)),"Map"===i(a)?a.set(t,c):a[t]=c)}}),a},e}();t.Context=l;var p={$push:function(e,t,n){return f(t,n,"$push"),e.length?t.concat(e):t},$unshift:function(e,t,n){return f(t,n,"$unshift"),e.length?e.concat(t):t},$splice:function(e,t,n,r){return function(e,t){s(Array.isArray(e),"Expected $splice target to be an array; got %s",e),j(t.$splice)}(t,n),e.forEach(function(e){j(e),t===r&&e.length&&(t=u(r)),o.apply(t,e)}),t},$set:function(e,t,n){return function(e){s(1===Object.keys(e).length,"Cannot have more than one key in an object with $set")}(n),e},$toggle:function(e,t){y(e,"$toggle");var n=e.length?u(t):t;return e.forEach(function(e){n[e]=!t[e]}),n},$unset:function(e,t,n,s){return y(e,"$unset"),e.forEach(function(e){Object.hasOwnProperty.call(t,e)&&(t===s&&(t=u(s)),delete t[e])}),t},$add:function(e,t,n,s){return g(t,"$add"),y(e,"$add"),"Map"===i(t)?e.forEach(function(e){var n=e[0],r=e[1];t===s&&t.get(n)!==r&&(t=u(s)),t.set(n,r)}):e.forEach(function(e){t!==s||t.has(e)||(t=u(s)),t.add(e)}),t},$remove:function(e,t,n,s){return g(t,"$remove"),y(e,"$remove"),e.forEach(function(e){t===s&&t.has(e)&&(t=u(s)),t.delete(e)}),t},$merge:function(e,t,n,r){var o,a;return o=t,s((a=e)&&"object"==typeof a,"update(): $merge expects a spec of type 'object'; got %s",a),s(o&&"object"==typeof o,"update(): $merge expects a target of type 'object'; got %s",o),d(e).forEach(function(n){e[n]!==t[n]&&(t===r&&(t=u(r)),t[n]=e[n])}),t},$apply:function(e,t){var n;return s("function"==typeof(n=e),"update(): expected spec of $apply to be a function; got %s.",n),e(t)}},m=new l;function f(e,t,n){s(Array.isArray(e),"update(): expected target of %s to be an array; got %s.",n,e),y(t[n],n)}function y(e,t){s(Array.isArray(e),"update(): expected spec of %s to be an array; got %s. Did you forget to wrap your parameter in an array?",t,e)}function j(e){s(Array.isArray(e),"update(): expected spec of $splice to be an array of arrays; got %s. Did you forget to wrap your parameters in an array?",e)}function g(e,t){var n=i(e);s("Map"===n||"Set"===n,"update(): %s expects a target of type Set or Map; got %s",t,n)}t.isEquals=m.update.isEquals,t.extend=m.extend,t.default=m.update,t.default.default=e.exports=c(t.default,t)},"./node_modules/is-finite/index.js":function(e,t,n){"use strict";var s=n("./node_modules/number-is-nan/index.js");e.exports=Number.isFinite||function(e){return!("number"!=typeof e||s(e)||e===1/0||e===-1/0)}},"./node_modules/is-integer/index.js":function(e,t,n){var s=n("./node_modules/is-finite/index.js");e.exports=Number.isInteger||function(e){return"number"==typeof e&&s(e)&&Math.floor(e)===e}},"./node_modules/is-valid-month/index.js":function(e,t,n){"use strict";var s=n("./node_modules/is-integer/index.js");e.exports=function(e){return!("number"!=typeof e||!s(e))&&(e>=1&&e<=12)}},"./node_modules/number-is-nan/index.js":function(e,t,n){"use strict";e.exports=Number.isNaN||function(e){return e!=e}},"./node_modules/parse-int/index.js":function(e,t,n){"use strict";var s=n("./node_modules/is-integer/index.js"),r=/^-?\d+$/;e.exports=function(e){return"number"==typeof e?s(e)?e:void 0:"string"==typeof e&&r.test(e)?parseInt(e,10):void 0}},"./node_modules/parse-year/index.js":function(e,t,n){"use strict";var s=n("./node_modules/parse-int/index.js"),r=n("./node_modules/expand-year/index.js");e.exports=function(e,t,n){if(null!=(e=s(e)))return t?r(e,n):e}},"./node_modules/xtend/mutable.js":function(e,t){e.exports=function(e){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var r in s)n.call(s,r)&&(e[r]=s[r])}return e};var n=Object.prototype.hasOwnProperty},"./node_modules/zero-fill/index.js":function(e,t){e.exports=function e(t,n,s){return void 0===n?function(n,s){return e(t,n,s)}:(void 0===s&&(s="0"),(t-=n.toString().length)>0?new Array(t+(/\./.test(n)?2:1)).join(s)+n:n+"")}}}]);