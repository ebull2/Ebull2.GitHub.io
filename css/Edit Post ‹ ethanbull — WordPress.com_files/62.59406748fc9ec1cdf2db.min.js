(window.webpackJsonp=window.webpackJsonp||[]).push([[62],{"./client/components/close-on-escape/index.jsx":function(e,t,n){"use strict";var i=n("./node_modules/lodash/lodash.js"),s=n("./node_modules/prop-types/index.js"),a=n.n(s),o=n("./node_modules/react/index.js");const r=27;let c=[];function d(e){if(!Object(i.isEmpty)(c)&&e.keyCode===r&&(t=e.target,!Object(i.includes)(["INPUT","TEXTAREA"],t.nodeName))){Object(i.last)(c).onEscape()}var t}function l(e,t){c.push({component:e,onEscape:t}),Object(i.isEmpty)(c)||document.addEventListener("keydown",d,!0)}function u(e){c=Object(i.filter)(c,t=>t.component!==e),Object(i.isEmpty)(c)&&document.removeEventListener("keydown",d,!0)}class p extends o.Component{componentDidMount(){l(this,this.props.onEscape)}componentWillUnmount(){u(this,this.props.onEscape)}render(){return null}}p.propTypes={onEscape:a.a.func},p.defaultProps={onEscape:i.noop},t.a=p},"./client/components/data/query-post-types/index.jsx":function(e,t,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),o=n.n(a),r=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),d=n("./node_modules/lodash/lodash.js"),l=n("./client/state/sites/selectors.js"),u=n("./client/state/site-settings/selectors.js"),p=n("./client/state/post-types/actions.js");const m=["jetpack_portfolio","jetpack_testimonial"];class _ extends r.Component{componentWillMount(){this.request(this.props)}componentWillReceiveProps(e){const t=this.props,n=t.siteSettings,i=t.siteId,s=t.themeSlug,a=e.siteSettings,o=e.siteId,r=e.themeSlug,c=s&&r&&s!==r,l=!Object(d.isEqual)(Object(d.pick)(n,m),Object(d.pick)(a,m));(i!==o||c||l)&&this.request(e)}request(e){e.requestPostTypes(e.siteId)}render(){return null}}s()(_,"propTypes",{siteId:o.a.number.isRequired,requestingPostTypes:o.a.bool,themeSlug:o.a.string,postTypeSettings:o.a.object,requestPostTypes:o.a.func}),t.a=Object(c.b)((e,t)=>{let n=t.siteId;return{siteSettings:Object(u.a)(e,n),themeSlug:Object(l.r)(e,n,"theme_slug")}},{requestPostTypes:p.b})(_)},"./client/components/jetpack-logo/index.jsx":function(e,t,n){"use strict";var i=n("./node_modules/react/index.js"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),o=n.n(a),r=n("./node_modules/classnames/index.js"),c=n.n(r);const d=s.a.createElement(s.a.Fragment,null,s.a.createElement("path",{className:"jetpack-logo__icon-circle",fill:"#00be28",d:"M16,0C7.2,0,0,7.2,0,16s7.2,16,16,16s16-7.2,16-16S24.8,0,16,0z"}),s.a.createElement("polygon",{className:"jetpack-logo__icon-triangle",fill:"#fff",points:"15,19 7,19 15,3 "}),s.a.createElement("polygon",{className:"jetpack-logo__icon-triangle",fill:"#fff",points:"17,29 17,13 25,13 "})),l=e=>{let t=e.full,n=void 0!==t&&t,i=e.size,a=void 0===i?32:i,o=e.className;const r=c()("jetpack-logo",o);return!0===n?s.a.createElement("svg",{height:a,className:r,viewBox:"0 0 118 32"},s.a.createElement("title",null,"Jetpack"),d,s.a.createElement("path",{className:"jetpack-logo__text",d:"M41.3 26.6c-.5-.7-.9-1.4-1.3-2.1 2.3-1.4 3-2.5 3-4.6V8h-3V6h6v13.4C46 22.8 45 24.8 41.3 26.6zM58.5 21.3c-1.5.5-2.7.6-4.2.6-3.6 0-5.8-1.8-5.8-6 0-3.1 1.9-5.9 5.5-5.9s4.9 2.5 4.9 4.9c0 .8 0 1.5-.1 2h-7.3c.1 2.5 1.5 2.8 3.6 2.8 1.1 0 2.2-.3 3.4-.7C58.5 19 58.5 21.3 58.5 21.3zM56 15c0-1.4-.5-2.9-2-2.9-1.4 0-2.3 1.3-2.4 2.9C51.6 15 56 15 56 15zM65 18.4c0 1.1.8 1.3 1.4 1.3.5 0 2-.2 2.6-.4v2.1c-.9.3-2.5.5-3.7.5-1.5 0-3.2-.5-3.2-3.1V12H60v-2h2.1V7.1H65V10h4v2h-4V18.4zM71 10h3v1.3c1.1-.8 1.9-1.3 3.3-1.3 2.5 0 4.5 1.8 4.5 5.6s-2.2 6.3-5.8 6.3c-.9 0-1.3-.1-2-.3V28h-3V10zM76.5 12.3c-.8 0-1.6.4-2.5 1.2v5.9c.6.1.9.2 1.8.2 2 0 3.2-1.3 3.2-3.9C79 13.4 78.1 12.3 76.5 12.3zM93 22h-3v-1.5c-.9.7-1.9 1.5-3.5 1.5-1.5 0-3.1-1.1-3.1-3.2 0-2.9 2.5-3.4 4.2-3.7l2.4-.3v-.3c0-1.5-.5-2.3-2-2.3-.7 0-2.3.5-3.7 1.1L84 11c1.2-.4 3-1 4.4-1 2.7 0 4.6 1.4 4.6 4.7L93 22zM90 16.4l-2.2.4c-.7.1-1.4.5-1.4 1.6 0 .9.5 1.4 1.3 1.4s1.5-.5 2.3-1V16.4zM104.5 21.3c-1.1.4-2.2.6-3.5.6-4.2 0-5.9-2.4-5.9-5.9 0-3.7 2.3-6 6.1-6 1.4 0 2.3.2 3.2.5V13c-.8-.3-2-.6-3.2-.6-1.7 0-3.2.9-3.2 3.6 0 2.9 1.5 3.8 3.3 3.8.9 0 1.9-.2 3.2-.7V21.3zM110 15.2c.2-.3.2-.8 3.8-5.2h3.7l-4.6 5.7 5 6.3h-3.7l-4.2-5.8V22h-3V6h3V15.2z"})):24===a?s.a.createElement("svg",{className:r,height:"24",width:"24",viewBox:"0 0 24 24"},s.a.createElement("path",{d:"M12,2C6.5,2,2,6.5,2,12s4.5,10,10,10s10-4.5,10-10S17.5,2,12,2z M11,14H6l5-10V14z M13,20V10h5L13,20z"})):s.a.createElement("svg",{className:r,height:a,width:a,viewBox:"0 0 32 32"},d)};l.propTypes={full:o.a.bool,size:o.a.number},t.a=l},"./client/lib/gsuite/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"b",function(){return m}),n.d(t,"c",function(){return _}),n.d(t,"d",function(){return b}),n.d(t,"e",function(){return g}),n.d(t,"f",function(){return f}),n.d(t,"g",function(){return h}),n.d(t,"h",function(){return E}),n.d(t,"i",function(){return I}),n.d(t,"j",function(){return j}),n.d(t,"k",function(){return y}),n.d(t,"l",function(){return A});var i=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),s=n.n(i),a=n("./packages/format-currency/dist/esm/index.js"),o=n.n(a),r=n("./node_modules/lodash/lodash.js"),c=n("./client/lib/domains/constants.js"),d=n("./client/lib/user/index.js");const l="https://mail.google.com/a/";function u(e){const t=Object(r.some)(["google"],t=>Object(r.includes)(e,t));return!(Object(r.some)([".in",".wpcomstaging.com"],t=>Object(r.endsWith)(e,t))||t||A())}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return void 0!==n.precision&&(e=function(e,t){const n=Math.pow(10,t);return Math.ceil(e*n)/n}(e,n.precision)),o()(e,t,e%1>0?{}:{precision:0})}function m(e,t){return p(e,t)}function _(e,t){if(e&&u(e))return e;const n=g(t),i=s()(n,1)[0];return i&&i.name||""}function g(e){return e.filter(function(e){const t=Object(r.includes)([c.h.REGISTERED],e.type)&&(e.hasWpcomNameservers||E(e)),n=Object(r.includes)([c.h.MAPPED],e.type),i=e.googleAppsSubscription&&"other_provider"!==e.googleAppsSubscription.status;return(t||n)&&u(e.name)&&i})}function f(e,t){return"https://accounts.google.com/AccountChooser?"+"Email=".concat(encodeURIComponent(e))+"&service=CPanel"+"&continue=".concat(encodeURIComponent("https://admin.google.com/".concat(t,"/AcceptTermsOfService?continue=https://mail.google.com/mail/u/").concat(e)))}function h(e,t){return p(e/12,t,{precision:1})}function b(e){return l+e}function E(e){const t=Object(r.get)(e,"googleAppsSubscription.status","");return"no_subscription"!==t&&"other_provider"!==t}function I(e){return"other_provider"===Object(r.get)(e,"googleAppsSubscription.status","")}function j(e){return g(e).length>0}function y(e){return 0!==Object(r.get)(e,"googleAppsSubscription.pendingUsers.length",0)}function A(){const e=Object(d.default)();return!Object(r.get)(e.get(),"is_valid_google_apps_country",!1)}},"./client/lib/media/actions.js":function(e,t,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),s=n.n(i),a=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/debug/src/browser.js"),r=n.n(o),c=n("./client/dispatcher/index.js"),d=n("./client/lib/wp/browser.js"),l=n("./client/lib/redux-bridge/index.js"),u=n("./client/state/ui/editor/selectors.js"),p=n("./client/lib/media/utils.js"),m=n("./client/lib/media/store.js"),_=n("./client/lib/media/list-store.js"),g=n("./client/lib/media/validation-store.js");const f=r()("calypso:media"),h={_fetching:{}},b=3154e7;h.setQuery=function(e,t){c.a.handleViewAction({type:"SET_MEDIA_QUERY",siteId:e,query:t})},h.fetch=function(e,t){const n=[e,t].join();h._fetching[n]||(h._fetching[n]=!0,c.a.handleViewAction({type:"FETCH_MEDIA_ITEM",siteId:e,id:t}),f("Fetching media for %d using ID %d",e,t),d.a.site(e).media(t).get(function(t,i){c.a.handleServerAction({type:"RECEIVE_MEDIA_ITEM",error:t,siteId:e,data:i}),delete h._fetching[n]}))},h.fetchNextPage=function(e){if(_.a.isFetchingNextPage(e))return;c.a.handleViewAction({type:"FETCH_MEDIA_ITEMS",siteId:e});const t=_.a.getNextPageQuery(e),n=(n,i)=>{c.a.handleServerAction({type:"RECEIVE_MEDIA_ITEMS",error:n,siteId:e,data:i,query:t})};f("Fetching media for %d using query %o",e,t),t.source?d.a.undocumented().externalMediaList(t,n):d.a.site(e).mediaList(t,n)};function E(e,t,n){const i=Date.now()+b,a=n.ID;return t.reduce((o,r,d)=>{const l=new Date(i-(t.length-d)).toISOString(),u=s()({date:l},Object(p.c)(r));return r.ID&&(u.ID=r.ID),c.a.handleViewAction({type:"CREATE_MEDIA_ITEM",siteId:a,data:u,site:n}),g.a.getErrors(a,u.ID).length?Promise.resolve():o.then(()=>{const t={type:"RECEIVE_MEDIA_ITEM",id:u.ID,siteId:a};return e(r,a).then(e=>{c.a.handleServerAction(Object.assign(t,{data:e.media[0]})),c.a.handleServerAction({type:"FETCH_MEDIA_LIMITS",siteId:a})}).catch(e=>{c.a.handleServerAction(Object.assign(t,{error:e}))})})},Promise.resolve())}h.addExternal=function(e,t,n){return E((e=>(t,n)=>d.a.undocumented().site(n).uploadExternalMedia(e,[t.guid]))(n),t,e)},h.add=function(e,t){return t instanceof window.FileList&&(t=[...t]),Array.isArray(t)||(t=[t]),E((()=>(e,t)=>{const n="string"==typeof e,i=Object(u.f)(Object(l.c)()),s=e.title;return i?e={parent_id:i,[n?"url":"file"]:e}:e.fileContents&&(e={file:e}),s&&(e.title=s),f("Uploading media to %d from %o",t,e),n?d.a.site(t).addMediaUrls({},e):d.a.site(t).addMediaFiles({},e)})(),t,e)},h.edit=function(e,t){const n=Object(a.assign)({},m.a.get(e,t.ID),t);c.a.handleViewAction({type:"RECEIVE_MEDIA_ITEM",siteId:e,data:n})},h.update=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(Array.isArray(t))return void t.forEach(h.update.bind(null,e));const i=t.ID,o=Object(a.assign)({},m.a.get(e,i),t),r={type:"RECEIVE_MEDIA_ITEM",siteId:e,data:o};t.media?r.data=s()({},o,Object(p.c)(t.media),{ID:i}):n&&t.media_url&&(r.data=s()({},o,Object(p.c)(t.media_url),{ID:i})),n&&r.data&&(r.data.isDirty=!0),f("Updating media for %o by ID %o to %o",e,i,r),c.a.handleViewAction(r);const l=n?"edit":"update";d.a.site(e).media(t.ID)[l](t,function(t,i){c.a.handleServerAction({type:"RECEIVE_MEDIA_ITEM",error:t,siteId:e,data:n?s()({},i,{isDirty:!0}):i})})},h.delete=function(e,t){Array.isArray(t)?t.forEach(h.delete.bind(null,e)):(c.a.handleViewAction({type:"REMOVE_MEDIA_ITEM",siteId:e,data:t}),f("Deleting media from %d by ID %d",e,t.ID),d.a.site(e).media(t.ID).delete(function(t,n){c.a.handleServerAction({type:"REMOVE_MEDIA_ITEM",error:t,siteId:e,data:n}),c.a.handleServerAction({type:"FETCH_MEDIA_LIMITS",siteId:e})}))},h.setLibrarySelectedItems=function(e,t){f("Setting selected items for %d as %o",e,t),c.a.handleViewAction({type:"SET_MEDIA_LIBRARY_SELECTED_ITEMS",siteId:e,data:t})},h.clearValidationErrors=function(e,t){f("Clearing validation errors for %d, with item ID %d",e,t),c.a.handleViewAction({type:"CLEAR_MEDIA_VALIDATION_ERRORS",siteId:e,itemId:t})},h.clearValidationErrorsByType=function(e,t){f("Clearing validation errors for %d, by type %s",e,t),c.a.handleViewAction({type:"CLEAR_MEDIA_VALIDATION_ERRORS",siteId:e,errorType:t})},h.sourceChanged=function(e){f("Media data source changed"),c.a.handleViewAction({type:"CHANGE_MEDIA_SOURCE",siteId:e})},t.a=h},"./client/lib/media/list-store.js":function(e,t,n){"use strict";var i=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),s=n.n(i),a=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(a),r=n("./node_modules/lodash/lodash.js"),c=n("./client/dispatcher/index.js"),d=n("./client/lib/media/store.js"),l=n("./client/lib/media/utils.js"),u=n("./client/lib/mixins/emitter/index.js");const p={_activeQueries:{},DEFAULT_QUERY:Object.freeze({number:20}),_media:{}},m=Object.freeze({isFetchingNextPage:!1}),_=Object.freeze(["number","page_handle"]);function g(e){if(!(e in p._media))return;const t=Object(l.r)(p.getAll(e));p._media[e]=Object(r.map)(t,"ID")}function f(e){e in p._media||(p._media[e]=[])}function h(e,t,n){let i;f(e),n?-1!==(i=p._media[e].indexOf(n))&&p._media[e].splice(i,1,t.ID):-1===p._media[e].indexOf(t.ID)&&p.isItemMatchingQuery(e,t)&&p._media[e].push(t.ID)}function b(e,t){let n;e in p._media&&-1!==(n=p._media[e].indexOf(t.ID))&&p._media[e].splice(n,1)}function E(e){delete p._media[e];const t=p._activeQueries[e]||{},n=(t.nextPageHandle,o()(t,["nextPageHandle"]));p._activeQueries[e]=s()({},n,{isFetchingNextPage:!1})}function I(e,t){p.ensureActiveQueryForSiteId(e),Object(r.assign)(p._activeQueries[e],t)}function j(e,t){return e in p._activeQueries&&Object(r.isEqual)(Object(r.omit)(t,_),Object(r.omit)(p._activeQueries[e].query,_))}p.ensureActiveQueryForSiteId=function(e){e in p._activeQueries||(p._activeQueries[e]=Object(r.assign)({},m))},p.isItemMatchingQuery=function(e,t){let n,i;return!(e in p._activeQueries)||(n=Object(r.omit)(p._activeQueries[e].query,_),!Object.keys(n).length||(i=!0,n.search&&!n.source&&(i=t.title&&-1!==t.title.toLowerCase().indexOf(n.search.toLowerCase())),n.source&&i&&(i=!t.external),n.mime_type&&i&&(i=t.mime_type&&0===t.mime_type.indexOf(n.mime_type)),i))},Object(u.a)(p),p.get=function(e,t){return d.a.get(e,t)},p.getAllIds=function(e){return p._media[e]},p.getAll=function(e){const t=p.getAllIds(e);if(t)return t.map(d.a.get.bind(null,e))},p.getNextPageQuery=function(e){return e in p._activeQueries?Object(r.assign)({},p.DEFAULT_QUERY,{page_handle:p._activeQueries[e].nextPageHandle},p._activeQueries[e].query):p.DEFAULT_QUERY},p.hasNextPage=function(e){return!(e in p._activeQueries)||null!==p._activeQueries[e].nextPageHandle},p.isFetchingNextPage=function(e){return e in p._activeQueries&&p._activeQueries[e].isFetchingNextPage},p.dispatchToken=c.a.register(function(e){const t=e.action;switch(c.a.waitFor([d.a.dispatchToken]),t.type){case"CHANGE_MEDIA_SOURCE":E(t.siteId),p.emit("change");break;case"SET_MEDIA_QUERY":t.siteId&&t.query&&(s=t.siteId,a=t.query,a=Object(r.omit)(a,"page_handle"),p.ensureActiveQueryForSiteId(s),j(s,a)||E(s),p._activeQueries[s].query=a);break;case"FETCH_MEDIA_ITEMS":if(!t.siteId)break;I(t.siteId,{isFetchingNextPage:!0}),p.emit("change");break;case"CREATE_MEDIA_ITEM":case"RECEIVE_MEDIA_ITEM":if(t.error&&t.siteId&&t.id&&(b(t.siteId,{ID:t.id}),p.emit("change")),!t.siteId)break;if(t.error||!t.data)break;h(t.siteId,t.data,t.id),g(t.siteId),p.emit("change");break;case"RECEIVE_MEDIA_ITEMS":if(!t.siteId)break;if(I(t.siteId,{isFetchingNextPage:!1,nextPageHandle:(i=t.data,i&&i.meta&&i.meta.next_page?i.meta.next_page:null)}),t.error||!t.data||t.query&&!j(t.siteId,t.query))break;!function(e,t){f(e),t.forEach(function(t){h(e,t)})}(t.siteId,t.data.media),(void 0===t.query||void 0!==t.query&&(n=t.query.source,-1===["pexels"].indexOf(n)))&&g(t.siteId),p.emit("change");break;case"REMOVE_MEDIA_ITEM":if(!t.siteId||!t.data)break;t.error?h(t.siteId,t.data):b(t.siteId,t.data),p.emit("change")}var n,i,s,a}),t.a=p},"./client/my-sites/media-library/upload-button.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var i=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),s=n.n(i),a=n("./node_modules/prop-types/index.js"),o=n.n(a),r=n("./node_modules/react/index.js"),c=n.n(r),d=n("./node_modules/lodash/lodash.js"),l=n("./node_modules/classnames/index.js"),u=n.n(l),p=n("./node_modules/page/page.js"),m=n.n(p),_=n("./client/lib/analytics/index.js"),g=n("./client/lib/media/actions.js"),f=n("./client/lib/media/utils.js"),h=n("./client/lib/media/constants.js");n("./client/my-sites/media-library/upload-button.scss");class b extends c.a.Component{constructor(){super(...arguments),s()(this,"formRef",c.a.createRef()),s()(this,"onClick",()=>{this.props.onClick&&this.props.onClick(),this.props.href&&m()(this.props.href)}),s()(this,"uploadFiles",e=>{e.target.files&&this.props.site&&(g.a.clearValidationErrors(this.props.site.ID),g.a.add(this.props.site,e.target.files)),this.formRef.current.reset(),this.props.onAddMedia(),_.default.mc.bumpStat("editor_upload_via","add_button")}),s()(this,"getInputAccept",()=>{if(!Object(f.l)(this.props.site))return null;const e=Object(f.f)(this.props.site);return Object(d.uniq)(e.concat(h.j)).map(e=>".".concat(e)).join()})}render(){const e=u()("media-library__upload-button","button",this.props.className);return c.a.createElement("form",{ref:this.formRef,className:e},this.props.children,c.a.createElement("input",{type:"file",accept:this.getInputAccept(),multiple:!0,onChange:this.uploadFiles,onClick:this.onClick,className:"media-library__upload-button-input"}))}}s()(b,"displayName","MediaLibraryUploadButton"),s()(b,"propTypes",{site:o.a.object,onAddMedia:o.a.func,className:o.a.string}),s()(b,"defaultProps",{onAddMedia:d.noop,type:"button",href:null})},"./client/my-sites/media-library/upload-button.scss":function(e,t,n){},"./client/state/post-types/actions.js":function(e,t,n){"use strict";var i=n("./node_modules/lodash/lodash.js"),s=n("./client/state/data-layer/wpcom-http/utils.js"),a=n("./client/state/data-layer/wpcom-http/actions.js"),o=n("./client/state/data-layer/handler-registry.js");const r=Object(s.a)({fetch:e=>Object(a.a)({method:"GET",path:"/sites/".concat(e.siteId,"/post-types")},e),onSuccess:(e,t)=>c(e.siteId,t.post_types),onError:i.noop});function c(e,t){return{type:"POST_TYPES_RECEIVE",siteId:e,types:t}}function d(e){return{type:"POST_TYPES_REQUEST",siteId:e}}Object(o.b)("state/data-layer/wpcom/sites/post-types/index.js",{POST_TYPES_REQUEST:[r]}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return d})},"./client/state/post-types/selectors.js":function(e,t,n){"use strict";function i(e,t){return e.postTypes.items[t]||null}function s(e,t,n){const s=i(e,t);return s&&s[n]||null}function a(e,t,n,i){switch(n){case"post":switch(i){case"publicize":return!0}}const a=s(e,t,n);if(a)return!!a.supports[i];switch(n){case"page":switch(i){case"publicize":return!1}}return null}function o(e,t,n){const s=i(e,t);return s?!!s[n]:null}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return s}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return o})},"./client/state/selectors/can-current-user-manage-plugins.js":function(e,t,n){"use strict";var i=n("./node_modules/lodash/lodash.js"),s=n("./client/lib/create-selector/index.js"),a=n("./client/state/selectors/can-current-user.js");t.a=Object(s.a)(e=>{return Object.keys(Object(i.get)(e,"currentUser.capabilities",{})).some(t=>Object(a.b)(e,t,"manage_options"))},e=>e.currentUser.capabilities)},"./client/state/sites/domains/actions.js":function(e,t,n){"use strict";var i=n("./node_modules/debug/src/browser.js"),s=n.n(i),a=n("./node_modules/lodash/lodash.js"),o=n("./packages/i18n-calypso/dist/esm/index.js"),r=n("./client/lib/domains/utils.js");function c(e){if(e)return Object(a.mapKeys)(e,(e,t)=>Object(a.camelCase)(t))}const d=e=>({autoRenewalDate:String(e.auto_renewal_date),adminEmail:e.admin_email,autoRenewing:Boolean(e.auto_renewing),blogId:Number(e.blog_id),canSetAsPrimary:Boolean(e.can_set_as_primary),currentUserCanManage:Boolean(e.current_user_can_manage),domain:String(e.domain),domainLockingAvailable:Boolean(e.domain_locking_available),domainRegistrationAgreementUrl:Object(r.a)(e),expired:Boolean(e.expired),expiry:e.expiry?String(e.expiry):null,expirySoon:Boolean(e.expiry_soon),gdprConsentStatus:Object(r.c)(e),googleAppsSubscription:c(e.google_apps_subscription),hasRegistration:Boolean(e.has_registration),hasWpcomNameservers:e.has_wpcom_nameservers,hasZone:Boolean(e.has_zone),isAutoRenewing:Boolean(e.auto_renewing),isPendingIcannVerification:Boolean(e.is_pending_icann_verification),isPrimary:Boolean(e.primary_domain),isPendingWhoisUpdate:Boolean(e.pending_whois_update),isWPCOMDomain:Boolean(e.wpcom_domain),manualTransferRequired:Boolean(e.manual_transfer_required),newRegistration:Boolean(e.new_registration),name:String(e.domain),owner:String(e.owner),partnerDomain:Boolean(e.partner_domain),pendingRegistration:Boolean(e.pending_registration),pendingRegistrationTime:String(e.pending_registration_time),pendingTransfer:e.pending_transfer,pointsToWpcom:Boolean(e.points_to_wpcom),privateDomain:e.private_domain,privacyAvailable:Boolean(e.privacy_available),registrar:String(e.registrar),registrationDate:String(e.registration_date),subscriptionId:e.subscription_id,supportsDomainConnect:Boolean(e.supports_domain_connect),supportsGdprConsentManagement:Boolean(e.supports_gdpr_consent_management),tldMaintenanceEndTime:e.tld_maintenance_end_time,transferAwayEligibleAt:e.transfer_away_eligible_at?String(e.transfer_away_eligible_at):null,transferLockOnWhoisUpdateOptional:Boolean(e.transfer_lock_on_whois_update_optional),type:Object(r.b)(e),transferStatus:Object(r.d)(e),transferStartDate:e.transfer_start_date?String(e.transfer_start_date):null,whoisUpdateUnmodifiableFields:e.whois_update_unmodifiable_fields});var l=n("./client/lib/wp/browser.js");n.d(t,"a",function(){return h}),n.d(t,"b",function(){return b});const u=s()("calypso:state:sites:domains:actions"),p=l.a.undocumented(),m=(e,t)=>{const n={type:"SITE_DOMAINS_RECEIVE",siteId:e,domains:Object(a.map)(t,d)};return u("returning action: %o",n),n},_=e=>{const t={type:"SITE_DOMAINS_REQUEST",siteId:e};return u("returning action: %o",t),t},g=e=>{const t={type:"SITE_DOMAINS_REQUEST_SUCCESS",siteId:e};return u("returning action: %o",t),t},f=(e,t)=>{const n={type:"SITE_DOMAINS_REQUEST_FAILURE",siteId:e,error:t};return u("returning action: %o",n),n};function h(e){return t=>(t(_(e)),p.site(e).domains().then(n=>{const i=n.domains,s=void 0===i?[]:i;t(g(e)),t(m(e,s))}).catch(n=>{const i=n instanceof Error?n.message:Object(o.translate)("There was a problem fetching site domains. Please try again later or contact support.");t(f(e,i))}))}function b(e,t){return{type:"DOMAIN_PRIVACY_TOGGLE",siteId:e,domain:t}}}}]);