(window.webpackJsonp=window.webpackJsonp||[]).push([[176],{"./client/components/date-picker/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),a=n.n(s),o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(o),r=n("./node_modules/react/index.js"),c=n.n(r),l=n("./node_modules/prop-types/index.js"),p=n.n(l),d=n("./node_modules/react-day-picker/DayPicker.js"),u=n.n(d),m=n("./node_modules/lodash/lodash.js"),h=n("./packages/i18n-calypso/dist/esm/index.js"),g=n("./node_modules/classnames/index.js"),b=n.n(g);const y=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.noop;return s=>{n(e,t,s)}},f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:m.noop;return s=>{n(e,t,s)}};var x=e=>{let t=e.date,n=e.modifiers,s=e.onMouseEnter,a=e.onMouseLeave;return c.a.createElement("div",{className:"date-picker__day",onMouseEnter:y(t,n,s),onMouseLeave:f(t,n,a)},t.getDate())};const v=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m.noop;return t=>{t.preventDefault(),e()}};var _=e=>{let t=e.nextMonth,n=e.previousMonth,s=e.onPreviousClick,a=e.onNextClick,o=e.className,i=e.localeUtils,r=e.showPreviousButton,l=void 0===r||r,p=e.showNextButton,d=void 0===p||p;const u=b()("date-picker__nav-bar",{[o]:!!o});return c.a.createElement("div",{className:u},l&&c.a.createElement("button",{className:"date-picker__previous-month button",type:"button","aria-label":Object(h.translate)("Previous month (%s)",{comment:"Aria label for date picker controls",args:i.formatMonthTitle(n)}),onClick:v(s)},i.formatMonthShort(n)),d&&c.a.createElement("button",{className:"date-picker__next-month button",type:"button","aria-label":Object(h.translate)("Next month (%s)",{comment:"Aria label for date picker controls",args:i.formatMonthTitle(t)}),onClick:v(a)},i.formatMonthShort(t)))};class j extends r.PureComponent{constructor(){super(...arguments),i()(this,"setCalendarDay",Object(m.debounce)((e,t)=>{const n=this.props.moment(e);if(t.disabled)return null;const s={year:n.year(),month:n.month(),date:n.date()},a=(this.props.timeReference||n).set(s);this.props.onSelectDay(a,s,t)},500,{leading:!0,trailing:!1})),i()(this,"renderDay",(e,t)=>c.a.createElement(x,{date:e,modifiers:t,onMouseEnter:this.handleDayMouseEnter,onMouseLeave:this.handleDayMouseLeave})),i()(this,"handleDayMouseEnter",(e,t,n)=>{const s=this.filterEventsByDay(e);this.props.onDayMouseEnter(e,t,n,s)}),i()(this,"handleDayMouseLeave",(e,t,n)=>{const s=this.filterEventsByDay(e);this.props.onDayMouseLeave(e,t,n,s)}),i()(this,"handleDayTouchMove",(e,t,n)=>{const s=this.filterEventsByDay(e);this.props.onDayTouchMove(e,t,n,s)})}isSameDay(e,t){return e=this.props.moment(e),t=this.props.moment(t),e.isSame(t,"day")}filterEventsByDay(e){if(!this.props.events)return[];let t,n;const s=[];for(t=0;t<this.props.events.length;t++)n=this.props.events[t],this.isSameDay(n.date,e)&&(void 0===n.id&&(n.id="event-".concat(t)),s.push(n));return s}getLocaleUtils(){const e=this.props,t=e.moment,n=e.localeUtils,s=t().localeData().firstDayOfWeek(),a=t.weekdaysMin(),o=t.weekdays(),i={formatDay:function(e){return t(e).format("llll")},formatMonthTitle:function(e){return t(e).format("MMMM YYYY")},formatWeekdayShort:function(e){return Object(m.get)(a,e," ")[0]},formatWeekdayLong:function(e){return o[e]},getFirstDayOfWeek:function(){return s},formatMonthShort:function(e){return t(e.toISOString()).format("MMM")}};return Object(m.merge)({},i,n)}getDateInstance(e){return this.props.moment.isMoment(e)?e.toDate():e instanceof Number||"number"==typeof e?new Date(e):e}render(){const e=a()({},this.props.modifiers,{"past-days":{before:new Date},sunday:{daysOfWeek:[0]}});this.props.selectedDay&&(e["is-selected"]=this.getDateInstance(this.props.selectedDay)),this.props.events&&this.props.events.length&&(e.events=Object(m.map)(Object(m.filter)(this.props.events,e=>e.date),e=>this.getDateInstance(e.date)));const t=this.props.numberOfMonths||1,n=e.start&&e.end,s=b()(a()({"date-picker":!0,"date-picker--no-range-selected":!n,"date-picker--range-selected":n,["date-picker--".concat(t,"up")]:!0},this.props.rootClassNames));return c.a.createElement(u.a,{modifiers:e,className:s,disabledDays:this.props.disabledDays,initialMonth:this.props.calendarInitialDate,month:this.props.calendarViewDate,fromMonth:this.props.fromMonth,toMonth:this.props.toMonth,onDayClick:this.setCalendarDay,onDayTouchStart:this.setCalendarDay,onDayTouchEnd:this.setCalendarDay,onDayTouchMove:this.handleDayTouchMove,renderDay:this.renderDay,locale:this.props.locale,localeUtils:this.getLocaleUtils(),onMonthChange:this.props.onMonthChange,showOutsideDays:this.props.showOutsideDays,navbarElement:c.a.createElement(_,null),selectedDays:this.props.selectedDays,numberOfMonths:this.props.numberOfMonths})}}i()(j,"propTypes",{calendarViewDate:p.a.object,calendarInitialDate:p.a.object,showOutsideDays:p.a.bool,numberOfMonths:p.a.number,events:p.a.array,selectedDays:p.a.oneOfType([p.a.instanceOf(Date),p.a.shape({from:p.a.instanceOf(Date),to:p.a.instanceOf(Date)}),p.a.array,p.a.func]),disabledDays:p.a.array,locale:p.a.string,localeUtils:p.a.shape({formatDay:p.a.func,formatMonthTitle:p.a.func,formatWeekdayLong:p.a.func,formatWeekdayShort:p.a.func,getFirstDayOfWeek:p.a.func,getMonths:p.a.func}),modifiers:p.a.object,moment:p.a.func.isRequired,selectedDay:p.a.object,timeReference:p.a.object,onMonthChange:p.a.func,onSelectDay:p.a.func,onDayMouseEnter:p.a.func,onDayMouseLeave:p.a.func,toMonth:p.a.object,fromMonth:p.a.object,onDayTouchStart:p.a.func,onDayTouchEnd:p.a.func,onDayTouchMove:p.a.func,rootClassNames:p.a.object}),i()(j,"defaultProps",{showOutsideDays:!0,calendarViewDate:new Date,calendarInitialDate:new Date,modifiers:{},fromMonth:null,locale:"en",selectedDay:null,onMonthChange:m.noop,onSelectDay:m.noop,onDayMouseEnter:m.noop,onDayMouseLeave:m.noop,onDayTouchStart:m.noop,onDayTouchEnd:m.noop,onDayTouchMove:m.noop,rootClassNames:{}});t.a=Object(h.localize)(j)},"./client/components/ellipsis-menu/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),o=n("./node_modules/prop-types/index.js"),i=n.n(o),r=n("./node_modules/react/index.js"),c=n.n(r),l=n("./node_modules/classnames/index.js"),p=n.n(l),d=n("./packages/i18n-calypso/dist/esm/index.js"),u=n("./node_modules/lodash/lodash.js"),m=n("./client/components/gridicon/index.jsx"),h=n("./client/components/button/index.jsx"),g=n("./client/components/popover/menu.jsx");n("./client/components/ellipsis-menu/style.scss");class b extends r.Component{constructor(){super(...arguments),a()(this,"state",{isMenuVisible:!1}),a()(this,"popoverContext",c.a.createRef()),a()(this,"handleClick",e=>{const t=this.props.onClick,n=this.state.isMenuVisible;t(e),n?this.hideMenu():this.showMenu()}),a()(this,"hideMenu",()=>this.toggleMenu(!1)),a()(this,"showMenu",()=>this.toggleMenu(!0))}toggleMenu(e){this.props.disabled||(this.setState({isMenuVisible:e}),this.props.onToggle(e))}render(){const e=this.props,t=e.toggleTitle,n=e.translate,s=e.position,a=e.children,o=e.disabled,i=e.className,r=e.popoverClassName,l=this.state.isMenuVisible,d=p()("ellipsis-menu",i,{"is-menu-visible":l,"is-disabled":o}),u=p()("ellipsis-menu__menu","popover",r);return c.a.createElement("span",{className:d},c.a.createElement(h.a,{ref:this.popoverContext,onClick:this.handleClick,title:t||n("Toggle menu"),borderless:!0,disabled:o,className:"ellipsis-menu__toggle"},c.a.createElement(m.a,{icon:"ellipsis",className:"ellipsis-menu__toggle-icon"})),c.a.createElement(g.a,{isVisible:l,onClose:this.hideMenu,position:s,context:this.popoverContext.current,className:u},a))}}a()(b,"propTypes",{translate:i.a.func,toggleTitle:i.a.string,position:i.a.string,disabled:i.a.bool,onClick:i.a.func,onToggle:i.a.func,popoverClassName:i.a.string}),a()(b,"defaultProps",{onClick:u.noop,onToggle:u.noop}),t.a=Object(d.localize)(b)},"./client/components/ellipsis-menu/style.scss":function(e,t,n){},"./client/components/foldable-card/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),o=n("./node_modules/prop-types/index.js"),i=n.n(o),r=n("./node_modules/react/index.js"),c=n.n(r),l=n("./node_modules/classnames/index.js"),p=n.n(l),d=n("./packages/i18n-calypso/dist/esm/index.js"),u=n("./node_modules/lodash/lodash.js"),m=n("./client/components/card/index.jsx"),h=n("./client/components/card/compact.jsx"),g=n("./client/components/gridicon/index.jsx"),b=n("./client/components/screen-reader-text/index.js");n("./client/components/foldable-card/style.scss");class y extends r.Component{constructor(){super(...arguments),a()(this,"state",{expanded:this.props.expanded}),a()(this,"onClick",()=>{this.props.children&&this.setState({expanded:!this.state.expanded}),this.props.onClick&&this.props.onClick(),this.state.expanded?this.props.onClose(this.props.cardKey):this.props.onOpen(this.props.cardKey)})}componentWillReceiveProps(e){e.expanded!==this.props.expanded&&this.setState({expanded:e.expanded})}getClickAction(){if(!this.props.disabled)return this.onClick}getActionButton(){return this.state.expanded&&this.props.actionButtonExpanded||this.props.actionButton}renderActionButton(){const e=this.props.clickableHeader?null:this.getClickAction();if(this.props.actionButton)return c.a.createElement("div",{className:"foldable-card__action",role:"presentation",onClick:e},this.getActionButton());if(this.props.children){const t=24,n=this.props.screenReaderText||this.props.translate("More");return c.a.createElement("button",{disabled:this.props.disabled,type:"button",className:"foldable-card__action foldable-card__expand",onClick:e},c.a.createElement(b.a,null,n),c.a.createElement(g.a,{icon:this.props.icon,size:t}))}}renderContent(){return c.a.createElement("div",{className:"foldable-card__content"},this.props.children)}renderHeader(){const e=this.props.summary?c.a.createElement("span",{className:"foldable-card__summary"},this.props.summary," "):null,t=this.props.expandedSummary?c.a.createElement("span",{className:"foldable-card__summary-expanded"},this.props.expandedSummary," "):null,n=this.props.clickableHeader?this.getClickAction():null,s=p()("foldable-card__header",{"is-clickable":!!this.props.clickableHeader,"has-border":!!this.props.summary});return c.a.createElement("div",{className:s,role:"presentation",onClick:n},c.a.createElement("span",{className:"foldable-card__main"},this.props.header," "),c.a.createElement("span",{className:"foldable-card__secondary"},e,t,this.renderActionButton()))}render(){const e=this.props.compact?h.a:m.a,t=p()("foldable-card",this.props.className,{"is-disabled":!!this.props.disabled,"is-expanded":!!this.state.expanded,"has-expanded-summary":!!this.props.expandedSummary});return c.a.createElement(e,{className:t},this.renderHeader(),this.state.expanded&&this.renderContent())}}a()(y,"displayName","FoldableCard"),a()(y,"propTypes",{actionButton:i.a.element,actionButtonExpanded:i.a.element,cardKey:i.a.string,compact:i.a.bool,disabled:i.a.bool,expandedSummary:i.a.oneOfType([i.a.string,i.a.element]),expanded:i.a.bool,icon:i.a.string,onClick:i.a.func,onClose:i.a.func,onOpen:i.a.func,screenReaderText:i.a.oneOfType([i.a.string,i.a.bool]),summary:i.a.oneOfType([i.a.string,i.a.element])}),a()(y,"defaultProps",{onOpen:u.noop,onClose:u.noop,cardKey:"",icon:"chevron-down",expanded:!1,screenReaderText:!1}),t.a=Object(d.localize)(y)},"./client/components/foldable-card/style.scss":function(e,t,n){},"./client/components/localized-moment/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return p});var s=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(s),o=n("./node_modules/react/index.js"),i=n.n(o),r=n("./node_modules/@wordpress/compose/build-module/index.js"),c=n("./client/components/localized-moment/context.js");const l=Object(r.a)(e=>(function(t){return i.a.createElement(c.a.Consumer,null,n=>i.a.createElement(e,a()({},t,n)))}),"WithLocalizedMoment"),p=()=>{return i.a.useContext(c.a).moment}},"./client/components/pagination/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),o=n("./node_modules/prop-types/index.js"),i=n.n(o),r=n("./node_modules/react/index.js"),c=n.n(r),l=n("./node_modules/classnames/index.js"),p=n.n(l),d=n("./client/components/gridicon/index.jsx"),u=n("./packages/i18n-calypso/dist/esm/index.js"),m=n("./client/components/button/index.jsx");class h extends r.Component{constructor(){super(...arguments),a()(this,"clickHandler",e=>{e.stopPropagation();const t=this.props,n=t.currentPage,s=t.pageClick,a=t.pageNumber,o=t.totalPages;switch(a){case"previous":if(n-1<1)return;s(n-1);break;case"next":if(n+1>o)return;s(n+1);break;default:if(n===a)return;s(a)}})}render(){const e=this.props,t=e.translate,n=e.currentPage,s=e.nextLabel,a=e.numberFormat,o=e.pageNumber,i=e.prevLabel,r=e.totalPages,l=e.compact;switch(o){case"more":return c.a.createElement("li",{className:"pagination__list-item pagination__ellipsis","aria-hidden":"true"},c.a.createElement("span",null,"…"));case"previous":{const e=p()("pagination__list-item pagination__arrow","is-left",{"is-active":n>1});return c.a.createElement("li",{className:e},c.a.createElement(m.a,{borderless:!0,onClick:this.clickHandler,disabled:n<=1},c.a.createElement(d.a,{icon:"arrow-left",size:18}),!l&&(i||t("Previous"))))}case"next":{const e=p()("pagination__list-item pagination__arrow","is-right",{"is-active":n<r});return c.a.createElement("li",{className:e},c.a.createElement(m.a,{borderless:!0,onClick:this.clickHandler,disabled:n>=r},!l&&(s||t("Next")),c.a.createElement(d.a,{icon:"arrow-right",size:18})))}default:{const e=p()("pagination__list-item pagination__page-number",{"is-selected":n===o});return c.a.createElement("li",{className:e},c.a.createElement(m.a,{borderless:!0,onClick:this.clickHandler},a(o)))}}}}a()(h,"propTypes",{compact:i.a.bool,currentPage:i.a.number.isRequired,nextLabel:i.a.string,pageClick:i.a.func.isRequired,pageNumber:i.a.node.isRequired,prevLabel:i.a.string,totalPages:i.a.number.isRequired});var g=Object(u.localize)(h);class b extends r.Component{constructor(){super(...arguments),a()(this,"getPageList",(e,t)=>{let n=[1,e-2,e-1,e,e+1,e+2,t];n.sort((e,t)=>e-t);for(let e=(n=n.filter((e,n,s)=>e>=1&&e<=t&&s.lastIndexOf(e)===n)).length-2;e>=0;e--)2==n[e+1]-n[e]?n.splice(e+1,0,n[e+1]-1):n[e+1]-n[e]>1&&n.splice(e+1,0,"more");return n.unshift("previous"),n.push("next"),n})}render(){const e=this.props,t=e.className,n=e.compact,s=e.nextLabel,a=e.page,o=e.pageClick,i=e.perPage,r=e.prevLabel,l=e.total,d=Math.ceil(l/i);if(d<=1)return null;const u=this.getPageList(a,d).map((e,t)=>c.a.createElement(g,{key:t,compact:n,currentPage:a,nextLabel:s,pageClick:o,pageNumber:e,prevLabel:r,totalPages:d}));return c.a.createElement("div",{className:p()("pagination",t,{"is-compact":n})},c.a.createElement("ul",{className:"pagination__list"},u))}}a()(b,"propTypes",{compact:i.a.bool,nextLabel:i.a.string,page:i.a.number.isRequired,pageClick:i.a.func.isRequired,perPage:i.a.number.isRequired,prevLabel:i.a.string,total:i.a.number});t.a=b},"./client/components/popover/menu-item.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var s=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(s),o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(o),r=n("./node_modules/prop-types/index.js"),c=n.n(r),l=n("./node_modules/react/index.js"),p=n.n(l),d=n("./node_modules/classnames/index.js"),u=n.n(d),m=n("./node_modules/lodash/lodash.js"),h=n("./client/components/gridicon/index.jsx"),g=n("./client/components/external-link/index.jsx");class b extends l.Component{constructor(){super(...arguments),i()(this,"handleMouseOver",e=>{this.props.focusOnHover&&e.target.focus(),this.props.onMouseOver()})}render(){const e=this.props,t=e.children,n=e.className,s=e.href,o=e.icon,i=e.isSelected,r=e.isExternalLink,c=Object(m.omit)(this.props,"icon","focusOnHover","isSelected","isExternalLink","className","itemComponent"),l=u()("popover__menu-item",n,{"is-selected":i});let d=this.props.itemComponent;return r&&s?(d=g.a,c.icon=!0):s&&(d="a"),p.a.createElement(d,a()({role:"menuitem",onMouseOver:this.handleMouseOver,tabIndex:"-1",className:l},c),o&&p.a.createElement(h.a,{icon:o,size:18}),t)}}i()(b,"propTypes",{href:c.a.string,className:c.a.string,isSelected:c.a.bool,icon:c.a.string,focusOnHover:c.a.bool,onMouseOver:c.a.func,isExternalLink:c.a.bool,itemComponent:c.a.oneOfType([c.a.func,c.a.string])}),i()(b,"defaultProps",{isSelected:!1,focusOnHover:!0,onMouseOver:m.noop,itemComponent:"button"})},"./client/components/progress-bar/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),o=n("./node_modules/prop-types/index.js"),i=n.n(o),r=n("./node_modules/react/index.js"),c=n.n(r),l=n("./node_modules/classnames/index.js"),p=n.n(l),d=n("./client/components/screen-reader-text/index.js");n("./client/components/progress-bar/style.scss");class u extends r.PureComponent{constructor(){super(...arguments),a()(this,"state",{allTimeMax:this.props.value})}static getDerivedStateFromProps(e,t){return{allTimeMax:Math.max(t.allTimeMax,e.value)}}getCompletionPercentage(){const e=Math.ceil((this.props.canGoBackwards?this.props.value:this.state.allTimeMax)/this.props.total*100);return Math.min(e,100)}renderBar(){const e=this.props.title?c.a.createElement(d.a,null,this.props.title):null,t={width:this.getCompletionPercentage()+"%"};return this.props.color&&(t.backgroundColor=this.props.color),c.a.createElement("div",{className:"progress-bar__progress",style:t},e)}render(){const e=p()(this.props.className,"progress-bar",{"is-compact":this.props.compact,"is-pulsing":this.props.isPulsing});return c.a.createElement("div",{className:e},this.renderBar())}}a()(u,"defaultProps",{total:100,compact:!1,isPulsing:!1,canGoBackwards:!1}),a()(u,"propTypes",{value:i.a.number.isRequired,total:i.a.number,color:i.a.string,title:i.a.string,compact:i.a.bool,className:i.a.string,isPulsing:i.a.bool,canGoBackwards:i.a.bool})},"./client/components/progress-bar/style.scss":function(e,t,n){},"./client/components/social-logo/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/extends.js"),a=n.n(s),o=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(o),r=n("./node_modules/classnames/index.js"),c=n.n(r),l=n("./node_modules/react/index.js"),p=n.n(l),d=n("./node_modules/prop-types/index.js"),u=n.n(d),m=n("./node_modules/social-logos/svg-sprite/social-logos.svg"),h=n.n(m);function g(e){const t=e.size,n=void 0===t?24:t,s=e.icon,o=e.onClick,r=e.className,l=i()(e,["size","icon","onClick","className"]),d="social-logo-".concat(s),u=c()("social-logo",d,s,r);return p.a.createElement("svg",a()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:u,height:n,width:n,onClick:o},l),p.a.createElement("use",{xlinkHref:"".concat(h.a,"#").concat(s)}))}g.propTypes={icon:u.a.string.isRequired,size:u.a.number,onClick:u.a.func,className:u.a.string},t.a=p.a.memo(g)},"./client/components/split-button/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(s),o=n("./node_modules/prop-types/index.js"),i=n.n(o),r=n("./node_modules/react/index.js"),c=n.n(r),l=n("./node_modules/classnames/index.js"),p=n.n(l),d=n("./packages/i18n-calypso/dist/esm/index.js"),u=n("./node_modules/lodash/lodash.js"),m=n("./client/components/gridicon/index.jsx"),h=n("./client/components/button/index.jsx"),g=n("./client/components/popover/menu.jsx");n("./client/components/split-button/style.scss");class b extends r.PureComponent{constructor(){super(...arguments),a()(this,"state",{isMenuVisible:!1}),a()(this,"popoverContext",c.a.createRef()),a()(this,"handleMainClick",e=>(e.stopPropagation(),this.props.onClick(e))),a()(this,"handleMenuClick",e=>(e.stopPropagation(),this.toggleMenu(!this.state.isMenuVisible))),a()(this,"hideMenu",()=>this.toggleMenu(!1)),a()(this,"toggleMenu",e=>{this.props.disabled||(this.setState({isMenuVisible:e}),this.props.onToggle(e))})}render(){const e=this.props,t=e.label,n=e.icon,s=e.compact,a=e.primary,o=e.scary,i=e.toggleTitle,r=e.translate,l=e.position,d=e.children,u=e.disabled,b=e.disableMain,y=e.disableMenu,f=e.className,x=e.popoverClassName,v=this.state.isMenuVisible,_=p()("split-button__menu","popover",x),j=p()("split-button",f,{"is-menu-visible":v,"is-disabled":u,"has-icon-text":t&&n});return c.a.createElement("span",{className:j},c.a.createElement(h.a,{compact:s,primary:a,scary:o,onClick:this.handleMainClick,disabled:u||b,className:"split-button__main"},n&&c.a.createElement(m.a,{icon:n}),t),c.a.createElement(h.a,{compact:s,primary:a,scary:o,ref:this.popoverContext,onClick:this.handleMenuClick,title:i||r("Toggle menu"),disabled:u||y,className:"split-button__toggle"},c.a.createElement(m.a,{icon:"chevron-down",className:"split-button__toggle-icon"})),c.a.createElement(g.a,{isVisible:v,onClose:this.hideMenu,position:l,context:this.popoverContext.current,className:_},d))}}a()(b,"propTypes",{translate:i.a.func,label:i.a.string,icon:i.a.string,toggleTitle:i.a.string,position:i.a.string,disabled:i.a.bool,disableMain:i.a.bool,disableMenu:i.a.bool,compact:i.a.bool,primary:i.a.bool,scary:i.a.bool,onClick:i.a.func,onToggle:i.a.func,popoverClassName:i.a.string}),a()(b,"defaultProps",{onClick:u.noop,onToggle:u.noop,label:"",icon:"",position:"bottom left",disabled:!1,disableMain:!1,disableMenu:!1,compact:!1,primary:!1,scary:!1}),t.a=Object(d.localize)(b)},"./client/components/split-button/style.scss":function(e,t,n){},"./client/lib/human-date/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./packages/i18n-calypso/dist/esm/index.js"),a=n.n(s);const o=6e4;function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"ll";const n=a.a.moment();e=a.a.moment(e);let s=n.diff(e);if(s<0&&(s=0),s<o)return a.a.translate("just now");if(s<60*o){const e=Math.ceil(s/o);return a.a.translate("%(minutes)dm ago",{args:{minutes:e},comment:"example for a resulting string: 2m ago"})}if(s<60*o*24){const t=n.diff(e,"hours");return a.a.translate("%(hours)dh ago",{args:{hours:t},comment:"example for a resulting string: 5h ago"})}if(s<60*o*24*7){const t=n.diff(e,"days");return a.a.translate("%(days)dd ago",{args:{days:t},comment:"example for a resulting string: 4d ago"})}return e.format(t)}},"./client/state/data-getters/index.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),a=n.n(s),o=n("./node_modules/lodash/lodash.js"),i=n("./client/state/http/actions.js"),r=n("./client/state/data-layer/wpcom-http/actions.js"),c=n("./client/state/data-layer/http-data.js"),l=n("./client/state/activity-log/utils.js"),p=n("./client/state/data-layer/wpcom/sites/activity/schema.json"),d=n("./client/lib/make-json-schema-parser/index.js"),u=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),m=n.n(u);const h=(e,t)=>{let n=m()(e.indices,2),s=n[0],a=n[1],o=m()(t.indices,2),i=o[0],r=o[1];return 0===s&&0===a&&0!==r?-1:s<i?-1:i<s?1:r-a},g=(e,t)=>{const n=Object(o.find)(e,(e=>{let t=m()(e.indices,2),n=t[0],s=t[1];return e=>{let t=e.indices;t=void 0===t?[0,0]:t;let a=m()(t,2),o=a[0],i=a[1];return 0!==n&&0!==s&&o<=n&&i>=s}})(t));return n?[...Object(o.initial)(e),a()({},n,{children:g(n.children,t)})]:[...e,t]},b=e=>{return{type:"comment",commentId:e.id,postId:e.post_id,siteId:e.site_id}},y=e=>{return{type:"post",postId:e.id,siteId:e.site_id}},f=e=>{return{type:"site",siteId:e.id,intent:e.intent,section:e.section}},x=e=>{let t=e.id;return{type:"person",name:e.name,siteId:e.site_id,userId:t,intent:e.intent,section:e.section}},v=e=>{return{type:"plugin",siteSlug:e.site_slug,pluginSlug:e.slug,version:e.version,intent:e.intent,section:e.section}},_=e=>{let t=e.site_slug,n=e.slug,s=e.version;return{type:"theme",siteSlug:t,themeSlug:n,themeUri:e.uri,version:s,intent:e.intent,section:e.section}},j=e=>{const t=e.type,n=e.url;return t?(e=>{return{type:e.type}})(e):n?(e=>{return{type:"link",url:e.url,intent:e.intent,section:e.section}})(e):e},M=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return a()({},(e=>{switch(e){case"comment":return b;case"post":return y;case"site":return f;case"user":return x;case"plugin":return v;case"theme":return _;default:return j}})(t.type)(t),{children:[e]})},k=e=>{let t=m()(e,2),n=t[0],s=t[1];return n.length?Object(o.compact)(n.concat(s)):s.length?[s]:[]},C=(e,t)=>{let n=m()(e,3),s=n[0],a=n[1],o=n[2];const i=m()(t.indices,2),r=i[0],c=i[1],l=r-o,p=c-o,d=l>0?[a.slice(0,l)]:[],u=k(t.children.reduce(C,[[],a.slice(l,p),r]));return[[...s,...d,Object.assign(M(a.slice(l,p),t),u.length&&{children:u})],a.slice(p),c]},D=e=>e.ranges?k(e.ranges.map(e=>a()({},e,{children:[]})).sort(h).reduce(g,[]).reduce(C,[[],e.text,0])):[M(e)],O="https://www.gravatar.com/avatar/0",w="info-outline";function E(e){const t=e.actor,n=e.object,s=e.published,a=e.first_published,i=a||s,r={};switch(e.name){case"rewind__backup_error":"2"===Object(o.get)(e.object,"error_code","")&&(r.errorCode="bad_credentials")}return Object.assign({actorAvatarUrl:Object(o.get)(t,"icon.url",O),actorName:Object(o.get)(t,"name",""),actorRemoteId:Object(o.get)(t,"external_user_id",0),actorRole:Object(o.get)(t,"role",""),actorType:Object(o.get)(t,"type",""),actorWpcomId:Object(o.get)(t,"wpcom_user_id",0),activityDate:i,activityGroup:(e.name||"").split("__",1)[0],activityIcon:Object(o.get)(e,"gridicon",w),activityId:e.activity_id,activityIsRewindable:e.is_rewindable,activityName:e.name,activityTitle:e.summary,activityTs:Date.parse(i),activityDescription:D(e.content),activityMedia:Object(o.get)(e,"image"),activityMeta:r},e.rewind_id&&{rewindId:e.rewind_id},e.status&&{activityStatus:e.status},n&&n.target_ts&&{activityTargetTs:n.target_ts},e.is_aggregate&&{isAggregate:e.is_aggregate},e.streams&&{streams:e.streams.map(E)},e.stream_count&&{streamCount:e.stream_count},e.first_published&&{firstPublishedDate:e.first_published},e.last_published&&{lastPublishedDate:e.last_published},!Object(o.isUndefined)(e.streams_have_same_actor)&&{multipleActors:!e.streams_have_same_actor})}var N=Object(d.c)(p,function(e){return Object(o.get)(e,["current","orderedItems"],[]).map(E)}),T=n("./client/state/data-layer/wpcom/sites/activity-types/schema.json");var P=Object(d.c)(T,function(e){const t=[];return Object(o.forOwn)(Object(o.get)(e,["groups"],{}),(e,n)=>{t.push({key:n,name:e.name,count:e.count})}),t});n.d(t,"a",function(){return S}),n.d(t,"b",function(){return I}),n.d(t,"c",function(){return L}),n.d(t,"d",function(){return B});const S=function(e,t){let n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).freshness,s=void 0===n?1e4:n;const a=t&&t.before?t.before:"",i=t&&t.after?t.after:"",p=t&&t.on?t.on:"",d="activity-log-".concat(e,"-").concat(i,"-").concat(a,"-").concat(p);return Object(c.f)(d,Object(r.a)({apiNamespace:"wpcom/v2",method:"GET",path:"/sites/".concat(e,"/activity/count/group"),query:Object(o.omit)(Object(l.a)(t),"aggregate")},{}),{freshness:s,fromApi:()=>e=>[[d,P(e)]]})},I=function(e,t){let n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).freshness,s=void 0===n?3e5:n;const a=t&&t.group&&t.group.length?Object(o.sortBy)(t.group).join(","):"",i=t&&t.before?t.before:"",p=t&&t.after?t.after:"",d=t&&t.on?t.on:"",u=t&&t.aggregate?t.aggregate:"",m="activity-log-".concat(e,"-").concat(a,"-").concat(p,"-").concat(i,"-").concat(d,"-").concat(u);return Object(c.f)(m,Object(r.a)({apiNamespace:"wpcom/v2",method:"GET",path:"/sites/".concat(e,"/activity"),query:Object(l.a)(t)},{}),{freshness:s,fromApi:()=>e=>[[m,N(e)]]})},L=()=>Object(c.f)("geo",Object(i.a)({method:"GET",url:"https://public-api.wordpress.com/geo/"}),{fromApi:()=>e=>{return[["geo",e.body.country_short]]}}),B=e=>{const t="site-alerts-".concat(e);return Object(c.f)(t,Object(r.a)({method:"GET",path:"/sites/".concat(e,"/alerts"),apiNamespace:"wpcom/v2"},{}),{freshness:3e5,fromApi:()=>e=>{let n=e.suggestions,s=e.threats,o=e.warnings,i=e.updates;return[[t,{suggestions:n,threats:s.map(e=>a()({id:e.id,signature:e.signature,description:e.description,firstDetected:Date.parse(e.first_detected)},e.context?{filename:e.filename,context:e.context}:{},e.diff?{filename:e.filename,diff:e.diff}:{},e.extension?{extension:{type:e.extension.type,name:e.extension.name,slug:e.extension.slug,version:e.extension.version}}:{})),warnings:o,updates:{themes:i.themes.map(e=>({name:e.name,slug:e.slug,type:e.type,version:e.version})),core:i.core.map(e=>({name:e.name,slug:e.slug,type:e.type,version:e.version}))}}]]}})}},"./client/state/data-layer/wpcom/sites/activity-types/schema.json":function(e){e.exports={type:"object",required:["groups"],properties:{groups:{type:"object",properties:{post:{$ref:"#/definitions/item"},setting:{$ref:"#/definitions/item"},user:{$ref:"#/definitions/item"},attachment:{$ref:"#/definitions/item"},comment:{$ref:"#/definitions/item"},widget:{$ref:"#/definitions/item"},theme:{$ref:"#/definitions/item"},feedback:{$ref:"#/definitions/item"},option:{$ref:"#/definitions/item"},other:{$ref:"#/definitions/item"}}}},definitions:{group:{type:"object",required:["name","count"],properties:{name:{type:"string"},count:{type:"integer"}}}}}},"./client/state/data-layer/wpcom/sites/activity/schema.json":function(e){e.exports={type:"object",required:["itemsPerPage","page","totalItems","totalPages"],properties:{"@context":{type:"string"},first:{type:"string"},id:{type:"string"},itemsPerPage:{type:"integer"},last:{type:"string"},page:{type:"integer"},nextAfter:{type:"array"},prevBefore:{type:"array"},summary:{type:"string"},totalItems:{type:"integer"},totalPages:{type:"integer"},type:{type:"string"},current:{type:"object",required:["totalItems"],properties:{id:{type:"string"},next:{type:"string"},prev:{type:"string"},orderedItems:{type:"array",items:{$ref:"#/definitions/item"}},totalItems:{type:"integer"},type:{type:"string"}}}},definitions:{item:{type:"object",required:["activity_id","is_rewindable","name","summary"],properties:{activity_id:{type:"string"},actor:{type:"object",required:["type","name"],properties:{external_user_id:{type:"integer"},icon:{type:"object",required:["url"],properties:{url:{type:"string"},width:{type:"integer"},height:{type:"integer"}}},name:{type:"string"},role:{type:"string"},type:{type:"string"},wpcom_user_id:{type:"integer"}}},content:{type:"object"},first_published:{type:"string"},formatted_content:{name:{type:"string"},content:{type:"object"}},generator:{type:"object"},gridicon:{type:"string"},is_aggregate:{type:"boolean"},is_rewindable:{type:"boolean"},is_discarded:{type:"boolean"},streams_have_same_actor:{type:"boolean"},last_published:{type:"string"},rewind_id:{type:["null","string"]},items:{type:"array",items:{type:"object"}},name:{type:"string"},object:{type:"object"},published:{type:"string"},status:{oneOf:[{type:"null"},{type:"string",enum:["error","info","success","warning"]}]},stream_count:{type:"integer"},streams:{type:"array"},summary:{type:["object","string"]},target:{type:"object"},target_ts:{type:"number"},totalItems:{min:0,type:"integer"},type:{type:"string"}}}}}},"./client/state/http/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),a=n.n(s);const o=function(e){let t=e.url,n=e.method,s=e.headers,o=e.queryParams,i=e.body,r=e.withCredentials,c=e.onSuccess,l=e.onFailure,p=a()(e,["url","method","headers","queryParams","body","withCredentials","onSuccess","onFailure"]),d=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"HTTP_REQUEST",url:t,method:n,headers:s,queryParams:o,body:i,withCredentials:r,onSuccess:c||d,onFailure:l||d,options:p}}}}]);