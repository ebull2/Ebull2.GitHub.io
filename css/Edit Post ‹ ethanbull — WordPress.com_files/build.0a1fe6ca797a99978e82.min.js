(window.webpackJsonp=window.webpackJsonp||[]).push([[79],{"./client/auth/controller.js":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/page/page.js"),a=n.n(o),c=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),l=n.n(c),u=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),d=n.n(u),p=n("./client/components/gridicon/index.jsx"),m=n("./node_modules/react-redux/es/index.js"),_=n("./packages/i18n-calypso/dist/esm/index.js"),E=n("./node_modules/superagent/lib/client.js"),b=n.n(E),g=n("./client/components/notice/index.jsx");const h={status:"ready",errorLevel:!1,errorMessage:!1};class f extends i.a.Component{constructor(){super(...arguments),d()(this,"state",h),d()(this,"resetSMSCode",()=>{clearTimeout(this.timeout),this.timeout=null,this.setState(h)}),d()(this,"requestSMSCode",async()=>{this.setState({status:"requesting"}),this.request=b.a.post("/sms").send({username:this.props.username,password:this.props.password});try{this.handleSMSResponse(null,await this.request)}catch(e){this.handleSMSResponse(e,e.response)}finally{this.request=null}})}componentWillUnmount(){this.request&&this.request.abort(),clearTimeout(this.timeout)}handleSMSResponse(e,t){if(this.timeout=setTimeout(this.resetSMSCode,3e4),t&&t.body&&"needs_2fa"===t.body.error)return void this.setState({status:"complete"});let n=null;t&&t.body&&t.body.error_description?n=t.body.error_description:e&&(n=e.message),this.setState({status:"complete",errorLevel:"is-error",errorMessage:n})}render(){const e=this.props.translate,t=this.state,n=t.status,s=t.errorLevel,r=t.errorMessage;let o,a="is-info",c=!1;return s?(a=s,o=r,c=!0):"requesting"===n?o=e("Requesting code."):"complete"===n?(a="is-success",o=e("Code sent.")):o=i.a.createElement("a",{href:"#",onClick:this.requestSMSCode},e("Send code via text message.")),i.a.createElement(g.b,{showDismiss:c,status:a,onDismissClick:this.resetSMSCode},o)}}d()(f,"defaultProps",{translate:r.identity});var S=Object(_.localize)(f),O=n("./node_modules/debug/src/browser.js"),j=n.n(O),T=n("./client/lib/store/index.js");const y={AUTH_LOGIN:"AUTH_LOGIN",RECEIVE_AUTH_LOGIN:"RECEIVE_AUTH_LOGIN",AUTH_RESET:"AUTH_RESET"},I={ERROR_REQUIRES_2FA:"needs_2fa",ERROR_INVALID_OTP:"invalid_otp"};var R=n("./client/lib/oauth-token/index.js");const C=j()("calypso:auth:store"),A={requires2fa:!1,inProgress:!1,errorLevel:!1,errorMessage:!1};function v(e){C("Access token received"),R.b(e.body.access_token),document.location.replace("/")}var N=Object(T.a)(function(e,t){let n;const s=t.action;switch(s.type){case y.AUTH_RESET:n=A;break;case y.AUTH_LOGIN:n={inProgress:!0,errorLevel:!1,errorMessage:!1};break;case y.RECEIVE_AUTH_LOGIN:s.error?n=function(e,t){const n={errorLevel:"is-error",requires2fa:!1,inProgress:!1};return n.errorMessage=t&&t.body?t.body.error_description:e.message,C("Error processing login: "+n.errorMessage),t&&t.body&&(t.body.error===I.ERROR_REQUIRES_2FA?(n.requires2fa=!0,n.errorLevel="is-info"):t.body.error===I.ERROR_INVALID_OTP&&(n.requires2fa=!0)),n}(s.error,s.data):v(s.data)}return n?Object.assign({},e,n):e},A),U=n("./client/config/index.js"),w=n("./client/components/forms/form-button/index.jsx"),P=n("./client/components/forms/form-buttons-bar/index.jsx"),D=n("./client/components/forms/form-fieldset/index.jsx"),L=n("./client/components/forms/form-password-input/index.jsx"),k=n("./client/components/forms/form-text-input/index.jsx"),x=n("./client/lib/i18n-utils/browser.js");var M=Object(_.localize)(e=>{let t=e.translate;const n=Object(x.j)("https://wordpress.com/wp-login.php?action=lostpassword");return i.a.createElement("p",{className:"auth__lost-password"},i.a.createElement("a",{href:n,target:"_blank",rel:"noopener noreferrer"},t("Lost your password?")))}),F=n("./client/components/main/index.jsx");var G=Object(_.localize)(e=>{let t=e.onClickClose,n=e.translate;return i.a.createElement("div",{className:"auth__self-hosted-instructions"},i.a.createElement("a",{href:"#",onClick:t,className:"auth__self-hosted-instructions-close"},i.a.createElement(p.a,{icon:"cross",size:24})),i.a.createElement("h2",null,n("Add self-hosted site")),i.a.createElement("p",null,n("By default when you sign into the WordPress.com app, you can edit blogs and sites hosted at WordPress.com")),i.a.createElement("p",null,n("If you'd like to edit your self-hosted WordPress blog or site, you can do that by following these instructions:")),i.a.createElement("ol",null,i.a.createElement("li",null,i.a.createElement("strong",null,n("Install the Jetpack plugin.")),i.a.createElement("br",null),i.a.createElement("a",{href:"http://jetpack.me/install/"},n("Please follow these instructions to install Jetpack")),"."),i.a.createElement("li",null,n("Connect Jetpack to WordPress.com.")),i.a.createElement("li",null,n('Now you can sign in to the app using the WordPress.com account Jetpack is connected to, and you can find your self-hosted site under the "My Sites" section.'))))}),V=n("./client/components/wordpress-logo/index.jsx"),q=n("./client/dispatcher/index.js"),H=n("./client/lib/analytics/index.js");function Q(e,t,n){q.a.handleViewAction({type:y.AUTH_LOGIN}),b.a.post("/oauth").send({username:e,password:t,auth_code:Object(r.replace)(n,/\s/g,"")}).end((e,t)=>{!function(e,t){let n;e&&(n=t&&t.body?t.body.error:"status_"+e.status);n===I.ERROR_REQUIRES_2FA?(H.default.tracks.recordEvent("calypso_oauth_login_needs2fa"),H.default.mc.bumpStat("calypso_oauth_login","success-needs-2fa")):n?(H.default.tracks.recordEvent("calypso_oauth_login_fail",{error:e.error}),H.default.mc.bumpStat({calypso_oauth_login_error:n,calypso_oauth_login:"error"})):(H.default.tracks.recordEvent("calypso_oauth_login_success"),H.default.mc.bumpStat("calypso_oauth_login","success"))}(e,t),q.a.handleServerAction({type:y.RECEIVE_AUTH_LOGIN,data:t,error:e})})}var B=n("./client/state/analytics/actions.js");var Y=Object(m.b)(null,{recordGoogleEvent:B.g})(Object(_.localize)(class extends s.Component{constructor(){super(...arguments),d()(this,"state",l()({login:"",password:"",auth_code:""},N.get())),d()(this,"getClickHandler",e=>()=>this.props.recordGoogleEvent("Me","Clicked on "+e)),d()(this,"getFocusHandler",e=>()=>this.props.recordGoogleEvent("Me","Focused on "+e)),d()(this,"refreshData",()=>{this.setState(N.get())}),d()(this,"focusInput",e=>{this.state.requires2fa&&!1===this.state.inProgress&&e.focus()}),d()(this,"submitForm",e=>{e.preventDefault(),e.stopPropagation(),Q(this.state.login,this.state.password,this.state.auth_code)}),d()(this,"toggleSelfHostedInstructions",()=>{const e=!this.state.showInstructions;this.setState({showInstructions:e})}),d()(this,"handleChange",e=>{const t=e.currentTarget,n=t.name,s=t.value;this.setState({[n]:s})})}componentDidMount(){N.on("change",this.refreshData)}componentWillUnmount(){N.off("change",this.refreshData)}hasLoginDetails(){return""!==this.state.login&&""!==this.state.password}canSubmitForm(){return!this.state.inProgress&&(this.state.requires2fa?parseInt(this.state.auth_code,10)>0:this.hasLoginDetails())}render(){const e=this.props.translate,t=this.state,n=t.requires2fa,s=t.inProgress,r=t.errorMessage,o=t.errorLevel,a=t.showInstructions;return i.a.createElement(F.a,{className:"auth"},i.a.createElement("div",{className:"auth__content"},i.a.createElement(V.a,null),i.a.createElement("form",{className:"auth__form",onSubmit:this.submitForm},i.a.createElement(D.a,null,i.a.createElement("div",{className:"auth__input-wrapper"},i.a.createElement(p.a,{icon:"user"}),i.a.createElement(k.a,{name:"login",disabled:n||s,placeholder:e("Email address or username"),onFocus:this.getFocusHandler("Username or email address"),value:this.state.login,onChange:this.handleChange})),i.a.createElement("div",{className:"auth__input-wrapper"},i.a.createElement(p.a,{icon:"lock"}),i.a.createElement(L.a,{name:"password",disabled:n||s,placeholder:e("Password"),onFocus:this.getFocusHandler("Password"),hideToggle:n,submitting:s,value:this.state.password,onChange:this.handleChange})),n&&i.a.createElement(D.a,null,i.a.createElement(k.a,{autoComplete:"off",name:"auth_code",type:"tel",ref:this.focusInput,disabled:s,placeholder:e("Verification code"),onFocus:this.getFocusHandler("Verification code"),value:this.state.auth_code,onChange:this.handleChange}))),i.a.createElement(P.a,null,i.a.createElement(w.a,{disabled:!this.canSubmitForm(),onClick:this.getClickHandler("Sign in")},e(n?"Verify":"Sign in"))),!n&&i.a.createElement(M,null),r&&i.a.createElement(g.b,{text:r,status:o,showDismiss:!1}),n&&i.a.createElement(S,{username:this.state.login,password:this.state.password})),i.a.createElement("a",{className:"auth__help",target:"_blank",rel:"noopener noreferrer",title:e("Visit the WordPress.com support site for help"),href:"https://en.support.wordpress.com/"},i.a.createElement(p.a,{icon:"help"})),i.a.createElement("div",{className:"auth__links"},i.a.createElement("a",{href:"#",onClick:this.toggleSelfHostedInstructions},e("Add self-hosted site")),i.a.createElement("a",{href:Object(U.a)("signup_url")},e("Create account"))),a&&i.a.createElement(G,{onClickClose:this.toggleSelfHostedInstructions})))}})),W=n("./client/components/button/index.jsx"),K=n("./client/components/notice/notice-action.jsx");var z=Object(_.localize)(class extends i.a.Component{constructor(){super(...arguments),d()(this,"getCreateAccountUrl",()=>U.a.isEnabled("devdocs")?"https://wordpress.com/start/developer":"https://wordpress.com/start")}render(){return i.a.createElement(F.a,{className:"auth auth__connect"},i.a.createElement(V.a,{size:72}),Object(U.a)("oauth_client_id")?i.a.createElement("div",{className:"auth__connect-intro"},i.a.createElement("p",{className:"auth__welcome"},this.props.translate("Welcome to Calypso. Authorize the application with your WordPress.com credentials to get started.")),i.a.createElement(W.a,{href:this.props.authUrl},this.props.translate("Authorize App"))):i.a.createElement(g.b,{status:"is-warning",text:this.props.translate("You need to set `oauth_client_id` in your config file."),showDismiss:!1},i.a.createElement(K.a,{href:"https://developer.wordpress.com/apps/"},this.props.translate("Go to Developer Resources"))),i.a.createElement("a",{className:"auth__help",target:"_blank",rel:"noopener noreferrer",title:this.props.translate("Visit the Calypso GitHub repository for help"),href:"https://github.com/Automattic/wp-calypso"},i.a.createElement(p.a,{icon:"help"})),i.a.createElement("div",{className:"auth__links"},i.a.createElement("a",{href:this.getCreateAccountUrl()},this.props.translate("Create account"))))}}),J=n("./client/lib/wp/browser.js"),Z=n("./node_modules/store/dist/store.modern.js"),$=n.n(Z),X=n("./node_modules/wpcom-oauth/index.js"),ee=n.n(X),te=n("./client/lib/user/index.js"),ne=n("./client/components/pulsing-dot/index.jsx");t.a={oauthLogin:function(e,t){U.a.isEnabled("oauth")?R.a()?a()("/"):e.primary=i.a.createElement(Y,null):a()("/"),t()},checkToken:function(e,t){const n=["/oauth-login","/oauth","/start","/authorize","/api/oauth/token"].some(t=>Object(r.startsWith)(e.path,t));if(!1===R.a()&&!n)return"desktop"===Object(U.a)("env_id")||"desktop-development"===Object(U.a)("env_id")?a()(Object(U.a)("login_url")):a()("/authorize");t()},authorize:function(e,t){let n;if(Object(U.a)("oauth_client_id")){const e=process.env.PROTOCOL||Object(U.a)("protocol"),t=process.env.HOST||Object(U.a)("hostname"),s=process.env.PORT||Object(U.a)("port"),i={response_type:"token",client_id:Object(U.a)("oauth_client_id"),client_secret:"n/a",url:{redirect:"".concat(e,"://").concat(t,":").concat(s,"/api/oauth/token")}};n=ee()(i).urlToConnect({scope:"global",blog_id:0})}e.primary=i.a.createElement(z,{authUrl:n}),t()},getToken:function(e,t){e.hash&&e.hash.access_token&&($.a.set("wpcom_token",e.hash.access_token),J.a.loadToken(e.hash.access_token)),e.hash&&e.hash.expires_in&&$.a.set("wpcom_token_expires_in",e.hash.expires_in),e.primary=i.a.createElement(F.a,{className:"auth"},i.a.createElement("p",{className:"auth__welcome"},"Loading user..."),i.a.createElement(ne.a,{active:!0}));const n=Object(te.default)();n.fetching=!1,n.fetch(),n.on("change",function(){U.a.isEnabled("devdocs")?window.location="/devdocs/welcome":window.location="/"}),t()}}},"./client/blocks/all-sites/all-sites-icon.scss":function(e,t,n){},"./client/blocks/all-sites/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/react-redux/es/index.js"),u=n("./packages/i18n-calypso/dist/esm/index.js"),d=n("./node_modules/lodash/lodash.js"),p=n("./node_modules/classnames/index.js"),m=n.n(p),_=n("./client/blocks/site-icon/index.jsx");n("./client/blocks/all-sites/all-sites-icon.scss");const E=10;class b extends c.a.Component{getMaxSites(){return this.props.sites.slice(0,E)}getSitesWithIcons(){return this.props.sites.filter(e=>e.icon).slice(0,E)}getIcons(){return Object(d.union)(this.getSitesWithIcons(),this.getMaxSites()).slice(0,E).map(e=>c.a.createElement(_.a,{site:e,key:e.ID,size:14}))}render(){const e=this.getIcons(),t="all-sites-icon has-".concat(this.getMaxSites().length,"-icons");return c.a.createElement("div",{className:t},e)}}i()(b,"propTypes",{sites:o.a.array.isRequired});var g=n("./client/components/count/index.jsx"),h=n("./client/state/selectors/get-sites.js"),f=n("./client/state/current-user/selectors.js");n("./client/blocks/all-sites/style.scss");class S extends a.Component{constructor(){super(...arguments),i()(this,"onSelect",e=>{this.props.onSelect(e)})}renderSiteCount(){return c.a.createElement(g.a,{count:this.props.count})}render(){const e=this.props,t=e.title,n=e.href,s=e.domain,i=e.sites,r=e.translate,o=e.isHighlighted,a=e.isSelected,l=e.showCount,u=m()({"all-sites":!0,"is-selected":a,"is-highlighted":o});return c.a.createElement("div",{className:u},c.a.createElement("a",{className:"all-sites__content site__content",href:n,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave,onClick:this.onSelect},l&&this.renderSiteCount(),c.a.createElement("div",{className:"all-sites__info site__info"},c.a.createElement("span",{className:"all-sites__title site__title"},t||r("All My Sites")),s&&c.a.createElement("span",{className:"all-sites__domain site__domain"},s),c.a.createElement(b,{sites:i}))))}}i()(S,"defaultProps",{onSelect:d.noop,href:null,isSelected:!1,isHighlighted:!1,showCount:!0,domain:""}),i()(S,"propTypes",{onSelect:o.a.func,href:o.a.string,isSelected:o.a.bool,isHighlighted:o.a.bool,showCount:o.a.bool,count:o.a.number,title:o.a.string,domain:o.a.string,onMouseEnter:o.a.func,onMouseLeave:o.a.func});t.a=Object(l.b)((e,t)=>{const n=t.sites,s=void 0===n?Object(h.a)(e):n,i=t.count;return{sites:s,count:void 0===i?Object(f.l)(e):i}})(Object(u.localize)(S))},"./client/blocks/all-sites/style.scss":function(e,t,n){},"./client/blocks/app-banner/style.scss":function(e,t,n){},"./client/blocks/dismissible-card/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/redux/es/redux.js"),d=n("./node_modules/lodash/lodash.js"),p=n("./client/components/gridicon/index.jsx"),m=n("./client/components/card/index.jsx"),_=n("./client/components/data/query-preferences/index.jsx"),E=n("./client/state/preferences/actions.js"),b=n("./client/state/preferences/selectors.js");n("./client/blocks/dismissible-card/style.scss");class g extends a.Component{render(){const e=this.props,t=e.className,n=e.isDismissed,s=e.onClick,i=e.dismissCard;return n?null:c.a.createElement(m.a,{className:t},c.a.createElement(_.a,null),c.a.createElement(p.a,{icon:"cross",className:"dismissible-card__close-icon",onClick:Object(d.flow)(s,i)}),this.props.children)}}i()(g,"propTypes",{className:o.a.string,dismissCard:o.a.func,isDismissed:o.a.bool,temporary:o.a.bool,onClick:o.a.func,preferenceName:o.a.string.isRequired}),i()(g,"defaultProps",{onClick:d.noop}),t.a=Object(l.b)((e,t)=>{const n="".concat("dismissible-card-").concat(t.preferenceName);return{isDismissed:Object(b.b)(e,n)}},(e,t)=>Object(u.b)({dismissCard:()=>{const e="".concat("dismissible-card-").concat(t.preferenceName);return t.temporary?Object(E.c)(e,!0):Object(E.b)(e,!0)}},e))(g)},"./client/blocks/dismissible-card/style.scss":function(e,t,n){},"./client/blocks/inline-help/constants.js":function(e,t,n){"use strict";n.d(t,"f",function(){return s}),n.d(t,"d",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"g",function(){return l}),n.d(t,"j",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"h",function(){return _});const s="type",i="title",r="description",o="link",a="article",c="tour",l="video",u="contact",d="checklist",p="richresult",m="onboarding",_=9619154},"./client/blocks/site-icon/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/prop-types/index.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/lodash/lodash.js"),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./client/components/gridicon/index.jsx"),p=n("./client/components/image/index.js"),m=n("./client/components/spinner/index.jsx"),_=n("./client/components/data/query-sites/index.jsx"),E=n("./client/state/sites/selectors.js"),b=n("./client/state/selectors/get-site-icon-id.js"),g=n("./client/state/selectors/get-site-icon-url.js"),h=n("./client/state/selectors/get-media-item.js");function f(e,t,n){return!!Object(c.get)(Object(h.a)(e,t,n),"transient")}var S=n("./client/lib/resize-image-url/index.js");n("./client/blocks/site-icon/style.scss");function O(e){let t=e.siteId,n=e.site,s=e.iconUrl,i=e.size,r=e.imgSize,a=e.isTransientIcon;const c=Object(S.a)(s,r),l=u()("site-icon",{"is-blank":!c,"is-transient":a}),E={height:i,width:i,lineHeight:i+"px",fontSize:i+"px"};return o.a.createElement("div",{className:l,style:E},!n&&t>0&&o.a.createElement(_.a,{siteId:t}),c?o.a.createElement(p.a,{className:"site-icon__img",src:c,alt:""}):o.a.createElement(d.a,{icon:"site",size:Math.round(i/1.3)}),a&&o.a.createElement(m.a,null))}O.propTypes={siteId:i.a.number,site:i.a.object,iconUrl:i.a.string,size:i.a.number,imgSize:i.a.number,isTransientIcon:i.a.bool},O.defaultProps={imgSize:120,size:32};t.a=Object(a.b)((e,t)=>{let n=t.site,s=t.siteId,i=t.imgSize;const r=Object(E.k)(e,Object(c.get)(n,"ID",s));if(!r)return{iconUrl:Object(c.get)(n,"icon.img")};const o=Object(b.a)(e,r.ID);return{site:r,iconUrl:Object(g.a)(e,r.ID,i),isTransientIcon:f(e,r.ID,o)}})(O)},"./client/blocks/site-icon/style.scss":function(e,t,n){},"./client/blocks/site/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/classnames/index.js"),d=n.n(u),p=n("./node_modules/lodash/lodash.js"),m=n("./client/components/gridicon/index.jsx"),_=n("./packages/i18n-calypso/dist/esm/index.js"),E=n("./node_modules/page/page.js"),b=n.n(E),g=n("./client/blocks/site-icon/index.jsx"),h=n("./node_modules/@babel/runtime/helpers/extends.js"),f=n.n(h),S=n("./client/config/index.js"),O=n("./client/components/animate/index.jsx"),j=n("./client/components/button/index.jsx"),T=n("./client/components/external-link/index.jsx"),y=n("./client/state/analytics/actions.js"),I=n("./client/components/data/query-site-connection-status/index.jsx"),R=n("./client/state/sites/selectors.js"),C=n("./client/state/selectors/can-current-user.js"),A=n("./client/state/selectors/get-site-connection-status.js"),v=n("./client/state/selectors/is-requesting-site-connection-status.js"),N=n("./client/state/selectors/is-site-automated-transfer.js");n("./client/my-sites/site-indicator/style.scss");const U=e=>o.a.createElement(T.a,f()({icon:!0,iconSize:12,target:"_blank"},e));class w extends r.Component{constructor(){super(...arguments),i()(this,"state",{expand:!1}),i()(this,"toggleExpand",()=>{this.setState({expand:!this.state.expand});const e=this.state.expand?"Collapse":"Expand";this.props.recordGoogleEvent("Site-Indicator","Clicked to ".concat(e," the Site Indicator"))}),i()(this,"handlePluginsUpdate",()=>{const e=this.props.siteUpdates;this.recordEvent("Clicked updates available link to plugins updates",e&&e.total)}),i()(this,"handleThemesUpdate",()=>{const e=this.props.siteUpdates;this.recordEvent("Clicked updates available link to theme updates",e&&e.total)}),i()(this,"handleCoreUpdate",()=>{this.recordEvent("Clicked updates available link to WordPress updates",1)}),i()(this,"handleMultipleUpdate",()=>{const e=this.props.siteUpdates;this.recordEvent("Clicked updates available link for multiple updates",e&&e.total)}),i()(this,"handleGenericUpdate",()=>{const e=this.props.siteUpdates;this.props.recordGoogleEvent("Site-Indicator","Clicked updates available link to wp-admin updates","Total Updates",e&&e.total)}),i()(this,"handleJetpackUpdate",()=>{this.props.recordGoogleEvent("Site-Indicator","Clicked Update Jetpack Now Link")})}hasUpdate(){const e=this.props.siteUpdates;return e&&!this.hasError()&&e.total>0}hasError(){return!1===this.props.siteIsConnected}hasWarning(){const e=this.props,t=e.requestingConnectionStatus,n=e.site,s=e.siteIsConnected;return!(!e.siteIsJetpack||n.hasMinimumJetpackVersion)&&(!t&&s)}showIndicator(){const e=this.props,t=e.siteIsAutomatedTransfer,n=e.siteIsJetpack;return e.userCanManage&&n&&!t&&(this.hasUpdate()||this.hasError()||this.hasWarning())}updatesAvailable(){const e=this.props,t=e.site,n=e.siteUpdates,s=e.translate,i="/activity-log/"+t.slug;return n.wordpress===n.total&&t.canUpdateFiles?o.a.createElement("span",null,s("A newer version of WordPress is available. {{link}}Update to %(version)s{{/link}}",{components:{link:o.a.createElement("a",{href:i,onClick:this.handleCoreUpdate})},args:{version:n.wp_update_version}})):n.plugins===n.total&&t.canUpdateFiles?o.a.createElement("span",null,o.a.createElement("a",{onClick:this.handlePluginsUpdate,href:i},s("There is a plugin update available.","There are plugin updates available.",{count:n.total}))):n.themes===n.total&&t.canUpdateFiles?o.a.createElement("span",null,o.a.createElement("a",{onClick:this.handleThemesUpdate,href:i},s("There is a theme update available.","There are theme updates available.",{count:n.total}))):n.themes+n.plugins+n.wordpress===n.total&&t.canUpdateFiles?o.a.createElement("span",null,o.a.createElement("a",{onClick:this.handleMultipleUpdate,href:i},s("There are updates available."))):o.a.createElement("span",null,o.a.createElement(U,{onClick:this.handleGenericUpdate,href:t.options.admin_url+"update-core.php"},s("There is an update available.","There are updates available.",{count:n.total})))}recordEvent(e,t){window.scrollTo(0,0),this.setState({expand:!1}),this.props.recordGoogleEvent("Site-Indicator",e,"Total Updates",t)}unsupportedJetpackVersion(){const e=this.props.translate;return o.a.createElement("span",null,e("Jetpack %(version)s is required. {{link}}Update now{{/link}}",{args:{version:Object(S.a)("jetpack_min_version")},components:{link:o.a.createElement(U,{onClick:this.handleJetpackUpdate,href:this.props.site.options.admin_url+"plugins.php?plugin_status=upgrade"})}}))}errorAccessing(){const e=this.props,t=e.site,n=e.translate;let s;return s=t?o.a.createElement("span",null,n("This site cannot be accessed."),o.a.createElement(j.a,{borderless:!0,compact:!0,scary:!0,href:"/settings/disconnect-site/".concat(t.slug),onClick:this.props.trackSiteDisconnect},n("Remove Site"))):o.a.createElement("span",null,n("This site cannot be accessed."))}getText(){return this.hasWarning()?this.unsupportedJetpackVersion():this.hasUpdate()?this.updatesAvailable():this.hasError()?this.errorAccessing():null}getIcon(){return this.hasWarning()?"notice":this.hasUpdate()?"sync":this.hasError()?"notice":void 0}renderIndicator(){const e=d()({"is-expanded":this.state.expand,"is-update":this.hasUpdate(),"is-warning":this.hasWarning(),"is-error":this.hasError(),"is-action":!0,"site-indicator__main":!0});return o.a.createElement("div",{className:e},!this.state.expand&&o.a.createElement(O.a,{type:"appear"},o.a.createElement("button",{className:"site-indicator__button",onClick:this.toggleExpand},o.a.createElement(m.a,{icon:this.getIcon(),size:16}))),this.state.expand&&o.a.createElement("div",{className:"site-indicator__message"},o.a.createElement("div",{className:"site-indicator__action"},this.getText()),o.a.createElement("button",{className:"site-indicator__button",onClick:this.toggleExpand},o.a.createElement(O.a,{type:"appear"},o.a.createElement(m.a,{icon:"cross",size:18})))))}render(){const e=this.props,t=e.site,n=e.siteIsJetpack;return o.a.createElement("div",{className:"site-indicator__wrapper"},n&&o.a.createElement(I.a,{siteId:t.ID}),this.showIndicator()&&this.renderIndicator())}}i()(w,"propTypes",{site:c.a.object,siteIsJetpack:c.a.bool,siteUpdates:c.a.object,siteIsConnected:c.a.bool,requestingConnectionStatus:c.a.bool,recordGoogleEvent:c.a.func,recordTracksEvent:c.a.func});var P=Object(l.b)((e,t)=>{let n=t.site;return{requestingConnectionStatus:n&&Object(v.a)(e,n.ID),siteIsConnected:n&&Object(A.a)(e,n.ID),siteIsJetpack:n&&Object(R.J)(e,n.ID),siteIsAutomatedTransfer:n&&Object(N.a)(e,n.ID),siteUpdates:n&&Object(R.z)(e,n.ID),userCanManage:n&&Object(C.b)(e,n.ID,"manage_options")}},{recordGoogleEvent:y.g,recordTracksEvent:y.i,trackSiteDisconnect:()=>Object(y.b)(Object(y.g)("Jetpack","Clicked in site indicator to start Jetpack Disconnect flow"),Object(y.i)("calypso_jetpack_site_indicator_disconnect_start"))})(Object(_.localize)(w));class D extends o.a.Component{constructor(){super(...arguments),i()(this,"onSelect",e=>{this.props.onSelect(e,this.props.site.ID)}),i()(this,"onMouseEnter",e=>{this.props.onMouseEnter(e,this.props.site.ID)}),i()(this,"onMouseLeave",e=>{this.props.onMouseLeave(e,this.props.site.ID)}),i()(this,"onViewSiteClick",e=>{const t=this.props,n=t.isPreviewable,s=t.siteSlug;return n?e.altKey||e.ctrlKey||e.metaKey||e.shiftKey?(this.props.recordTracksEvent("calypso_mysites_sidebar_view_site_modifier_clicked"),void this.props.recordGoogleEvent("Sidebar","Clicked View Site | Modifier Key")):(e.preventDefault(),this.props.recordTracksEvent("calypso_mysites_sidebar_view_site_clicked"),this.props.recordGoogleEvent("Sidebar","Clicked View Site | Calypso"),void b()("/view/"+s)):(this.props.recordTracksEvent("calypso_mysites_sidebar_view_site_unpreviewable_clicked"),void this.props.recordGoogleEvent("Sidebar","Clicked View Site | Unpreviewable"))})}render(){const e=this.props,t=e.site,n=e.translate;if(!t)return null;const s=d()({site:!0,"is-jetpack":t.jetpack,"is-primary":t.primary,"is-private":t.is_private,"is-redirect":t.options&&t.options.is_redirect,"is-selected":this.props.isSelected,"is-highlighted":this.props.isHighlighted,"is-compact":this.props.compact});return o.a.createElement("div",{className:s},o.a.createElement("a",{className:"site__content",href:this.props.homeLink?t.URL:this.props.href,"data-tip-target":this.props.tipTarget,target:this.props.externalLink&&"_blank",title:this.props.homeLink?n("View %(domain)s",{args:{domain:t.domain}}):t.domain,onClick:this.props.homeLink?this.onViewSiteClick:this.onSelect,onMouseEnter:this.onMouseEnter,onMouseLeave:this.onMouseLeave,"aria-label":this.props.homeLink?n("View %(domain)s",{args:{domain:t.domain}}):t.domain},o.a.createElement(g.a,{site:t,size:this.props.compact?24:32}),o.a.createElement("div",{className:"site__info"},o.a.createElement("div",{className:"site__title"},this.props.site.is_private&&o.a.createElement("span",{className:"site__badge"},o.a.createElement(m.a,{icon:"lock",size:14})),t.options&&t.options.is_redirect&&o.a.createElement("span",{className:"site__badge"},o.a.createElement(m.a,{icon:"block",size:14})),t.options&&t.options.is_domain_only&&o.a.createElement("span",{className:"site__badge"},o.a.createElement(m.a,{icon:"domains",size:14})),t.title),o.a.createElement("div",{className:"site__domain"},this.props.homeLink?n("View %(domain)s",{args:{domain:t.domain}}):t.domain)),this.props.homeLink&&this.props.showHomeIcon&&o.a.createElement("span",{className:"site__home"},o.a.createElement(m.a,{icon:"house",size:18}))),this.props.indicator?o.a.createElement(P,{site:t}):null)}}i()(D,"defaultProps",{onSelect:p.noop,onMouseEnter:p.noop,onMouseLeave:p.noop,href:null,indicator:!0,isSelected:!1,homeLink:!1,showHomeIcon:!0,compact:!1}),i()(D,"propTypes",{href:c.a.string,externalLink:c.a.bool,indicator:c.a.bool,onSelect:c.a.func,onMouseEnter:c.a.func,onMouseLeave:c.a.func,isSelected:c.a.bool,isHighlighted:c.a.bool,site:c.a.object,siteId:c.a.number,homeLink:c.a.bool,showHomeIcon:c.a.bool,compact:c.a.bool});t.a=Object(l.b)(function(e,t){const n=t.siteId||t.site.ID;return{siteId:n,site:n?Object(R.k)(e,n):t.site,isPreviewable:Object(R.R)(e,n),siteSlug:Object(R.v)(e,n)}},{recordGoogleEvent:y.g,recordTracksEvent:y.i})(Object(_.localize)(D))},"./client/blocks/site/placeholder.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/debug/src/browser.js");const c=n.n(a)()("calypso:my-sites:site");class l extends o.a.Component{componentDidMount(){c("The Site component is mounted.")}render(){return o.a.createElement("div",{className:"site is-loading"},o.a.createElement("div",{className:"site__content"},o.a.createElement("div",{className:"site-icon"}),o.a.createElement("div",{className:"site__info"},o.a.createElement("div",{className:"site__title"},"This is an example"),o.a.createElement("div",{className:"site__domain"},"example.wordpress.com"))))}}i()(l,"displayName","SitePlaceholder")},"./client/boot/app.js":function(e,t,n){"use strict";n.r(t);n("./node_modules/core-js/modules/es7.array.flat-map.js"),n("./node_modules/core-js/modules/es6.number.is-finite.js"),n("./node_modules/core-js/modules/es6.number.is-nan.js"),n("./node_modules/core-js/modules/es7.object.lookup-getter.js"),n("./node_modules/core-js/modules/es7.object.lookup-setter.js"),n("./node_modules/core-js/modules/es6.object.is.js"),n("./node_modules/core-js/modules/es7.promise.finally.js"),n("./node_modules/core-js/modules/es6.regexp.constructor.js"),n("./node_modules/core-js/modules/es6.regexp.flags.js"),n("./node_modules/core-js/modules/es6.regexp.match.js"),n("./node_modules/core-js/modules/es6.regexp.replace.js"),n("./node_modules/core-js/modules/es6.regexp.split.js"),n("./node_modules/core-js/modules/es6.regexp.search.js"),n("./node_modules/core-js/modules/es6.regexp.to-string.js"),n("./node_modules/core-js/modules/es6.symbol.js"),n("./node_modules/core-js/modules/es7.symbol.async-iterator.js"),n("./node_modules/core-js/modules/es6.string.anchor.js"),n("./node_modules/core-js/modules/es6.string.big.js"),n("./node_modules/core-js/modules/es6.string.blink.js"),n("./node_modules/core-js/modules/es6.string.bold.js"),n("./node_modules/core-js/modules/es6.string.fixed.js"),n("./node_modules/core-js/modules/es6.string.fontcolor.js"),n("./node_modules/core-js/modules/es6.string.fontsize.js"),n("./node_modules/core-js/modules/es6.string.italics.js"),n("./node_modules/core-js/modules/es6.string.link.js"),n("./node_modules/core-js/modules/es6.string.small.js"),n("./node_modules/core-js/modules/es6.string.strike.js"),n("./node_modules/core-js/modules/es6.string.sub.js"),n("./node_modules/core-js/modules/es6.string.sup.js"),n("./node_modules/core-js/modules/es7.string.trim-left.js"),n("./node_modules/core-js/modules/es7.string.trim-right.js"),n("./node_modules/core-js/modules/web.timers.js"),n("./node_modules/core-js/modules/web.immediate.js"),n("./node_modules/core-js/modules/web.dom.iterable.js");var s=n("./node_modules/lodash/noop.js"),i=n.n(s);i()(),"undefined"!=typeof window&&i()();var r=n("./node_modules/debug/src/browser.js"),o=n.n(r),a=n("./node_modules/page/page.js"),c=n.n(a),l=n("./node_modules/qs/lib/index.js"),u=n("./node_modules/url/url.js"),d=n.n(u),p=n("./node_modules/lodash/lodash.js"),m=n("./node_modules/react/index.js"),_=n.n(m),E=n("./node_modules/react-dom/index.js"),b=n.n(E),g=n("./node_modules/store/dist/store.modern.js"),h=n.n(g),f=n("./client/config/index.js"),S=n("./client/controller/index.web.js"),O=n("./client/notices/index.js"),j=n("./client/auth/controller.js"),T=n("./packages/i18n-calypso/dist/esm/index.js"),y=n.n(T),I=n("./client/state/notices/actions.js"),R=n("./client/lib/user/index.js");function C(e,t){"1"===e.query.verified&&(Object(R.default)().signalVerification(),setTimeout(()=>{const t="en"===y.a.getLocaleSlug()?y.a.translate("Email confirmed!"):y.a.translate("Email confirmed! Now that you've confirmed your email address you can publish posts on your blog."),n=Object(I.f)(t,{duration:1e4});e.store.dispatch(n)},100)),t()}var A=n("./client/lib/abtest/index.js");let v=!1,N=[9,32,37,38,39,40];var U=function(){document.addEventListener("keydown",function(e){v||-1!==N.indexOf(e.keyCode)&&(v=!0,document.documentElement.classList.add("accessible-focus"))}),document.addEventListener("mouseup",function(){v&&(v=!1,document.documentElement.classList.remove("accessible-focus"))})},w=n("./node_modules/tracekit/tracekit.js"),P=n.n(w);const D=6e4,L=o()("calypso:error-logger");class k{constructor(){this.diagnosticData={commit:COMMIT_SHA,extra:{previous_paths:[],throttled:0}},this.diagnosticReducers=[],this.lastReport=0,window.onerror||P.a.report.subscribe(e=>{const t={message:e.message,url:document.location.href};if(Array.isArray(e.stack)){const n=e.stack.slice(0,10);n.forEach(e=>Object.keys(e).forEach(t=>{"context"===t&&e[t]?e[t]=JSON.stringify(e[t]).substring(0,256):"string"==typeof e[t]&&e[t].length>512?e[t]=e[t].substring(0,512):Array.isArray(e[t])&&(e[t]=e[t].slice(0,3))})),JSON.stringify(n).length<8192&&(t.trace=n)}const n=Date.now();this.lastReport+D<n?(this.lastReport=n,this.diagnose(),this.sendToApi(Object.assign(t,this.diagnosticData)),this.diagnosticData.extra.throttled=0):this.diagnosticData.extra.throttled++})}saveNewPath(e){const t=this.diagnosticData.extra.previous_paths;t.unshift(e),this.diagnosticData.extra.previous_paths=t.slice(0,5),this.diagnosticData.calypso_path=e}saveDiagnosticReducer(e){this.diagnosticReducers.push(e)}saveDiagnosticData(e){"object"==typeof e.extra?this.saveExtraData(e):Object.assign(this.diagnosticData,e)}saveExtraData(e){Object.assign(this.diagnosticData.extra,e)}diagnose(){return this.diagnosticReducers.forEach(e=>{try{this.saveDiagnosticData(e())}catch(e){this.saveDiagnosticData({diagnosticError:e.message}),L("diagnostic: %o",this.diagnosticData)}}),this.diagnosticData}log(e,t){"object"==typeof t&&this.saveExtraData(t);try{P.a.report(new Error(e))}catch(e){}}sendToApi(e){const t=new XMLHttpRequest;t.open("POST","https://public-api.wordpress.com/rest/v1.1/js-error?http_envelope=1",!0),t.setRequestHeader("Content-type","application/x-www-form-urlencoded");let n="client_id=39911&client_secret=cOaYKdrkgXz8xY7aysv4fU6wL6sK5J8a6ojReEIAPwggsznj4Cb6mW0nffTxtYT8&error=";n+=encodeURIComponent(JSON.stringify(e)),t.send(n)}}var x=n("./client/lib/wp/localization/index.js"),M=n("./client/lib/touch-detect/index.js"),F=n("./client/lib/perfmon/index.js"),G=n("./client/state/ui/actions.js"),V=n("./client/state/ui/layout-focus/actions.js"),q=n("./client/state/analytics/actions.js"),H=n("./client/lib/analytics/index.js"),Q=n("./client/components/empty-content/index.jsx");const B=o()("calypso:layout"),Y=Object(T.localize)(e=>{let t=e.translate;return _.a.createElement(Q.a,{illustration:"/calypso/images/illustrations/error.svg",title:t("We're sorry, but an unexpected error has occurred")})});function W(){return"1"===d.a.parse(location.href,!0).query.retry}var K=n("./client/utils.js"),z=n("./client/sections-helper.js"),J=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),Z=n.n(J),$=n("./client/lib/localforage/index.js"),X=n("./client/lib/user/support-user-interop.js");const ee=o()("calypso:state"),te=Object(R.default)(),ne=5e3,se=6048e5;function ie(e,t){return delete e._timestamp,t(e,{type:"DESERIALIZE"})}function re(){return f.a.isEnabled("persist-redux")&&!Object(X.isSupportSession)()}async function oe(e,t){const n=ae()+(t?":"+t:"");try{const i=await $.a.getItem(n);if(ee("fetched stored Redux state from localforage",i),null===i)return ee("stored Redux state not found in localforage"),null;if(!((s=i)._timestamp&&s._timestamp+se>Date.now()))return ee("stored Redux state is too old, dropping"),null;const r=ie(i,e);return r?t||function(e){const t=Object(p.get)(te.get(),"ID",null),n=Object(p.get)(e,["currentUser","id"],null);return t===n||(ee("current user ID=".concat(t," and state user ID=").concat(n," don't match")),!1)}(r)?r:(ee("stored root Redux state has invalid currentUser.id, dropping"),null):(ee("stored Redux state failed to deserialize, dropping"),null)}catch(e){return ee("error while loading stored Redux state:",e),null}var s}function ae(){return ce(Object(p.get)(te.get(),"ID",null))}function ce(e){return e?"redux-state-"+e:"redux-state-logged-out"}function le(e){if(!re())return;let t=null;const n=Object(p.throttle)(function(){const n=e.getState();if(n===t)return;const s=ae();if(!function(e,t){return e===ce(Object(p.get)(t,["currentUser","id"],null))}(s,n))return;t=n;const i=function(e,t){return t(e,{type:"SERIALIZE"})}(n,e.getCurrentReducer()),r=Date.now(),o=Object(p.map)(i.get(),(e,t)=>(function(e,t,n,s){return"root"!==t&&(e+=":"+t),$.a.setItem(e,Object.assign({},n,{_timestamp:s}))})(s,t,e,r));Promise.all(o).catch(e=>ee("failed to set redux-store state",e))},ne,{leading:!1,trailing:!0});"undefined"!=typeof window&&window.addEventListener("beforeunload",n.flush),e.subscribe(n)}async function ue(e){const t=await async function(e){if(!re())return null;let t=await oe(e);if(!t)return null;const n=[...e.getStorageKeys()];return await Promise.all(Object(p.map)(n,async function(n){let s=n.storageKey,i=n.reducer;const r=await oe(i,s);r&&(t=e(t,{type:"APPLY_STORED_STATE",storageKey:s,storedState:r}))})),t}(e),n=function(e){if("object"!=typeof window||!window.initialReduxState||Object(X.isSupportSession)())return null;const t=ie(window.initialReduxState,e);return Object(p.pick)(t,Object.keys(window.initialReduxState))}(e);return Z()({},t,n)}const de=new Map,pe=new Map;const me=e=>(t,n)=>{const s=n.storageKey,i=function(e){return e.join(".")}(t),r=pe.get(i);let o=de.get(i);if(r&&n!==r)throw new Error("Different reducers on multiple calls to `addReducerToStore` for key: ".concat(i));return o||(e.addReducer(t,n),o=s?async function(e,t,n){const s=await oe(n,t);s&&e.dispatch({type:"APPLY_STORED_STATE",storageKey:t,storedState:s})}(e,s,n):Promise.resolve(),de.set(i,o),pe.set(i,n)),o};var _e=n("./client/sections.js"),Ee=n.n(_e);Object(z.d)(Ee.a);const be={};function ge(e,t){const n=t.envId;if(n&&!n.includes(Object(f.a)("env_id")))return;const s=Object(K.a)(e);t.enableLoggedOut||c()(s,S.e),c()(s,async function(e,n){try{const s=be[t.module];if(s)!0!==s&&await s;else{const n=async function(e,t){e.store.dispatch({type:"SECTION_SET",isLoading:!0});const n=setTimeout(()=>{e.store.dispatch(Object(q.a)("calypso_chunk_waiting",t.name))},400);try{const s=await Object(z.b)(t.name,t.module);await s.default(S.b,me(e.store))}finally{e.store.dispatch({type:"SECTION_SET",isLoading:!1}),clearTimeout(n)}}(e,t);be[t.module]=n,await n,be[t.module]=!0}!function(e,t){t.store.dispatch(Object(G.g)(e)),t.store.dispatch(Object(V.a)())}(t,e),n()}catch(n){delete be[t.module],console.error(n),W()?function(e,t){B("Chunk %s could not be loaded",t),H.default.mc.bumpStat("calypso_chunk_error",t),e.store.dispatch({type:"SECTION_SET",section:!1,hasSidebar:!1}),e.primary=_.a.createElement(Y,null),Object(S.c)(e,p.noop),Object(S.f)(e)}(e,t.name):function(e){if(!W()){const t=d.a.parse(location.href,!0);H.default.mc.bumpStat("calypso_chunk_retry",e),window.location.search=Object(l.stringify)(Object(p.assign)(t.query,{retry:"1"}))}}(t.name)}})}var he=n("./client/lib/protect-form/index.tsx"),fe=n("./client/lib/redux-bridge/index.js"),Se=n("./client/state/push-notifications/actions.js"),Oe={getAll:function(e,t){let n={};const s={environment:"production",environment_id:Object(f.a)("env_id"),site_count:t||0,site_id_label:"wpcom",client:Object(f.a)("client_slug")};return e&&(n={blog_id:e.ID,blog_lang:e.lang,site_id_label:e.jetpack?"jetpack":"wpcom",site_plan_id:e.plan?e.plan.product_id:null}),Object(p.assign)(s,n)}},je=n("./client/lib/route/index.js"),Te=n("./client/lib/route/legacy-routes.js");function ye(e){return{type:"CURRENT_USER_RECEIVE",user:e}}var Ie=n("./client/state/happychat/connection/actions.js"),Re=n("./client/state/happychat/user/actions.js"),Ce=n("./client/state/happychat/utils.js");var Ae=e=>{const t=(e=>Object(p.get)(e,"happychat.chat.lastActivityTimestamp"))(e);return Date.now()-t<6e5},ve=n("./client/state/ui/selectors.js"),Ne=n("./client/state/ui/language/actions.js"),Ue=n("./client/lib/keyboard-shortcuts/global.js");const we=o()("calypso"),Pe=()=>(()=>{for(const e of Ee.a)for(const t of e.paths)ge(t,e)})(),De=(e,t)=>{if(we("Executing Calypso locales."),window.i18nLocaleStrings){const e=JSON.parse(window.i18nLocaleStrings);t.dispatch(Object(Ne.b)(e))}window.i18nLocaleStrings||f.a.isEnabled("wpcom-user-bootstrap")||!e.get()||((e,t)=>{const n=e.get(),s=n.localeSlug,i=n.localeVariant;s&&t.dispatch(Object(Ne.a)(s,i))})(e,t)},Le=(e,t)=>{if(we("Executing Calypso setup middlewares."),Object(F.a)(),(e=>{c()("*",(t,n)=>{const s=d.a.parse(t.canonicalPath,!0);if(t.prevPath=s.path!==t.path&&s.path,t.query=s.query,t.hashstring=s.hash&&s.hash.substring(1)||"",t.hashstring)try{t.hash=Object(l.parse)(t.hashstring)}catch(e){we("failed to query-string parse `location.hash`",e),t.hash={}}else t.hash={};t.store=e,t.redirect=function(e){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return isNaN(e)&&!n&&(n=e),c.a.replace(n,t.state,!1,!1)},"/wp-login.php"!==t.pathname?n():window.location.href=t.path}),c.a.exit("*",(t,n)=>{t.store||(t.store=e),n()})})(t),f.a.isEnabled("oauth")&&c()("*",j.a.checkToken),Pe(),(e=>{e.get()||(f.a.isEnabled("desktop")?c()("/",()=>{f.a.isEnabled("oauth")?c.a.redirect("/authorize"):c.a.redirect("/log-in")}):f.a.isEnabled("devdocs/redirect-loggedout-homepage")&&c()("/",()=>{c.a.redirect("/devdocs/start")}))})(e),c()("*",(e,t)=>{e.store.dispatch(Object(G.f)(e.pathname,e.query)),t()}),c()("*",O.a.clearNoticesOnNavigation),c.a.exit("*",he.b),H.default.setDispatch(t.dispatch),e.get()?H.default.initialize(e,Oe):H.default.setSuperProps(Oe),!document.getElementById("primary")&&(function(e){const t=_.a.createElement(S.a,{store:e});b.a.render(t,document.getElementById("wpcom")),we("Main layout rendered.")}(t),f.a.isEnabled("catch-js-errors"))){const s=new k;n("./client/lib/catch-js-errors/log.js").registerLogger(s),s.saveDiagnosticData({user_id:e.get().ID,calypso_env:Object(f.a)("env_id")}),s.saveDiagnosticReducer(function(){const e=t.getState();return{blog_id:Object(ve.e)(e),calypso_section:Object(ve.c)(e)}}),s.saveDiagnosticReducer(()=>({tests:Object(A.d)()})),H.default.on("record-event",(e,t)=>s.saveExtraData({lastTracksEvent:t})),c()("*",function(e,t){s.saveNewPath(e.canonicalPath.replace(Object(je.d)(e.canonicalPath),":siteId")),t()})}c()("*",function(e,n){if(-1!==["sb","sp"].indexOf(e.querystring)){const n="sb"===e.querystring?"sidebar":"sites";t.dispatch(Object(V.c)(n)),c.a.replace(e.pathname)}n()}),c()("*",function(e,t){return Object(Te.a)(e.pathname)?t():Object(je.h)(e,t)}),c()("*",function(e,t){const n=e.pathname;if(Object(Te.a)(n))return t();f.a.isEnabled("code-splitting")||e.store.dispatch(Object(V.a)()),H.default.mc.bumpStat({newdash_pageviews:"route"}),t()}),c()("*",function(t,n){"/me/account"!==t.path&&e.get().phone_account&&c()("/me/account"),n()}),c()("*",C),Object(p.startsWith)(window.location.pathname,"/start")||["signupProgress","signupDependencies"].forEach(e=>h.a.remove(e)),e.get()||c()("*",function(e,t){if("/plans"!==e.pathname)t();else{const t=e.query&&e.query.for;window.location=t&&"jetpack"===t?"https://wordpress.com/wp-login.php?redirect_to=https%3A%2F%2Fwordpress.com%2Fplans":"https://wordpress.com/pricing"}});const s=t.getState();f.a.isEnabled("happychat")&&t.dispatch(Object(Re.a)()),Ae(s)&&t.dispatch(Object(Ie.a)(Object(Ce.a)(s)())),f.a.isEnabled("keyboard-shortcuts")&&Object(Ue.a)(),f.a.isEnabled("desktop")&&n("./node_modules/lodash/noop.js").default.init(),f.a.isEnabled("rubberband-scroll-disable")&&n.e(153).then(n.bind(null,"./client/lib/rubberband-scroll-disable/index.js")).then(function(e){(0,e.default)(document.body)}),f.a.isEnabled("dev/test-helper")&&document.querySelector(".environment.is-tests")&&n.e(146).then(n.bind(null,"./client/lib/abtest/test-helper/index.js")).then(function(e){(0,e.default)(document.querySelector(".environment.is-tests"))}),f.a.isEnabled("dev/preferences-helper")&&document.querySelector(".environment.is-prefs")&&n.e(152).then(n.bind(null,"./client/lib/preferences-helper/index.js")).then(function(e){(0,e.default)(document.querySelector(".environment.is-prefs"),t)})};var ke=n("./node_modules/redux-thunk/es/index.js"),xe=n("./node_modules/redux/es/redux.js"),Me=n("./node_modules/redux-form/es/reducer.js"),Fe=n("./client/state/utils.js"),Ge=n("./client/state/data-layer/http-data.js");const Ve=Object(Fe.c)(!1,{ACCOUNT_CLOSE_SUCCESS:()=>!0});var qe=Object(Fe.b)({isClosed:Ve});const He=Object(Fe.b)({isRequesting:Object(Fe.c)(!1,{ACCOUNT_RECOVERY_RESET_OPTIONS_REQUEST:p.stubTrue,ACCOUNT_RECOVERY_RESET_OPTIONS_RECEIVE:p.stubFalse,ACCOUNT_RECOVERY_RESET_OPTIONS_ERROR:p.stubFalse}),error:Object(Fe.c)(null,{ACCOUNT_RECOVERY_RESET_OPTIONS_REQUEST:()=>null,ACCOUNT_RECOVERY_RESET_OPTIONS_RECEIVE:()=>null,ACCOUNT_RECOVERY_RESET_OPTIONS_ERROR:(e,t)=>{return t.error}}),items:Object(Fe.c)([],{ACCOUNT_RECOVERY_RESET_OPTIONS_RECEIVE:(e,t)=>{return t.items},ACCOUNT_RECOVERY_RESET_OPTIONS_REQUEST:()=>[],ACCOUNT_RECOVERY_RESET_OPTIONS_ERROR:()=>[]})}),Qe=Object(Fe.c)({},{ACCOUNT_RECOVERY_RESET_UPDATE_USER_DATA:(e,t)=>t.userData}),Be=Object(Fe.c)(null,{ACCOUNT_RECOVERY_RESET_SET_METHOD:(e,t)=>t.method}),Ye=Object(Fe.b)({isRequesting:Object(Fe.c)(!1,{ACCOUNT_RECOVERY_RESET_REQUEST:p.stubTrue,ACCOUNT_RECOVERY_RESET_REQUEST_SUCCESS:p.stubFalse,ACCOUNT_RECOVERY_RESET_REQUEST_ERROR:p.stubFalse}),error:Object(Fe.c)(null,{ACCOUNT_RECOVERY_RESET_REQUEST:()=>null,ACCOUNT_RECOVERY_RESET_REQUEST_SUCCESS:()=>null,ACCOUNT_RECOVERY_RESET_REQUEST_ERROR:(e,t)=>{return t.error}})}),We=Object(Fe.c)(null,{ACCOUNT_RECOVERY_RESET_SET_VALIDATION_KEY:(e,t)=>t.key}),Ke=Object(Fe.b)({isRequesting:Object(Fe.c)(!1,{ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST:p.stubTrue,ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST_SUCCESS:p.stubFalse,ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST_ERROR:p.stubFalse}),error:Object(Fe.c)(null,{ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST:()=>null,ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST_SUCCESS:()=>null,ACCOUNT_RECOVERY_RESET_VALIDATE_REQUEST_ERROR:(e,t)=>{return t.error}})}),ze=Object(Fe.b)({isRequesting:Object(Fe.c)(!1,{ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST:p.stubTrue,ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_SUCCESS:p.stubFalse,ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_ERROR:p.stubFalse}),succeeded:Object(Fe.c)(!1,{ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST:p.stubFalse,ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_SUCCESS:p.stubTrue,ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_ERROR:p.stubFalse}),error:Object(Fe.c)(null,{ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST:()=>null,ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_SUCCESS:()=>null,ACCOUNT_RECOVERY_RESET_PASSWORD_REQUEST_ERROR:(e,t)=>{return t.error}})});var Je=Object(Fe.b)({options:He,userData:Qe,method:Be,requestReset:Ye,key:We,validate:Ke,resetPassword:ze});const Ze=e=>(t,n)=>{let s=n.target;return Z()({},t,{[s]:e})},$e=Object(Fe.c)({},{ACCOUNT_RECOVERY_SETTINGS_UPDATE:Ze(!0),ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS:Ze(!1),ACCOUNT_RECOVERY_SETTINGS_UPDATE_FAILED:Ze(!1)}),Xe=Object(Fe.c)({},{ACCOUNT_RECOVERY_SETTINGS_DELETE:Ze(!0),ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS:Ze(!1),ACCOUNT_RECOVERY_SETTINGS_DELETE_FAILED:Ze(!1)}),et=Object(Fe.c)({},{ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION:Ze(!0),ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS:Ze(!0)}),tt=Object(Fe.c)(null,{ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS:(e,t)=>{return(e=>{if(!e)return null;return{countryCode:e.country_code,countryNumericCode:e.country_numeric_code,number:e.number,numberFull:e.number_full}})(t.settings.phone)},ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS:(e,t)=>{let n=t.target,s=t.value;return"phone"===n?s:e},ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS:(e,t)=>{return"phone"===t.target?null:e}}),nt=Object(Fe.c)("",{ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS:(e,t)=>{return t.settings.email},ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS:(e,t)=>{let n=t.target,s=t.value;return"email"===n?s:e},ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS:(e,t)=>{return"email"===t.target?"":e}}),st=Object(Fe.c)(!1,{ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS:(e,t)=>{return t.settings.phone_validated},ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS:(e,t)=>{return"phone"!==t.target&&e},ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS:(e,t)=>{return"phone"!==t.target&&e},ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_SUCCESS:()=>!0}),it=Object(Fe.c)(!1,{ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE:()=>!0,ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_SUCCESS:()=>!1,ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_FAILED:()=>!1}),rt=Object(Fe.c)(!1,{ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS:(e,t)=>{return t.settings.email_validated},ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS:(e,t)=>{return"email"!==t.target&&e},ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS:(e,t)=>{return"email"!==t.target&&e}}),ot=Object(Fe.c)(!1,{ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS:()=>!0});var at=Object(Fe.b)({data:Object(Fe.b)({phone:tt,phoneValidated:st,email:nt,emailValidated:rt}),isReady:ot,isUpdating:$e,isDeleting:Xe,isValidatingPhone:it,hasSentValidation:et});const ct=Object(Fe.c)(!1,{ACCOUNT_RECOVERY_SETTINGS_FETCH:()=>!0,ACCOUNT_RECOVERY_SETTINGS_FETCH_SUCCESS:()=>!1,ACCOUNT_RECOVERY_SETTINGS_FETCH_FAILED:()=>!1});var lt=Object(Fe.b)({settings:at,reset:Je,isFetchingSettings:ct});const ut=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_PROMOTIONS_RECEIVE":return[...t.activePromotions]}return e};ut.schema={type:"array",items:{type:"string"}};var dt=Object(Fe.b)({items:ut,requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"ACTIVE_PROMOTIONS_REQUEST":return!0;case"ACTIVE_PROMOTIONS_REQUEST_SUCCESS":case"ACTIVE_PROMOTIONS_REQUEST_FAILURE":return!1}return e},error:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"ACTIVE_PROMOTIONS_REQUEST":case"ACTIVE_PROMOTIONS_REQUEST_SUCCESS":return!1;case"ACTIVE_PROMOTIONS_REQUEST_FAILURE":return!0}return e}}),pt=n("./client/state/activity-log/reducer.js");var mt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.meta;switch(n){case"ANALYTICS_TRACKING_ON":return s.analytics.reduce((e,t)=>{let n=t.payload.trackingTool;return Z()({},e,{[n]:!0})},e)}return e};const _t=Object(Fe.c)("CHECKING",{CONNECTION_LOST:()=>"OFFLINE",CONNECTION_RESTORED:()=>"ONLINE"});var Et=Object(Fe.b)({connectionState:_t});const bt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLICATION_PASSWORD_DELETE_SUCCESS":return Object(p.reject)(e,{ID:t.appPasswordId});case"APPLICATION_PASSWORDS_RECEIVE":return t.appPasswords;default:return e}};bt.schema={type:"array",items:{type:"object",properties:{ID:{type:"integer"},generated:{type:"string"},name:{type:"string"}},required:["ID","generated","name"],additionalProperties:!1}};var gt=Object(Fe.b)({items:bt,newPassword:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"APPLICATION_PASSWORD_CREATE_SUCCESS":return t.appPassword;case"APPLICATION_PASSWORD_NEW_CLEAR":return null;default:return e}}});const ht={eligibilityHolds:[],eligibilityWarnings:[],lastUpdate:0},ft=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ht,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTOMATED_TRANSFER_ELIGIBILITY_UPDATE":return{eligibilityHolds:Object(p.sortBy)(t.eligibilityHolds),eligibilityWarnings:Object(p.sortBy)(t.eligibilityWarnings,Object(p.property)("name")),lastUpdate:t.lastUpdate}}return e};ft.hasCustomPersistence=!0;var St=ft,Ot=n("./client/state/automated-transfer/constants.js");const jt={type:"object",patternProperties:{"^\\d+$":{type:"object",properties:{eligibility:{type:"object",properties:{lastUpdate:{type:"number",minimum:0},eligibilityHolds:{type:"array",items:{type:"string"}},eligibilityWarnings:{type:"array",items:{type:"object",properties:{name:{type:"string"},description:{type:"string"},supportUrl:{type:"string"}}}}}},status:{type:["string","null"]}}}}},Tt=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"AUTOMATED_TRANSFER_ELIGIBILITY_UPDATE":return e||Ot.b.INQUIRING;case"THEME_TRANSFER_INITIATE_REQUEST":return Ot.b.START;case"THEME_TRANSFER_INITIATE_FAILURE":return Ot.b.FAILURE;case"AUTOMATED_TRANSFER_STATUS_SET":return t.status;case"THEME_TRANSFER_STATUS_RECEIVE":return"complete"===t.status?Ot.b.COMPLETE:e}return e};Tt.hasCustomPersistence=!0;const yt=Object(Fe.b)({eligibility:St,status:Tt,fetchingStatus:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"AUTOMATED_TRANSFER_STATUS_REQUEST":return!0;case"AUTOMATED_TRANSFER_STATUS_REQUEST_FAILURE":return!1;default:return e}}});var It=Object(Fe.g)(jt,Object(Fe.e)("siteId",yt));const Rt={type:"object",properties:{status:{type:["string","null"]}}},Ct=Object(Fe.c)({},{ATOMIC_TRANSFER_SET:(e,t)=>{let n=t.transfer;return Z()({},e,n)}},Rt),At=Object(Fe.c)(!1,{ATOMIC_TRANSFER_REQUEST:()=>!0,ATOMIC_TRANSFER_REQUEST_FAILURE:()=>!1,ATOMIC_TRANSFER_COMPLETE:()=>!1}),vt=Object(Fe.b)({atomicTransfer:Ct,fetchingTransfer:At});var Nt=Object(Fe.e)("siteId",vt);const Ut=Object(Fe.c)(!1,{BILLING_TRANSACTION_REQUEST:()=>!0,BILLING_TRANSACTION_REQUEST_FAILURE:()=>!1,BILLING_TRANSACTION_REQUEST_SUCCESS:()=>!1}),wt=Object(Fe.c)(!1,{BILLING_TRANSACTION_REQUEST_FAILURE:()=>!0,BILLING_TRANSACTION_REQUEST_SUCCESS:()=>!1,BILLING_TRANSACTION_ERROR_CLEAR:()=>!1}),Pt=Object(Fe.c)(null,{BILLING_TRANSACTION_RECEIVE:(e,t)=>{return t.receipt}});var Dt=Object(Fe.e)("transactionId",Object(Fe.b)({requesting:Ut,error:wt,data:Pt}));const Lt=Object(Fe.c)({},{BILLING_TRANSACTIONS_RECEIVE:(e,t)=>{return{past:t.past,upcoming:t.upcoming}}},{type:"object",additionalProperties:!1,properties:{past:{type:"array",items:{type:"object",properties:{id:{type:"string"},service:{type:"string"},amount:{type:"string"},tax_amount:{type:"string"},icon:{type:"string"},date:{type:"string"},desc:{type:"string"},org:{type:"string"},url:{type:"string"},support:{type:"string"},pay_ref:{type:"string"},pay_part:{type:"string"},cc_type:{type:"string"},cc_num:{type:"string"},cc_name:{type:"string"},cc_email:{type:"string"},credit:{type:"string"},items:{type:"array",items:{type:"object"}}}}},upcoming:{type:"array",items:{type:"object",properties:{id:{type:"string"},blog_id:{type:"string"},plan:{type:"string"},amount:{type:"string"},tax_amount:{type:"string"},date:{type:"string"},product:{type:"string"},interval:{type:"string"},icon:{type:"string"},domain:{type:["string","null"]}}}}}}),kt=Object(Fe.c)(!1,{BILLING_TRANSACTIONS_REQUEST:()=>!0,BILLING_TRANSACTIONS_REQUEST_FAILURE:()=>!1,BILLING_TRANSACTIONS_REQUEST_SUCCESS:()=>!1}),xt=Object(Fe.c)({},{BILLING_RECEIPT_EMAIL_SEND:(e,t)=>{let n=t.receiptId;return Z()({},e,{[n]:!0})},BILLING_RECEIPT_EMAIL_SEND_FAILURE:(e,t)=>{let n=t.receiptId;return Z()({},e,{[n]:!1})},BILLING_RECEIPT_EMAIL_SEND_SUCCESS:(e,t)=>{let n=t.receiptId;return Z()({},e,{[n]:!1})}});var Mt=Object(Fe.b)({items:Lt,requesting:kt,sendingReceiptEmail:xt,individualTransactions:Dt});const Ft=Object(Fe.c)(!1,{SITE_CHECKLIST_REQUEST:()=>!0,SITE_CHECKLIST_RECEIVE:()=>!1}),Gt=Object(Fe.c)({},{SITE_CHECKLIST_RECEIVE:(e,t)=>{let n=t.siteId,s=t.checklist;return Z()({},e,{[n]:s})},SITE_CHECKLIST_TASK_UPDATE:(e,t)=>{let n=t.siteId,s=t.taskId;const i=e[n],r=Object(p.assign)({},i.tasks,{[s]:!0});return Z()({},e,{[n]:Object(p.assign)({},i,{tasks:r})})}},{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object"}}});var Vt=Object(Fe.b)({items:Gt,isLoading:Ft}),qt=n("./client/state/comments/reducer.js");const Ht=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CONNECTED_APPLICATION_DELETE_SUCCESS":return Object(p.reject)(e,{ID:t.appId});case"CONNECTED_APPLICATIONS_RECEIVE":return t.apps;default:return e}};Ht.schema={type:"array",items:{type:"object",properties:{ID:{type:"string"},URL:{type:"string"},authorized:{type:"string"},description:{type:"string"},icon:{type:"string"},permissions:{type:"array",items:{type:"object",properties:{description:{type:"string"},name:{type:"string"}},required:["description","name"],additionalProperties:!1}},scope:{type:"string"},site:{oneOf:[{type:"boolean"},{type:"object",properties:{site_ID:{type:"string"},site_URL:{type:"string"},site_name:{type:"string"}},required:["site_ID","site_URL","site_name"],additionalProperties:!1}]},title:{type:"string"}},required:["ID"],additionalProperties:!1}};var Qt=Ht;const Bt=e=>(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case e:return n.countries;default:return t}});var Yt=Object(Fe.b)({domains:Bt("COUNTRIES_DOMAINS_UPDATED"),payments:Bt("COUNTRIES_PAYMENTS_UPDATED"),sms:Bt("COUNTRIES_SMS_UPDATED")});const Wt=Object(Fe.c)({},{COUNTRY_STATES_RECEIVE:(e,t)=>Z()({},e,{[t.countryCode]:t.countryStates})},{type:"object",additionalProperties:!1,patternProperties:{"^[a-z]{2}$":{type:"array",items:{type:"object",properties:{code:{type:"string"},name:{type:"string"}},required:["code","name"]}}}}),Kt=Object(Fe.c)({},{COUNTRY_STATES_REQUEST:(e,t)=>{let n=t.countryCode;return Z()({},e,{[n]:!0})},COUNTRY_STATES_REQUEST_SUCCESS:(e,t)=>{let n=t.countryCode;return Z()({},e,{[n]:!1})},COUNTRY_STATES_REQUEST_FAILURE:(e,t)=>{let n=t.countryCode;return Z()({},e,{[n]:!1})}});var zt=Object(Fe.b)({isFetching:Kt,items:Wt});const Jt=Object(Fe.c)(!1,{GRAVATAR_UPLOAD_REQUEST:()=>!0,GRAVATAR_UPLOAD_REQUEST_SUCCESS:()=>!1,GRAVATAR_UPLOAD_REQUEST_FAILURE:()=>!1}),Zt=Object(Fe.c)({},{GRAVATAR_UPLOAD_RECEIVE:(e,t)=>({src:t.src})});var $t=Object(Fe.b)({isUploading:Jt,tempImage:Zt});const Xt=Object(Fe.c)(null,{EMAIL_VERIFY_REQUEST:()=>"requesting",EMAIL_VERIFY_REQUEST_SUCCESS:()=>"sent",EMAIL_VERIFY_REQUEST_FAILURE:()=>"error",EMAIL_VERIFY_STATE_RESET:()=>null}),en=Object(Fe.c)("",{EMAIL_VERIFY_REQUEST:()=>"",EMAIL_VERIFY_REQUEST_SUCCESS:()=>"",EMAIL_VERIFY_REQUEST_FAILURE:(e,t)=>{return t.message},EMAIL_VERIFY_STATE_RESET:()=>""});var tn=Object(Fe.b)({status:Xt,errorMessage:en});const nn=Object(Fe.c)(null,{CURRENT_USER_RECEIVE:(e,t)=>t.user.ID},{type:["integer","null"],minimum:0}),sn=Object(Fe.c)([],{CURRENT_USER_RECEIVE:(e,t)=>Object(p.get)(t.user,"meta.data.flags.active_flags",[])},{type:"array"}),rn=Object(Fe.c)(null,{PRODUCTS_LIST_RECEIVE:(e,t)=>Object(p.get)(t.productsList,[Object(p.first)(Object(p.keys)(t.productsList)),"currency_code"],e),PLANS_RECEIVE:(e,t)=>Object(p.get)(t.plans,[0,"currency_code"],e),SITE_PLANS_FETCH_COMPLETED:(e,t)=>Object(p.get)(t.plans,[0,"currencyCode"],e)},{type:["string","null"]});function on(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_RECEIVE":case"SITES_RECEIVE":{const n=t.site?[t.site]:t.sites;return Object(p.reduce)(n,(t,n)=>!n.capabilities||Object(p.isEqual)(n.capabilities,t[n.ID])?t:(t===e&&(t=Z()({},e)),t[n.ID]=n.capabilities,t),e)}}return e}on.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",properties:{edit_pages:{type:"boolean"},edit_posts:{type:"boolean"},edit_others_posts:{type:"boolean"},edit_others_pages:{type:"boolean"},delete_posts:{type:"boolean"},delete_others_posts:{type:"boolean"},edit_theme_options:{type:"boolean"},edit_users:{type:"boolean"},list_users:{type:"boolean"},manage_categories:{type:"boolean"},manage_options:{type:"boolean"},promote_users:{type:"boolean"},publish_posts:{type:"boolean"},upload_files:{type:"boolean"},delete_users:{type:"boolean"},remove_users:{type:"boolean"},view_stats:{type:"boolean"}}}}};var an=Object(Fe.b)({id:nn,currencyCode:rn,capabilities:on,flags:sn,gravatarStatus:$t,emailVerification:tn}),cn=n("./client/state/data-layer/wpcom-http/utils.js");const ln=Object(Fe.c)("",{DOCUMENT_HEAD_TITLE_SET:(e,t)=>t.title},{type:"string"}),un=Object(Fe.c)(0,{DOCUMENT_HEAD_UNREAD_COUNT_SET:(e,t)=>t.count,ROUTE_SET:()=>0},{type:"number"}),dn=Object(Fe.c)([{property:"og:site_name",content:"WordPress.com"}],{DOCUMENT_HEAD_META_SET:(e,t)=>t.meta},{type:"array",items:{type:"object",properties:{name:{type:"string"},property:{type:"string"},content:{type:"string"}}}}),pn=Object(Fe.c)([],{DOCUMENT_HEAD_LINK_SET:(e,t)=>t.link},{type:"array",items:{type:"object",properties:{href:{type:"string"},rel:{type:"string"}}}});var mn=Object(Fe.b)({link:pn,meta:dn,title:ln,unreadCount:un});const _n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOMAIN_MANAGEMENT_VALIDATION_SCHEMAS_ADD":return Z()({},e,t.schemas);default:return e}};const En=Object(Fe.c)(!1,{DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST:p.stubTrue,DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST_SUCCESS:p.stubFalse,DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_REQUEST_FAILURE:p.stubFalse}),bn=Object(Fe.e)("domain",Object(Fe.c)(!1,{DOMAIN_MANAGEMENT_WHOIS_REQUEST:p.stubTrue,DOMAIN_MANAGEMENT_WHOIS_REQUEST_SUCCESS:p.stubFalse,DOMAIN_MANAGEMENT_WHOIS_REQUEST_FAILURE:p.stubFalse})),gn=Object(Fe.c)({},{DOMAIN_MANAGEMENT_WHOIS_SAVE:(e,t)=>{let n=t.domain;return Z()({},e,{[n]:{saving:!0,status:"pending",error:!1}})},DOMAIN_MANAGEMENT_WHOIS_SAVE_SUCCESS:(e,t)=>{let n=t.domain;return Z()({},e,{[n]:{saving:!1,status:"success",error:!1}})},DOMAIN_MANAGEMENT_WHOIS_SAVE_FAILURE:(e,t)=>{let n=t.domain,s=t.error;return Z()({},e,{[n]:{saving:!1,status:"error",error:s}})}}),hn=Object(Fe.c)({},{DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_RECEIVE:(e,t)=>{let n=t.data;return Z()({},e,{_contactDetailsCache:Sn(n)})},DOMAIN_MANAGEMENT_CONTACT_DETAILS_CACHE_UPDATE:(e,t)=>{let n=t.data;return Object(p.merge)({},Sn(e),{_contactDetailsCache:Sn(n)})},DOMAIN_MANAGEMENT_WHOIS_RECEIVE:(e,t)=>{let n=t.domain,s=t.whoisData;return Z()({},e,{[n]:s})},DOMAIN_MANAGEMENT_WHOIS_UPDATE:(e,t)=>{let n=t.domain,s=t.whoisData;return Object(p.merge)({},e,{[n]:Z()({},e[n],s)})}},{type:"object",additionalProperties:!0,patternProperties:{first_name:{type:"string"},last_name:{type:"string"},email:{type:"string"},phone:{type:"string"},address1:{type:"string"},address2:{type:"string"},city:{type:"string"},state:{type:"string"},postal_code:{type:"string"},country_code:{type:"string"}}});var fn=Object(Fe.b)({items:hn,isRequestingContactDetailsCache:En,isRequestingWhois:bn,isSaving:gn,validationSchemas:_n});function Sn(e){const t=e._contactDetailsCache?["_contactDetailsCache","extra"]:"extra";return e&&Object(p.isArray)(Object(p.get)(e,t))?Object(p.omit)(e,t):e}var On=n("./client/state/domains/suggestions/utils.js");function jn(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOMAINS_SUGGESTIONS_RECEIVE":const n=Object(On.a)(t.queryObject);return n?Object.assign({},e,{[n]:t.suggestions}):e}return e}jn.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\{[^\\}]*\\}$":{type:"array",items:{type:"object",required:["domain_name"],properties:{domain_name:{type:"string"},cost:{type:"string"},product_id:{type:"integer"},product_slug:{type:"string"}}}}}};var Tn=Object(Fe.b)({items:jn,requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DOMAINS_SUGGESTIONS_REQUEST":case"DOMAINS_SUGGESTIONS_REQUEST_FAILURE":case"DOMAINS_SUGGESTIONS_REQUEST_SUCCESS":const n=Object(On.a)(t.queryObject);return n?Object.assign({},e,{[n]:"DOMAINS_SUGGESTIONS_REQUEST"===t.type}):e}return e},errors:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=t.queryObject&&Object(On.a)(t.queryObject);switch(t.type){case"DOMAINS_SUGGESTIONS_REQUEST":case"DOMAINS_SUGGESTIONS_REQUEST_SUCCESS":return n?Object.assign({},e,{[n]:null}):e;case"DOMAINS_SUGGESTIONS_REQUEST_FAILURE":return n?Object.assign({},e,{[n]:t.error}):e}return e}});const yn=Object(Fe.c)({},{DOMAIN_TRANSFER_UPDATE:(e,t)=>{let n=t.domain,s=t.options;return Z()({},e,{[n]:s})}},{type:"object",patternProperties:{saveStatus:{type:"string"},selectedRegistrar:{type:"object"}}});var In=Object(Fe.b)({items:yn}),Rn=Object(Fe.b)({management:fn,suggestions:Tn,transfer:In});const Cn=Object(Fe.c)(!1,{EMAIL_FORWARDING_REQUEST:()=>!0,EMAIL_FORWARDING_REQUEST_SUCCESS:()=>!1,EMAIL_FORWARDING_REQUEST_FAILURE:()=>!1}),An=e=>(t,n)=>{let s=n.mailbox;return(t||[]).map(t=>s===t.mailbox?Z()({},t,{temporary:e}):t)},vn=Object(Fe.c)(null,{EMAIL_FORWARDING_REQUEST:()=>null,EMAIL_FORWARDING_REQUEST_FAILURE:()=>null,EMAIL_FORWARDING_REQUEST_SUCCESS:(e,t)=>{return t.response.type||null}},{type:"string",enum:["forward","custom","google-apps","google-apps-another-provider"]}),Nn=Object(Fe.c)(null,{EMAIL_FORWARDING_REQUEST:()=>null,EMAIL_FORWARDING_REQUEST_FAILURE:()=>null,EMAIL_FORWARDING_REQUEST_SUCCESS:(e,t)=>{return t.response.mx_servers||[]}},{type:"array",items:{type:"object",required:["server","priority"],properties:{server:{type:"string"},priority:{type:"string"}}}}),Un=Object(Fe.c)(null,{EMAIL_FORWARDING_REQUEST:()=>null,EMAIL_FORWARDING_REQUEST_FAILURE:()=>null,EMAIL_FORWARDING_REQUEST_SUCCESS:(e,t)=>{return t.response.forwards||[]},EMAIL_FORWARDING_ADD_REQUEST:(e,t)=>{let n=t.domainName,s=t.mailbox,i=t.destination;return Object(p.orderBy)([...e||[],{email:"".concat(s,"@").concat(n),mailbox:s,domain:n,forward_address:i,active:!1,temporary:!0}],["mailbox"],["asc"])},EMAIL_FORWARDING_ADD_REQUEST_SUCCESS:(e,t)=>{let n=t.mailbox,s=t.verified;return(e||[]).map(e=>e.mailbox===n?Z()({},e,{active:s,temporary:!1}):e)},EMAIL_FORWARDING_ADD_REQUEST_FAILURE:(e,t)=>{let n=t.mailbox;return(e||[]).filter(e=>e.mailbox!==n||!0!==e.temporary)},EMAIL_FORWARDING_REMOVE_REQUEST:An(!0),EMAIL_FORWARDING_REMOVE_REQUEST_SUCCESS:(e,t)=>{let n=t.mailbox;return(e||[]).filter(e=>n!==e.mailbox)},EMAIL_FORWARDING_REMOVE_REQUEST_FAILURE:An(!1),EMAIL_FORWARDING_RESEND_VERIFICATION_REQUEST:An(!0),EMAIL_FORWARDING_RESEND_VERIFICATION_REQUEST_SUCCESS:An(!1),EMAIL_FORWARDING_RESEND_VERIFICATION_REQUEST_FAILURE:An(!1)},{type:"array",items:{type:"object",required:["email","mailbox","domain","forward_address"],properties:{email:{type:"string"},mailbox:{type:"string"},domain:{type:"string"},forward_address:{type:"string"},active:{type:"boolean"},temporary:{type:"boolean"},created:{type:"integer"}}}}),wn=Object(Fe.c)(!1,{EMAIL_FORWARDING_REQUEST:()=>!1,EMAIL_FORWARDING_REQUEST_SUCCESS:()=>!1,EMAIL_FORWARDING_REQUEST_FAILURE:(e,t)=>{return t.error.message||!0}});var Pn=Object(Fe.e)("domainName",Object(Fe.b)({forwards:Un,mxServers:Nn,requesting:Cn,requestError:wn,type:vn}));const Dn=Object(Fe.c)(null,{GOOGLE_MY_BUSINESS_STATS_RECEIVE:(e,t)=>{return t.data},GOOGLE_MY_BUSINESS_STATS_REQUEST:()=>null,GOOGLE_MY_BUSINESS_STATS_FAILURE:()=>null}),Ln=Object(Fe.c)(null,{GOOGLE_MY_BUSINESS_STATS_RECEIVE:()=>null,GOOGLE_MY_BUSINESS_STATS_REQUEST:()=>null,GOOGLE_MY_BUSINESS_STATS_FAILURE:(e,t)=>{return t.error}});var kn=Object(Fe.e)("siteId",Object(Fe.b)({stats:Object(Fe.e)("statType",Object(Fe.e)("interval",Object(Fe.e)("aggregation",Dn))),statsError:Object(Fe.e)("statType",Object(Fe.e)("interval",Object(Fe.e)("aggregation",Ln)))}));const xn=Object(Fe.c)(null,{GSUITE_USERS_REQUEST:()=>null,GSUITE_USERS_REQUEST_FAILURE:()=>null,GSUITE_USERS_REQUEST_SUCCESS:(e,t)=>{return t.response.accounts}},{type:"array",items:{oneOf:[{type:"object",required:["email","mailbox","domain","firstname","lastname","fullname","site_id","suspended","agreed_to_terms"],properties:{mailbox:{type:"string"},domain:{type:"string"},email:{type:"string"},firstname:{type:"string"},lastname:{type:"string"},fullname:{type:"string"},site_id:{type:"integer"},suspended:{type:"boolean"},agreed_to_terms:{type:"boolean"}}},{type:"object",required:["domain","site_id","error"],properties:{error:{type:"string"},domain:{type:"string"},site_id:{type:"integer"}}}]}}),Mn=Object(Fe.c)(!1,{GSUITE_USERS_REQUEST:()=>!1,GSUITE_USERS_REQUEST_FAILURE:()=>!0,GSUITE_USERS_REQUEST_SUCCESS:()=>!1}),Fn=Object(Fe.c)(!1,{GSUITE_USERS_REQUEST:()=>!0,GSUITE_USERS_REQUEST_FAILURE:()=>!1,GSUITE_USERS_REQUEST_SUCCESS:()=>!1});var Gn=Object(Fe.e)("siteId",Object(Fe.b)({users:xn,requesting:Fn,requestError:Mn}));const Vn=Object(Fe.c)(!1,{HAPPINESS_ENGINEERS_FETCH:()=>!0,HAPPINESS_ENGINEERS_FETCH_FAILURE:()=>!1,HAPPINESS_ENGINEERS_FETCH_SUCCESS:()=>!1}),qn=Object(Fe.c)(null,{HAPPINESS_ENGINEERS_RECEIVE:(e,t)=>{let n=t.happinessEngineers;return Object(p.map)(n,"avatar_URL")}},{type:["array","null"],additionalProperties:!1,items:{type:"string"}});var Hn=Object(Fe.b)({requesting:Vn,items:qn}),Qn=n("./client/state/happychat/constants.js");const Bn={type:"array",additionalProperties:!1,items:{type:"object",additionalProperties:!1,required:["id","source","message","timestamp","user_id","type"],properties:{id:{type:"string"},source:{type:"string"},message:{type:"string"},name:{type:"string"},image:{type:"string"},timestamp:{type:["number","string"]},user_id:{type:["number","string"]},type:{type:"string"},links:{type:"array"}}}},Yn=e=>e<17e8?1e3*e:e,Wn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch((arguments.length>1?arguments[1]:void 0).type){case"HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE":case"HAPPYCHAT_IO_RECEIVE_MESSAGE":return Date.now()}return e};Wn.schema={type:"number"};const Kn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SERIALIZE":return Object(p.takeRight)(e,Qn.s);case"HAPPYCHAT_IO_RECEIVE_MESSAGE":if(Object(p.get)(t,"message.meta.forOperator",!1))return e;const n=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_RECEIVE_MESSAGE":const e=t.message;return{id:e.id,source:e.source,message:e.text,name:e.user.name,image:e.user.avatarURL,timestamp:Yn(e.timestamp),user_id:e.user.id,type:Object(p.get)(e,"type","message"),links:Object(p.get)(e,"meta.links")}}return e}({},t);return Object(p.find)(e,e=>{let t=e.id;return n.id===t})?e:Object(p.concat)(e,[n]);case"HAPPYCHAT_IO_REQUEST_TRANSCRIPT_TIMEOUT":return e;case"HAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE":const s=Object(p.filter)(t.messages,t=>!!t.id&&(!Object(p.get)(t,"meta.forOperator",!1)&&!Object(p.find)(e,{id:t.id})));return(e=>Object(p.sortBy)(e,e=>parseInt(e.timestamp,10)))(e.concat(Object(p.map)(s,e=>({id:e.id,source:e.source,message:e.text,name:e.user.name,image:e.user.picture,timestamp:Yn(e.timestamp),user_id:e.user.id,type:Object(p.get)(e,"type","message"),links:Object(p.get)(e,"meta.links")}))))}return e};Kn.schema=Bn;var zn=Object(Fe.b)({status:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn.f,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_RECEIVE_STATUS":return t.status}return e},timeline:Kn,lastActivityTimestamp:Wn});var Jn=Object(Fe.b)({error:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_RECEIVE_INIT":return null;case"HAPPYCHAT_IO_RECEIVE_DISCONNECT":return t.error}return e},isAvailable:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_RECEIVE_ACCEPT":return t.isAvailable}return e},localizedSupport:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT":return t.isAvailable}return e},status:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qn.p;switch((arguments.length>1?arguments[1]:void 0).type){case"HAPPYCHAT_IO_INIT":return Qn.l;case"HAPPYCHAT_IO_RECEIVE_INIT":return Qn.k;case"HAPPYCHAT_IO_RECEIVE_DISCONNECT":return Qn.m;case"HAPPYCHAT_IO_RECEIVE_RECONNECTING":return Qn.n}return e}});const Zn=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;switch((arguments.length>1?arguments[1]:void 0).type){case"SERIALIZE":return null===e?Date.now():e;case"HAPPYCHAT_BLUR":return Date.now();case"HAPPYCHAT_FOCUS":return null}return e};Zn.schema={type:"number"};var $n=Object(Fe.b)({currentMessage:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE":return"";case"HAPPYCHAT_SET_CURRENT_MESSAGE":return t.message}return e},isMinimizing:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_MINIMIZING":return!!t.isMinimizing}return e},isOpen:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HAPPYCHAT_OPEN":return!!t.isOpen}return e},lostFocusAt:Zn});const Xn=Object(Fe.c)(null,{HAPPYCHAT_IO_RECEIVE_INIT:(e,t)=>{const n=t.user.geoLocation;return n&&n.country_long&&n.city?n:e}},{type:["object","null"],properties:{city:{type:"string"},country_long:{type:"string"},country_short:{type:"string"},region:{type:"string"}}}),es=Object(Fe.c)(null,{HAPPYCHAT_ELIGIBILITY_SET:(e,t)=>t.isEligible},{type:["boolean","null"]}),ts=Object(Fe.c)(null,{PRESALE_PRECANCELLATION_CHAT_AVAILABILITY_SET:(e,t)=>t.availability},{type:["object","null"],properties:{precancellation:{type:"boolean"},presale:{type:"boolean"}}});var ns=Object(Fe.b)({geoLocation:Xn,isEligible:es,isPresalesPrecancellationEligible:ts}),ss=Object(Fe.b)({chat:zn,connection:Jn,ui:$n,user:ns});const is=Object(Fe.c)(null,{HELP_COURSES_RECEIVE:(e,t)=>{return t.courses}});var rs=Object(Fe.b)({items:is}),os=n("./client/state/help/directly/constants.js");const as=Object(Fe.c)(os.d,{DIRECTLY_INITIALIZATION_START:()=>os.b,DIRECTLY_INITIALIZATION_SUCCESS:()=>os.c,DIRECTLY_INITIALIZATION_ERROR:()=>os.a});var cs=Object(Fe.b)({questionAsked:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DIRECTLY_ASK_QUESTION":return{questionText:t.questionText,name:t.name,email:t.email}}return e},status:as});const ls=Object(Fe.c)(!1,{HELP_TICKET_CONFIGURATION_REQUEST:()=>!0,HELP_TICKET_CONFIGURATION_REQUEST_SUCCESS:()=>!1,HELP_TICKET_CONFIGURATION_REQUEST_FAILURE:()=>!1}),us=Object(Fe.c)(!1,{HELP_TICKET_CONFIGURATION_REQUEST_SUCCESS:(e,t)=>{return t.configuration.is_user_eligible}}),ds=Object(Fe.c)(!1,{HELP_TICKET_CONFIGURATION_REQUEST_SUCCESS:()=>!0}),ps=Object(Fe.c)(null,{HELP_TICKET_CONFIGURATION_REQUEST:()=>null,HELP_TICKET_CONFIGURATION_REQUEST_SUCCESS:()=>null,HELP_TICKET_CONFIGURATION_REQUEST_FAILURE:(e,t)=>{return t.error},HELP_TICKET_CONFIGURATION_DISMISS_ERROR:()=>null});var ms=Object(Fe.b)({isReady:ds,isRequesting:ls,isUserEligible:us,requestError:ps});const _s=Object(Fe.c)(null,{HELP_CONTACT_FORM_SITE_SELECT:(e,t)=>t.siteId});var Es=Object(Fe.b)({courses:rs,directly:cs,links:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"HELP_LINKS_RECEIVE":return t.helpLinks;default:return e}},ticket:ms,selectedSiteId:_s});var bs=Object(Fe.b)({items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"I18N_LANGUAGE_NAMES_ADD":return t.items;default:return e}}});var gs=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"I18N_LOCALE_SUGGESTIONS_ADD":return t.items;default:return e}},hs=Object(Fe.b)({languageNames:bs,localeSuggestions:gs});var fs=Object(Fe.c)({attempt:!1,success:!1,reason:null,email:null,locale:null},{IMMEDIATE_LOGIN_SAVE_INFO:(e,t)=>{return{attempt:!0,success:!!t.success,reason:t.reason||null,email:t.email||null,locale:t.locale||null}}});Object(fe.d)("IMPORTS_IMPORT_CANCEL");const Ss=Object(Fe.c)("",{IMPORTER_NUX_URL_INPUT_SET:(e,t)=>{let n=t.value;return void 0===n?"":n},FLUX_IMPORTS_IMPORT_CANCEL:()=>""}),Os=Object(Fe.c)(!1,{IMPORTER_NUX_FROM_SIGNUP_SET:()=>!0,IMPORTER_NUX_FROM_SIGNUP_CLEAR:()=>!1}),js=Object(Fe.c)(!1,{IMPORT_IS_SITE_IMPORTABLE_START_FETCH:()=>!0,SIGNUP_PROGRESS_SAVE_STEP:()=>!1,IMPORT_IS_SITE_IMPORTABLE_ERROR:()=>!1,FLUX_IMPORTS_IMPORT_CANCEL:()=>!1}),Ts=Object(Fe.c)(null,{IMPORT_IS_SITE_IMPORTABLE_RECEIVE:(e,t)=>{return{engine:t.engine,favicon:t.favicon,siteTitle:t.siteTitle,siteUrl:t.siteUrl}},IMPORT_IS_SITE_IMPORTABLE_ERROR:()=>null,FLUX_IMPORTS_IMPORT_CANCEL:()=>null}),ys=Object(Fe.c)(null,{IMPORT_IS_SITE_IMPORTABLE_START_FETCH:()=>null,IMPORT_IS_SITE_IMPORTABLE_RECEIVE:()=>null,IMPORT_IS_SITE_IMPORTABLE_ERROR:(e,t)=>t.error,FLUX_IMPORTS_IMPORT_CANCEL:()=>null});var Is=Object(Fe.b)({error:ys,isFromSignupFlow:Os,isUrlInputDisabled:js,siteDetails:Ts,urlInputValue:Ss});const Rs=Object(Fe.c)(!1,{IMPORTS_UPLOAD_COMPLETED:()=>!1,IMPORTS_UPLOAD_FAILED:()=>!1,IMPORTS_UPLOAD_START:()=>!0}),Cs=Object(Fe.c)(0,{IMPORTS_UPLOAD_SET_PROGRESS:(e,t)=>t.uploadLoaded/(t.uploadTotal+Number.EPSILON)*100,IMPORTS_UPLOAD_COMPLETED:()=>0,IMPORTS_UPLOAD_FAILED:()=>0,IMPORTS_UPLOAD_START:()=>0}),As=Object(Fe.c)("",{IMPORTS_UPLOAD_COMPLETED:()=>"",IMPORTS_UPLOAD_FAILED:()=>"",IMPORTS_UPLOAD_START:(e,t)=>t.filename});var vs=Object(Fe.b)({inProgress:Rs,percentComplete:Cs,filename:As});const Ns={error:!1,errorMessage:"",errorType:null},Us=Object(Fe.c)(!1,{SITE_IMPORTER_IMPORT_FAILURE:()=>!1,SITE_IMPORTER_IMPORT_START:()=>!0,SITE_IMPORTER_IMPORT_SUCCESS:()=>!1,SITE_IMPORTER_IMPORT_RESET:()=>!1,SITE_IMPORTER_IS_SITE_IMPORTABLE_FAILURE:()=>!1,SITE_IMPORTER_IS_SITE_IMPORTABLE_START:()=>!0,SITE_IMPORTER_IS_SITE_IMPORTABLE_SUCCESS:()=>!1}),ws=Object(Fe.c)(Ns,{SITE_IMPORTER_IMPORT_SUCCESS:()=>Ns,SITE_IMPORTER_IMPORT_FAILURE:(e,t)=>{return{error:!0,errorType:"importError",errorMessage:t.message}},SITE_IMPORTER_IMPORT_START:()=>Ns,SITE_IMPORTER_IS_SITE_IMPORTABLE_SUCCESS:()=>Ns,SITE_IMPORTER_IS_SITE_IMPORTABLE_FAILURE:(e,t)=>{return{error:!0,errorType:"importError",errorMessage:t.message}},SITE_IMPORTER_IS_SITE_IMPORTABLE_START:()=>Ns,SITE_IMPORTER_IMPORT_RESET:()=>Ns,SITE_IMPORTER_VALIDATION_ERROR_SET:(e,t)=>{return{error:!0,errorType:"validationError",errorMessage:t.message}}}),Ps=Object(Fe.c)("idle",{SITE_IMPORTER_IS_SITE_IMPORTABLE_SUCCESS:()=>"importable",SITE_IMPORTER_IMPORT_RESET:()=>"idle"}),Ds=Object(Fe.c)({},{SITE_IMPORTER_IS_SITE_IMPORTABLE_SUCCESS:(e,t)=>{let n=t.response;return{title:n.site_title,supported:n.supported_content,unsupported:n.unsupported_content,favicon:n.favicon,engine:n.engine,url:n.url}}}),Ls=Object(Fe.c)("",{SITE_IMPORTER_IS_SITE_IMPORTABLE_SUCCESS:(e,t)=>{let n=t.response;return Object(p.get)(n,"site_url","")}});var ks=Object(Fe.b)({isLoading:Us,error:ws,importStage:Ps,importData:Ds,validatedSiteUrl:Ls}),xs=Object(Fe.b)({uploads:vs,siteImporter:ks});const Ms=Object(Fe.c)({isVisible:!1},{INLINE_HELP_POPOVER_SHOW:e=>Z()({},e,{isVisible:!0}),INLINE_HELP_POPOVER_HIDE:e=>Z()({},e,{isVisible:!1})}),Fs=Object(Fe.c)({isVisible:!1,taskId:null,step:0},{INLINE_HELP_CHECKLIST_PROMPT_SHOW:e=>Z()({},e,{isVisible:!0}),INLINE_HELP_CHECKLIST_PROMPT_HIDE:e=>Z()({},e,{isVisible:!1,taskId:null,step:0}),INLINE_HELP_CHECKLIST_PROMPT_SET_TASK_ID:(e,t)=>{let n=t.taskId;return Z()({},e,{taskId:n})},INLINE_HELP_CHECKLIST_PROMPT_SET_STEP:(e,t)=>{let n=t.step;return Z()({},e,{step:n})},SERIALIZE:e=>e}),Gs=Object(Fe.c)({isVisible:!1},{INLINE_HELP_ONBOARDING_WELCOME_PROMPT_SHOW:e=>Z()({},e,{isVisible:!0}),INLINE_HELP_ONBOARDING_WELCOME_PROMPT_HIDE:e=>Z()({},e,{isVisible:!1}),INLINE_HELP_POPOVER_HIDE:e=>Z()({},e,{isVisible:!1})});const Vs=Object(Fe.c)({searchQuery:"",items:{},selectedResult:-1,shouldOpenSelectedResult:!1},{INLINE_HELP_SEARCH_REQUEST:(e,t)=>Z()({},e,{searchQuery:t.searchQuery}),INLINE_HELP_SEARCH_REQUEST_SUCCESS:(e,t)=>Z()({},e,{selectedResult:-1,items:Z()({},e.items,{[t.searchQuery]:t.searchResults})}),INLINE_HELP_SELECT_RESULT:(e,t)=>Z()({},e,{selectedResult:t.resultIndex}),INLINE_HELP_SELECT_NEXT_RESULT:e=>e.items[e.searchQuery]&&e.items[e.searchQuery].length?Z()({},e,{selectedResult:(e.selectedResult+1)%e.items[e.searchQuery].length}):Z()({},e,{selectedResult:-1}),INLINE_HELP_SELECT_PREVIOUS_RESULT:e=>{if(e.items[e.searchQuery]&&e.items[e.searchQuery].length){const t=(e.selectedResult-1)%e.items[e.searchQuery].length;return Z()({},e,{selectedResult:t<0?e.items[e.searchQuery].length-1:t})}return Z()({},e,{selectedResult:-1})}}),qs=Object(Fe.b)({requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INLINE_HELP_SEARCH_REQUEST":return Z()({},e,{[t.searchQuery]:!0});case"INLINE_HELP_SEARCH_REQUEST_SUCCESS":case"INLINE_HELP_SEARCH_REQUEST_FAILURE":return Z()({},e,{[t.searchQuery]:!1})}return e},search:Vs}),Hs=Object(Fe.c)({isShowingQandASuggestions:!1},{INLINE_HELP_CONTACT_FORM_RESET:e=>Z()({},e,{isShowingQandASuggestions:!1}),INLINE_HELP_CONTACT_FORM_SHOW_QANDA:e=>Z()({},e,{isShowingQandASuggestions:!0})});var Qs=Object(Fe.b)({popover:Ms,checklistPrompt:Fs,onboardingWelcomePrompt:Gs,contactForm:Hs,searchResults:qs}),Bs=Object(Fe.c)({postId:null,postUrl:null,isVisible:!1},{SUPPORT_ARTICLE_DIALOG_OPEN:(e,t)=>{let n=t.postId,s=t.postUrl;return{postUrl:void 0===s?null:s,postId:n,isVisible:!0}},SUPPORT_ARTICLE_DIALOG_CLOSE:e=>Z()({},e,{isVisible:!1})});const Ys={type:"array",items:{type:"object",properties:{key:{type:"string"},role:{type:"string"},isPending:{type:"boolean"},inviteDate:{type:"string"},acceptedDate:{anyOf:[{type:"string"},{enum:[null]}]},user:{type:"object",properties:{login:{type:"string"},email:{anyOf:[{type:"string"},{enum:[!1]}]},name:{type:"string"},avatar_URL:{type:"string"}},additionalProperties:!1},invitedBy:{type:"object",properties:{login:{type:"string"},name:{type:"string"},avatar_URL:{type:"string"}},additionalProperties:!1}},additionalProperties:!1}},Ws={type:"object",patternProperties:{"^\\d+$":{type:"object",properties:{pending:Ys,accepted:Ys},required:["pending","accepted"],additionalProperties:!1}}};const Ks=Object(Fe.c)({},{INVITES_REQUEST_SUCCESS:(e,t)=>{const n={pending:[],accepted:[]};return t.invites.forEach(e=>{const t=Object(p.pick)(e.user,"login","email","name","avatar_URL"),s=Object(p.pick)(e.invited_by,"name","login","avatar_URL"),i={key:e.invite_key,role:e.role,isPending:e.is_pending,inviteDate:e.invite_date,acceptedDate:e.accepted_date,user:t,invitedBy:s};i.isPending?n.pending.push(i):n.accepted.push(i)}),Z()({},e,{[t.siteId]:n})},INVITES_DELETE_REQUEST_SUCCESS:(e,t)=>Z()({},e,{[t.siteId]:{accepted:zs(e[t.siteId].accepted,t.inviteIds),pending:zs(e[t.siteId].pending,t.inviteIds)}})},Ws);function zs(e,t){return e.filter(e=>!Object(p.includes)(t,e.key))}const Js=Object(Fe.c)({},{INVITES_REQUEST_SUCCESS:(e,t)=>Z()({},e,{[t.siteId]:t.found}),INVITES_DELETE_REQUEST_SUCCESS:(e,t)=>Z()({},e,{[t.siteId]:e[t.siteId]-t.inviteIds.length})});var Zs=Object(Fe.b)({requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVITES_REQUEST":case"INVITES_REQUEST_SUCCESS":case"INVITES_REQUEST_FAILURE":return Object.assign({},e,{[t.siteId]:"INVITES_REQUEST"===t.type})}return e},items:Ks,counts:Js,requestingResend:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVITE_RESEND_REQUEST":const n=Object.assign({},e[t.siteId],{[t.inviteId]:"requesting"});return Object.assign({},e,{[t.siteId]:n});case"INVITE_RESEND_REQUEST_SUCCESS":const s=Object.assign({},e[t.siteId],{[t.inviteId]:"success"});return Object.assign({},e,{[t.siteId]:s});case"INVITE_RESEND_REQUEST_FAILURE":{const n=Object.assign({},e[t.siteId],{[t.inviteId]:"failure"});return Object.assign({},e,{[t.siteId]:n})}}return e},deleting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INVITES_DELETE_REQUEST":const n=Object.assign({},e[t.siteId],Object(p.zipObject)(t.inviteIds,Object(p.map)(t.inviteIds,()=>"requesting")));return Object.assign({},e,{[t.siteId]:n});case"INVITES_DELETE_REQUEST_FAILURE":const s=Object.assign({},e[t.siteId],Object(p.zipObject)(t.inviteIds,Object(p.map)(t.inviteIds,()=>"failure")));return Object.assign({},e,{[t.siteId]:s});case"INVITES_DELETE_REQUEST_SUCCESS":const i=Object.assign({},e[t.siteId],Object(p.zipObject)(t.inviteIds,Object(p.map)(t.inviteIds,()=>"success")));return Object.assign({},e,{[t.siteId]:i})}return e}});const $s=Object(Fe.e)("siteId",Object(Fe.c)({},{JETPACK_CONNECTION_STATUS_RECEIVE:(e,t)=>{return t.status}})),Xs=Object(Fe.e)("siteId",Object(Fe.c)({},{JETPACK_CONNECTION_STATUS_REQUEST:p.stubTrue,JETPACK_CONNECTION_STATUS_REQUEST_FAILURE:p.stubFalse,JETPACK_CONNECTION_STATUS_REQUEST_SUCCESS:p.stubFalse})),ei=Object(Fe.e)("siteId",Object(Fe.c)({},{JETPACK_USER_CONNECTION_DATA_RECEIVE:(e,t)=>{return t.data}})),ti=Object(Fe.e)("siteId",Object(Fe.c)({},{JETPACK_USER_CONNECTION_DATA_REQUEST:p.stubTrue,JETPACK_USER_CONNECTION_DATA_REQUEST_FAILURE:p.stubFalse,JETPACK_USER_CONNECTION_DATA_REQUEST_SUCCESS:p.stubFalse})),ni=Object(Fe.e)("siteId",Object(Fe.c)({},{JETPACK_DISCONNECT_REQUEST:p.stubTrue,JETPACK_DISCONNECT_REQUEST_FAILURE:p.stubFalse,JETPACK_DISCONNECT_REQUEST_SUCCESS:p.stubFalse})),si=Object(Fe.b)({items:$s,requests:Xs,dataItems:ei,dataRequests:ti,disconnectRequests:ni}),ii=Object(Fe.e)("siteId",(e,t)=>{let n=t.type,s=t.credentials;return"JETPACK_CREDENTIALS_STORE"===n?"object"==typeof s?s:{}:e});ii.schema={type:"object",items:{type:"object",properties:{abspath:{type:"string"},host:{type:"string"},port:{type:"number"},protocol:{type:"string"},pass:{type:"boolean"},user:{type:"string"}}}};const ri=Object(Fe.e)("siteId",(e,t)=>{switch(t.type){case"JETPACK_CREDENTIALS_UPDATE":return"pending";case"JETPACK_CREDENTIALS_UPDATE_SUCCESS":return"success";case"JETPACK_CREDENTIALS_UPDATE_FAILURE":return"failed"}return e}),oi=Object(Fe.b)({items:ii,requestStatus:ri}),ai=e=>(t,n)=>{let s=n.siteId,i=n.moduleSlug;return Object(p.merge)({},t,{[s]:{[i]:{active:e}}})},ci=e=>(t,n)=>{let s=n.siteId,i=n.moduleSlug;return Object(p.merge)({},t,{[s]:{[i]:e}})},li=e=>(t,n)=>{let s=n.siteId;return Object(p.merge)({},t,{[s]:{fetchingModules:e}})},ui=()=>(e,t)=>{let n=t.siteId,s=t.settings,i=e;const r=Object(p.pickBy)(s,(t,s)=>void 0!==Object(p.get)(e,[n,s]));return Object(p.forEach)(r,(e,t)=>{i=Object.assign({},i,{[n]:Z()({},i[n],{[t]:Z()({},i[n][t],{active:e})})})}),i},di=Object(Fe.c)({},{JETPACK_MODULE_ACTIVATE_SUCCESS:ai(!0),JETPACK_MODULE_DEACTIVATE_SUCCESS:ai(!1),JETPACK_MODULES_RECEIVE:(()=>(e,t)=>{let n=t.siteId,s=t.modules;return Object(p.merge)({},e,{[n]:s})})(),JETPACK_SETTINGS_UPDATE:ui(),JETPACK_SETTINGS_SAVE_SUCCESS:ui()}),pi=Object(Fe.c)({},{JETPACK_MODULE_ACTIVATE:ci({activating:!0}),JETPACK_MODULE_ACTIVATE_FAILURE:ci({activating:!1}),JETPACK_MODULE_ACTIVATE_SUCCESS:ci({activating:!1}),JETPACK_MODULE_DEACTIVATE:ci({deactivating:!0}),JETPACK_MODULE_DEACTIVATE_FAILURE:ci({deactivating:!1}),JETPACK_MODULE_DEACTIVATE_SUCCESS:ci({deactivating:!1}),JETPACK_MODULES_REQUEST:li(!0),JETPACK_MODULES_REQUEST_FAILURE:li(!1),JETPACK_MODULES_REQUEST_SUCCESS:li(!1)}),mi=Object(Fe.b)({items:di,requests:pi});const _i=Object(Fe.e)("siteId",Object(Fe.c)({},{JETPACK_ONBOARDING_CREDENTIALS_RECEIVE:(e,t)=>{return t.credentials},JETPACK_CONNECT_AUTHORIZE_RECEIVE:()=>void 0},{type:"object",additionalProperties:!1,required:["siteUrl","token","userEmail"],properties:{siteUrl:{type:"string"},token:{type:"string"},userEmail:{type:"string"}}}));_i.hasCustomPersistence=!0;const Ei=Object(Fe.b)({credentials:_i}),bi={type:"object",additionalProperties:!0,properties:{onboarding:{type:"object",additionalProperties:!1,properties:{siteTitle:{type:"string"},siteDescription:{type:"string"},siteType:{anyOf:[{type:"string"},{type:"boolean"}]},homepageFormat:{anyOf:[{type:"string"},{type:"boolean"}]},addContactForm:{anyOf:[{type:"integer",minimum:0},{type:"boolean"}]},businessAddress:{anyOf:[{type:"boolean"},{type:"object",additionalProperties:!1,properties:{name:{type:"string"},street:{type:"string"},city:{type:"string"},state:{type:"string"},zip:{type:"string"},country:{type:"string"}}}]},installWooCommerce:{type:"boolean"},stats:{type:"boolean"}}}}};var gi=n("./client/state/jetpack/settings/utils.js");const hi=Object(Fe.e)("siteId",Object(Fe.c)({},{JETPACK_MODULE_ACTIVATE_SUCCESS:(e,t)=>{let n=t.moduleSlug;return Z()({},e,{[n]:!0})},JETPACK_MODULE_DEACTIVATE_SUCCESS:(e,t)=>{let n=t.moduleSlug;return Z()({},e,{[n]:!1})},JETPACK_MODULES_RECEIVE:(e,t)=>{let n=t.modules;const s=Object(p.mapValues)(n,e=>e.active),i=Object.keys(n).reduce((e,t)=>Z()({},e,Object(p.mapValues)(n[t].options,e=>e.current_value)),{});return Z()({},e,s,Object(gi.b)(i))},JETPACK_SETTINGS_SAVE_SUCCESS:(e,t)=>{let n=t.settings.post_by_email_address;return n&&n!==e.post_by_email_address?Z()({},e,{post_by_email_address:n}):e},JETPACK_SETTINGS_UPDATE:(e,t)=>{let n=t.settings;return Object(p.merge)({},e,n)}},bi));hi.hasCustomPersistence=!0;Object(Fe.b)({settings:hi});var fi=Object(Fe.b)({connection:si,credentials:oi,modules:mi,onboarding:Ei,settings:hi}),Si=n("./client/state/jetpack-connect/constants.js"),Oi=n("./client/state/jetpack-connect/utils.js");const ji=Object(Fe.e)("slug",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.attemptNumber;switch(n){case"JETPACK_CONNECT_RETRY_AUTH":return!e||Object(Oi.a)(e.timestamp,Si.a)?{attempt:0,timestamp:Date.now()}:{attempt:s,timestamp:e.timestamp};case"JETPACK_CONNECT_COMPLETE_FLOW":return}return e});ji.schema={type:"object",additionalProperties:!1,patternProperties:{"^.+$":{type:"object",additionalProperties:!1,required:["attempt","timestamp"],properties:{attempt:{type:"integer",minimum:0},timestamp:{type:"integer"}}}}};var Ti=ji;var yi=Object(Fe.g)({anyOf:[{type:"object",additionalProperties:!1,properties:{}},{type:"object",additionalProperties:!0,required:["timestamp"],properties:{authorizationCode:{type:"string"},authorizeError:{anyOf:[{type:"object",properties:{error:{type:"string"},message:{type:"string"},status:{type:"integer"}}},{type:"boolean"},{type:"null"}]},authorizeSuccess:{type:"boolean"},clientId:{type:"integer"},clientNotResponding:{type:"boolean"},isAuthorizing:{type:"boolean"},plansUrl:{type:"string"},siteReceived:{type:"boolean"},timestamp:{type:"integer"},userAlreadyConnected:{type:"boolean"}}}]},function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JETPACK_CONNECT_AUTHORIZE":return Object.assign({},e,{isAuthorizing:!0,authorizeSuccess:!1,authorizeError:!1});case"JETPACK_CONNECT_AUTHORIZE_RECEIVE":if(Object(p.isEmpty)(t.error)&&t.data){const n=t.data.plans_url;return Object.assign({},e,{authorizeError:!1,authorizeSuccess:!0,plansUrl:n,siteReceived:!1})}return Object.assign({},e,{isAuthorizing:!1,authorizeError:t.error,authorizeSuccess:!1});case"JETPACK_CONNECT_AUTHORIZE_LOGIN_COMPLETE":return Object.assign({},e,{authorizationCode:t.data.code});case"JETPACK_CONNECT_AUTHORIZE_RECEIVE_SITE_LIST":return Object.assign({},e,{siteReceived:!0,isAuthorizing:!1});case"JETPACK_CONNECT_QUERY_SET":return{authorizeError:!1,authorizeSuccess:!1,clientId:t.clientId,isAuthorizing:!1,timestamp:t.timestamp,userAlreadyConnected:!1};case"SITE_REQUEST_FAILURE":return e.clientId===t.siteId?Object.assign({},e,{clientNotResponding:!0}):e;case"JETPACK_CONNECT_USER_ALREADY_CONNECTED":return Object.assign({},e,{userAlreadyConnected:!0});case"JETPACK_CONNECT_COMPLETE_FLOW":return{};case"DESERIALIZE":return Object(Oi.a)(e.timestamp,Si.c)?{}:e;default:return e}});var Ii=Object(Fe.b)({jetpackConnectSite:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JETPACK_CONNECT_CHECK_URL":return{url:t.url,isFetching:!0,isFetched:!1,isDismissed:!1,installConfirmedByUser:null,data:{},error:null};case"JETPACK_CONNECT_CHECK_URL_RECEIVE":return t.url===e.url?Object.assign({},e,{isFetching:!1,isFetched:!0,data:t.data,error:t.error}):e;case"JETPACK_CONNECT_DISMISS_URL_STATUS":return t.url===e.url?Object.assign({},e,{installConfirmedByUser:null,isDismissed:!0}):e;case"JETPACK_CONNECT_CONFIRM_JETPACK_STATUS":return Object.assign({},e,{installConfirmedByUser:t.status});case"JETPACK_CONNECT_COMPLETE_FLOW":return{}}return e},jetpackSSO:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JETPACK_CONNECT_SSO_VALIDATION_REQUEST":return Object.assign({},e,{isValidating:!0});case"JETPACK_CONNECT_SSO_VALIDATION_SUCCESS":return Object.assign({},e,{isValidating:!1,validationError:!1,nonceValid:t.success,blogDetails:t.blogDetails,sharedDetails:t.sharedDetails});case"JETPACK_CONNECT_SSO_VALIDATION_ERROR":return Object.assign({},e,{isValidating:!1,validationError:t.error,nonceValid:!1});case"JETPACK_CONNECT_SSO_AUTHORIZE_REQUEST":return Object.assign({},e,{isAuthorizing:!0});case"JETPACK_CONNECT_SSO_AUTHORIZE_SUCCESS":return Object.assign({},e,{isAuthorizing:!1,authorizationError:!1,ssoUrl:t.ssoUrl});case"JETPACK_CONNECT_SSO_AUTHORIZE_ERROR":return Object.assign({},e,{isAuthorizing:!1,authorizationError:t.error,ssoUrl:!1})}return e},jetpackConnectAuthorize:yi,jetpackAuthAttempts:Ti});var Ri=Object(Fe.e)("siteId",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.status;switch(n){case"JETPACK_PRODUCT_INSTALL_STATUS_RECEIVE":return s;default:return e}});const Ci=Object(Fe.e)("url",function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"JETPACK_REMOTE_INSTALL_SUCCESS":return!0;case"JETPACK_REMOTE_INSTALL":return!1;default:return e}}),Ai=Object(Fe.e)("url",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.errorCode;switch(n){case"JETPACK_REMOTE_INSTALL_FAILURE":return s;case"JETPACK_REMOTE_INSTALL_SUCCESS":case"JETPACK_REMOTE_INSTALL":return null;default:return e}}),vi=Object(Fe.e)("url",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.errorMessage;switch(n){case"JETPACK_REMOTE_INSTALL_FAILURE":return s;case"JETPACK_REMOTE_INSTALL_SUCCESS":case"JETPACK_REMOTE_INSTALL":return null;default:return e}});var Ni=Object(Fe.b)({errorCode:Ai,errorMessage:vi,isComplete:Ci});var Ui=Object(Fe.b)({syncStatus:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JETPACK_SYNC_START_REQUEST":return Object.assign({},e,{[t.siteId]:{}});case"JETPACK_SYNC_STATUS_REQUEST":return Object.assign({},e,{[t.siteId]:Object.assign({},Object(p.get)(e,[t.siteId],{}),{isRequesting:!0})});case"JETPACK_SYNC_STATUS_SUCCESS":const n=Object(p.get)(e,[t.siteId],{});let s=Object(p.get)(n,"lastSuccessfulStatus",!1);const i=Object(p.get)(t,"data.started")&&!Object(p.get)(t,"data.finished");return(s||i)&&(s=Date.now()),Object.assign({},e,{[t.siteId]:Object.assign({isRequesting:!1,error:!1,lastSuccessfulStatus:s,errorCounter:0},Object(p.pick)(t.data,["started","queue_finished","sent_started","finished","queue","sent","is_scheduled","total","config","queue_size","queue_lag","full_queue_size","full_queue_lag"]))});case"JETPACK_SYNC_STATUS_ERROR":const r=Object(p.get)(e,[t.siteId,"errorCounter"],0);return Object.assign({},e,{[t.siteId]:Object.assign({isRequesting:!1,error:t.error,errorCounter:r+1},Object(p.pick)(t.data,["started","queue_finished","sent_started","finished","queue","sent","is_scheduled","total","config","queue_size","queue_lag","full_queue_size","full_queue_lag"]))})}return e},fullSyncRequest:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"JETPACK_SYNC_START_REQUEST":return Object.assign({},e,{[t.siteId]:Object.assign({},Object(p.get)(e,[t.siteId],{}),{isRequesting:!0,scheduled:!1,lastRequested:Date.now()})});case"JETPACK_SYNC_START_SUCCESS":return Object.assign({},e,{[t.siteId]:Object.assign({},Object(p.get)(e,[t.siteId],{}),{isRequesting:!1,scheduled:Object(p.get)(t,"data.scheduled"),error:!1})});case"JETPACK_SYNC_START_ERROR":return Object.assign({},e,{[t.siteId]:Object.assign({},Object(p.get)(e,[t.siteId],{}),{isRequesting:!1,scheduled:!1,error:t.error})})}return e}});const wi=Object(Fe.e)("keyedPath",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.jitms;return"JITM_SET"===n?s:e});var Pi=Object(Fe.b)({sitePathJITM:wi}),Di=n("./client/state/login/magic-login/constants.js");const Li=Object(Fe.c)(null,{MAGIC_LOGIN_HIDE_REQUEST_FORM:()=>null,MAGIC_LOGIN_RESET_REQUEST_FORM:()=>Di.e,MAGIC_LOGIN_SHOW_CHECK_YOUR_EMAIL_PAGE:()=>Di.b,MAGIC_LOGIN_SHOW_INTERSTITIAL_PAGE:()=>Di.c,MAGIC_LOGIN_SHOW_LINK_EXPIRED:()=>Di.d}),ki=Object(Fe.c)(!1,{MAGIC_LOGIN_HIDE_REQUEST_FORM:()=>!1,MAGIC_LOGIN_HIDE_REQUEST_NOTICE:()=>!1,MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_ERROR:()=>!1,MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_FETCH:()=>!0,MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_SUCCESS:()=>!1}),xi=Object(Fe.c)(!1,{MAGIC_LOGIN_REQUEST_AUTH_ERROR:()=>!1,MAGIC_LOGIN_REQUEST_AUTH_FETCH:()=>!0,MAGIC_LOGIN_REQUEST_AUTH_SUCCESS:()=>!1,MAGIC_LOGIN_SHOW_INTERSTITIAL_PAGE:()=>!1}),Mi=Object(Fe.c)(!1,{MAGIC_LOGIN_REQUEST_AUTH_ERROR:()=>!1,MAGIC_LOGIN_REQUEST_AUTH_FETCH:()=>!1,MAGIC_LOGIN_REQUEST_AUTH_SUCCESS:()=>!0}),Fi=Object(Fe.c)(null,{MAGIC_LOGIN_REQUEST_AUTH_ERROR:(e,t)=>{return t.error},MAGIC_LOGIN_REQUEST_AUTH_FETCH:()=>null,MAGIC_LOGIN_REQUEST_AUTH_SUCCESS:()=>null}),Gi=Object(Fe.c)(null,{MAGIC_LOGIN_HIDE_REQUEST_NOTICE:()=>null,MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_ERROR:(e,t)=>{return t.error},MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_FETCH:()=>null,MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_SUCCESS:()=>null,MAGIC_LOGIN_RESET_REQUEST_FORM:()=>null}),Vi=Object(Fe.c)(!1,{MAGIC_LOGIN_HIDE_REQUEST_NOTICE:()=>!1,MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_ERROR:()=>!1,MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_FETCH:()=>!1,MAGIC_LOGIN_REQUEST_LOGIN_EMAIL_SUCCESS:()=>!0,MAGIC_LOGIN_RESET_REQUEST_FORM:()=>!1});var qi=Object(Fe.b)({isFetchingAuth:xi,isFetchingEmail:ki,requestAuthError:Fi,requestAuthSuccess:Mi,requestEmailError:Gi,requestEmailSuccess:Vi,currentView:Li}),Hi=n("./client/lib/paths/index.js");const Qi=Object(Fe.c)(!1,{LOGIN_AUTH_ACCOUNT_TYPE_REQUEST:()=>!0,LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE:()=>!1,LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS:()=>!1,LOGIN_REQUEST:()=>!0,LOGIN_REQUEST_FAILURE:()=>!1,LOGIN_REQUEST_SUCCESS:()=>!1,SOCIAL_LOGIN_REQUEST:()=>!0,SOCIAL_LOGIN_REQUEST_FAILURE:()=>!1,SOCIAL_LOGIN_REQUEST_SUCCESS:()=>!1,SOCIAL_DISCONNECT_ACCOUNT_REQUEST:()=>!0,SOCIAL_DISCONNECT_ACCOUNT_REQUEST_FAILURE:()=>!1,SOCIAL_DISCONNECT_ACCOUNT_REQUEST_SUCCESS:()=>!1}),Bi=Object(Fe.b)({original:Object(Fe.c)(null,{ROUTE_SET:(e,t)=>{let n=t.path,s=t.query;return Object(p.startsWith)(n,"/log-in")&&s.redirect_to||e}}),sanitized:Object(Fe.c)(null,{LOGIN_REQUEST:()=>null,LOGIN_REQUEST_FAILURE:()=>null,LOGIN_REQUEST_SUCCESS:(e,t)=>{let n=t.data;return Object(p.get)(n,"redirect_to",null)},SOCIAL_LOGIN_REQUEST:()=>null,SOCIAL_LOGIN_REQUEST_FAILURE:()=>null,SOCIAL_LOGIN_REQUEST_SUCCESS:(e,t)=>{let n=t.data;return Object(p.get)(n,"redirect_to",null)},SOCIAL_CONNECT_ACCOUNT_REQUEST:()=>null,SOCIAL_CONNECT_ACCOUNT_REQUEST_FAILURE:()=>null,SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS:(e,t)=>Object(p.get)(t,"redirect_to",null),LOGOUT_REQUEST:()=>null,LOGOUT_REQUEST_FAILURE:()=>null,LOGOUT_REQUEST_SUCCESS:()=>(e,t)=>{let n=t.data;return Object(p.get)(n,"redirect_to",null)}})}),Yi=Object(Fe.c)(null,{LOGIN_AUTH_ACCOUNT_TYPE_REQUEST:()=>!0,LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE:()=>!1,LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS:()=>!1,LOGIN_REQUEST:()=>!0,LOGIN_REQUEST_FAILURE:()=>!1,LOGIN_REQUEST_SUCCESS:()=>!0,ROUTE_SET:()=>!1,SOCIAL_LOGIN_REQUEST:()=>!0,SOCIAL_LOGIN_REQUEST_FAILURE:()=>!1,SOCIAL_LOGIN_REQUEST_SUCCESS:()=>!0}),Wi=Object(Fe.c)(null,{LOGIN_AUTH_ACCOUNT_TYPE_REQUEST:()=>null,LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE:(e,t)=>{return t.error},LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS:()=>null,LOGIN_REQUEST:()=>null,LOGIN_REQUEST_FAILURE:(e,t)=>{return t.error},LOGIN_REQUEST_SUCCESS:()=>null,TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST:()=>null,TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_FAILURE:(e,t)=>{return t.error},SOCIAL_CREATE_ACCOUNT_REQUEST:()=>null,SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE:(e,t)=>{return t.error},SOCIAL_CREATE_ACCOUNT_REQUEST_SUCCESS:()=>null,SOCIAL_CONNECT_ACCOUNT_REQUEST:()=>null,SOCIAL_CONNECT_ACCOUNT_REQUEST_FAILURE:(e,t)=>{return t.error},SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS:()=>null,SOCIAL_DISCONNECT_ACCOUNT_REQUEST:()=>null,SOCIAL_DISCONNECT_ACCOUNT_REQUEST_FAILURE:(e,t)=>{return t.error},SOCIAL_DISCONNECT_ACCOUNT_REQUEST_SUCCESS:()=>null,ROUTE_SET:()=>null,LOGIN_FORM_UPDATE:()=>null}),Ki=Object(Fe.c)(null,{LOGIN_AUTH_ACCOUNT_TYPE_REQUEST:()=>null,LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE:()=>!1,LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS:()=>!0,LOGIN_REQUEST:()=>null,LOGIN_REQUEST_FAILURE:()=>!1,LOGIN_REQUEST_SUCCESS:()=>!0,SOCIAL_CREATE_ACCOUNT_REQUEST:()=>null,SOCIAL_CREATE_ACCOUNT_REQUEST_SUCCESS:()=>!0,SOCIAL_CONNECT_ACCOUNT_REQUEST:()=>null,SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS:()=>!0,SOCIAL_DISCONNECT_ACCOUNT_REQUEST:()=>null,SOCIAL_DISCONNECT_ACCOUNT_REQUEST_SUCCESS:()=>!0}),zi=Object(Fe.c)(null,{TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST:(e,t)=>{return t.notice},TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_FAILURE:()=>null,TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_SUCCESS:(e,t)=>{return t.notice},SOCIAL_CREATE_ACCOUNT_REQUEST:(e,t)=>{return t.notice},SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE:()=>null,ROUTE_SET:(e,t)=>t.path===Object(Hi.a)({isNative:!0,twoFactorAuthType:"sms"})?e:null}),Ji=(e,t)=>{let n=t.twoStepNonce,s=t.nonceType;return Object.assign({},e,{["two_step_nonce_".concat(s)]:n})},Zi=["push_web_token","phone_number","two_step_id","two_step_nonce","two_step_supported_auth_types","two_step_notification_sent","two_step_nonce_backup","two_step_nonce_sms","two_step_nonce_authenticator","two_step_nonce_push","user_id"],$i=Object(Fe.c)(null,{LOGIN_REQUEST:()=>null,LOGIN_REQUEST_FAILURE:()=>null,LOGIN_REQUEST_SUCCESS:(e,t)=>{let n=t.data;if(n){const e=Object(p.pick)(n,Zi);if(!Object(p.isEmpty)(e))return e}return null},SOCIAL_LOGIN_REQUEST:()=>null,SOCIAL_LOGIN_REQUEST_FAILURE:()=>null,SOCIAL_LOGIN_REQUEST_SUCCESS:(e,t)=>{let n=t.data;if(n){const e=Object(p.pick)(n,Zi);if(!Object(p.isEmpty)(e))return e}return null},SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS:()=>null,TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_FAILURE:(e,t)=>{let n=t.twoStepNonce;return Ji(e,{twoStepNonce:n,nonceType:"sms"})},TWO_FACTOR_AUTHENTICATION_SEND_SMS_CODE_REQUEST_SUCCESS:(e,t)=>{let n=t.twoStepNonce;return Ji(e,{twoStepNonce:n,nonceType:"sms"})},TWO_FACTOR_AUTHENTICATION_UPDATE_NONCE:Ji}),Xi=Object(Fe.c)(!1,{TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST:()=>!0,TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_FAILURE:()=>!1,TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_SUCCESS:()=>!1}),er=Object(Fe.c)(null,{TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST:()=>null,TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_FAILURE:(e,t)=>{return t.error},TWO_FACTOR_AUTHENTICATION_LOGIN_REQUEST_SUCCESS:()=>null,ROUTE_SET:()=>null,LOGIN_FORM_UPDATE:()=>null}),tr=Object(Fe.c)({inProgress:!1,success:!1},{TWO_FACTOR_AUTHENTICATION_PUSH_POLL_START:e=>Z()({},e,{inProgress:!0,success:!1}),TWO_FACTOR_AUTHENTICATION_PUSH_POLL_STOP:e=>Z()({},e,{inProgress:!1}),TWO_FACTOR_AUTHENTICATION_PUSH_POLL_COMPLETED:e=>Z()({},e,{inProgress:!1,success:!0})}),nr=Object(Fe.c)({isCreating:!1,createError:null},{SOCIAL_CREATE_ACCOUNT_REQUEST:()=>({isCreating:!0}),SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE:(e,t)=>{return{isCreating:!1,createError:t.error}},SOCIAL_CREATE_ACCOUNT_REQUEST_SUCCESS:(e,t)=>{let n=t.data;return{isCreating:!1,username:n.username,bearerToken:n.bearerToken,createError:null}},SOCIAL_LOGIN_REQUEST_FAILURE:(e,t)=>{let n=t.error;return Z()({},e,{requestError:n})},CURRENT_USER_RECEIVE:e=>Z()({},e,{bearerToken:null,username:null,createError:null}),LOGIN_REQUEST:e=>Z()({},e,{createError:null})}),sr=(e,t)=>{let n=t.error,s=t.authInfo;return"user_exists"===n.code?{isLinking:!0,email:n.email,authInfo:s}:e},ir=Object(Fe.c)({isLinking:!1},{SOCIAL_CREATE_ACCOUNT_REQUEST_FAILURE:sr,SOCIAL_LOGIN_REQUEST_FAILURE:sr,SOCIAL_CREATE_ACCOUNT_REQUEST_SUCCESS:()=>({isLinking:!1}),SOCIAL_CONNECT_ACCOUNT_REQUEST_SUCCESS:()=>({isLinking:!1}),CURRENT_USER_RECEIVE:()=>({isLinking:!1})}),rr=Object(Fe.c)(null,{LOGIN_AUTH_ACCOUNT_TYPE_REQUEST:()=>null,LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_FAILURE:()=>null,LOGIN_AUTH_ACCOUNT_TYPE_REQUEST_SUCCESS:(e,t)=>{return t.data.type},LOGIN_AUTH_ACCOUNT_TYPE_RESET:()=>null,ROUTE_SET:()=>null});var or=Object(Fe.b)({authAccountType:rr,isFormDisabled:Yi,isRequesting:Qi,isRequestingTwoFactorAuth:Xi,magicLogin:qi,redirectTo:Bi,requestError:Wi,requestNotice:zi,requestSuccess:Ki,socialAccount:nr,socialAccountLink:ir,twoFactorAuth:$i,twoFactorAuthPushPoll:tr,twoFactorAuthRequestError:er}),ar=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),cr=n.n(ar),lr=n("./node_modules/moment/moment.js"),ur=n.n(lr);class dr{static omit(e){const t=this.OMIT_NULL_VALUES,n=this.DEFAULT_QUERY;return t||n?Object(p.omitBy)(e,(e,s)=>!(!t||null!==e)||!(!n||n[s]!==e)):e}static stringify(e){const t=this.omit(e),n=Object(p.sortBy)(Object(p.toPairs)(t),e=>e[0]);return JSON.stringify(n)}static parse(e){return this.omit(Object(p.fromPairs)(JSON.parse(e)))}}cr()(dr,"DEFAULT_QUERY",null),cr()(dr,"OMIT_NULL_VALUES",!1);const pr="__DELETE";class mr{constructor(e,t){this.data=Object.assign({items:{},queries:{}},e),this.options=Object.assign({itemKey:"ID"},t)}static mergeItem(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]){if(t[pr])return;return Object.assign({},e,t)}return t}static matches(e,t){return!!t}static compare(e,t,n){return t===n?0:n-t}static sort(e,t,n){e.sort((e,s)=>t[e]&&t[s]?this.compare(n,t[e],t[s]):0)}getItem(e){return this.data.items[e]}getItems(e){if(!e)return Object(p.values)(this.data.items);const t=this.constructor.QueryKey.stringify(e),n=Object(p.get)(this.data.queries,[t,"itemKeys"]);return n?n.map(e=>this.getItem(e)):null}getFound(e){const t=this.constructor.QueryKey.stringify(e);return Object(p.get)(this.data.queries,[t,"found"],null)}removeItem(e){return this.removeItems([e])}removeItems(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return this.receive(e.map(e=>({[this.options.itemKey]:e,[pr]:!0})),{patch:!0})}receive(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Array.isArray(e)||(e=[e]);const n=Object(p.reduce)(e,(e,n)=>{const s=n[this.options.itemKey],i=this.getItem(s),r=this.constructor.mergeItem(i,n,t.patch);return void 0===r?i?Object(p.omit)(e,s):e:(i&&Object(p.isEqual)(r,i)||(e===this.data.items&&(e=Object(p.clone)(e)),e[s]=r),e)},this.data.items);let s,i=n!==this.data.items,r=this.data.queries,o=!1;if(!i&&!t.query)return this;if(t.query){const n=Object(p.map)(e,this.options.itemKey);let a,c;if(s=this.constructor.QueryKey.stringify(t.query),!(o=!this.data.queries[s])&&Object(p.isEqual)(this.data.queries[s].itemKeys,n)||(a=t.mergeQuery&&!o?Object(p.difference)(this.data.queries[s].itemKeys,n):n),t.found>=0&&t.found!==Object(p.get)(r,[s,"found"])&&(c=t.found),a||c>=0){i=!0;const e=Object.assign({},r[s]);a&&(e.itemKeys=a),c>=0&&(e.found=c),r=Object.assign({},r,{[s]:e})}}return r=Object(p.reduce)(r,(r,a,c)=>{r[c]=a;const l=s&&s===c;if(l&&(o||!t.mergeQuery))return r;const u=!l,d=this.constructor.QueryKey.parse(c);let m=!1;return e.forEach(e=>{const t=e[this.options.itemKey],s=n[t],i=r[c].itemKeys.indexOf(t);-1!==i?s&&this.constructor.matches(d,s)||(r[c]===a&&(r[c]=Object(p.clone)(a)),r[c].itemKeys=[...r[c].itemKeys.slice(0,i),...r[c].itemKeys.slice(i+1)],u&&Number.isFinite(r[c].found)&&r[c].found--):s&&this.constructor.matches(d,s)&&(r[c]===a&&(r[c]=Object(p.clone)(a)),u&&Number.isFinite(r[c].found)&&r[c].found++,r[c].itemKeys=Object(p.get)(r,[c,"itemKeys"],[]).concat(t),m=!0)}),m&&this.constructor.sort(r[c].itemKeys,n,d),i=i||r[c]!==a,r},{}),i?new this.constructor(Object.assign({},this.data,{items:n,queries:r}),this.options):this}}cr()(mr,"QueryKey",dr);const _r=["number","offset","page"];class Er extends dr{static stringify(e){return super.stringify(Object(p.omit)(e,_r))}static parse(e){return Object(p.omit)(super.parse(e),_r)}}class br extends mr{static hasQueryPaginationKeys(e){return!!e&&_r.some(t=>e.hasOwnProperty(t))}getItems(e){if(!e)return super.getItems(e);const t=this.getItemsIgnoringPage(e,!0);if(!t)return t;const n=e.page||this.constructor.DefaultQuery.page,s=e.number||this.constructor.DefaultQuery.number,i=(n-1)*s;return t.slice(i,i+s)}getItemsIgnoringPage(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e)return null;const n=super.getItems(Object(p.omit)(e,_r));return!n||t?n:n.filter(e=>void 0!==e)}getNumberOfPages(e){const t=this.getFound(e);if(null===t)return t;const n=e.number||this.constructor.DefaultQuery.number;return Math.ceil(t/n)}receive(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t;t.query&&(n=Object.assign({mergeQuery:!0},t,{query:Object(p.omit)(t.query,_r)}));const s=super.receive(e,n);if(this===s)return s;if(!this.constructor.hasQueryPaginationKeys(t.query))return s;const i=this.constructor.QueryKey.stringify(t.query),r=t.query.page||this.constructor.DefaultQuery.page,o=t.query.number||this.constructor.DefaultQuery.number,a=(r-1)*o,c=s.data.queries[i];Array.isArray(e)||(e=[e]);const l=e.map(e=>e[this.options.itemKey]),u=Object(p.cloneDeep)(c);if(u.hasOwnProperty("found")&&e.length<o){const e=this.data.queries[i];e&&e.hasOwnProperty("found")&&(u.found=Math.max(e.found,u.found))}return u.itemKeys=[...Object(p.range)(0,a).map(e=>{const t=c.itemKeys[e];if(!Object(p.includes)(l,t))return t}),...Object(p.range)(0,o).map(e=>l[e]),...c.itemKeys.slice(a+o).filter(e=>e&&!Object(p.includes)(l,e))],u.hasOwnProperty("found")&&(u.itemKeys=Object(p.range)(0,u.found).map(e=>u.itemKeys[e])),new this.constructor(Object.assign({},s.data,{queries:Object.assign({},s.data.queries,{[i]:u})}),s.options)}}cr()(br,"QueryKey",Er),cr()(br,"DefaultQuery",{number:20,page:1});const gr={context:"display",http_envelope:!1,pretty:!1,number:20,offset:0,page:1,order:"DESC",order_by:"date",mime_type:"",search:""};class hr extends Er{}cr()(hr,"DEFAULT_QUERY",gr),cr()(hr,"OMIT_NULL_VALUES",!0);class fr extends br{static matches(e,t){return Object(p.every)(Z()({},this.DefaultQuery,e),(e,n)=>{switch(n){case"search":return!e||t.title&&Object(p.includes)(t.title.toLowerCase(),e.toLowerCase());case"mime_type":return!e||new RegExp("^".concat(e.replace(/(^%|(\/)%?)$/,"$2.+").split("/").map(e=>e.replace(/[^-*.+a-zA-Z0-9]/g,"")).concat(".+").slice(0,2).join("/"),"$")).test(t.mime_type);case"post_ID":return e===t.post_ID;case"after":case"before":const s=ur()(e,ur.a.ISO_8601),i=/after$/.test(n)?"isAfter":"isBefore";return s.isValid()&&ur()(t.date)[i](s)}return!0})}static compare(e,t,n){let s;switch(e.order_by){case"ID":s=t.ID-n.ID;break;case"title":s=t.title.localeCompare(n.title);break;case"date":default:s=ur()(t.date).diff(n.date)}return e.order&&!/^desc$/i.test(e.order)||(s*=-1),s||0}}cr()(fr,"QueryKey",hr),cr()(fr,"DefaultQuery",gr);const Sr=(()=>{function e(e,t,n,s){for(var i=arguments.length,r=new Array(i>4?i-4:0),o=4;o<i;o++)r[o-4]=arguments[o];if(!e[t])return s?Z()({},e,{[t]:(new fr)[n](...r)}):e;const a=e[t][n](...r);return a===e[t]?e:Z()({},e,{[t]:a})}return Object(Fe.c)({},{MEDIA_RECEIVE:(t,n)=>{return e(t,n.siteId,"receive",!0,n.media,{found:n.found,query:n.query})},MEDIA_DELETE:(t,n)=>{return e(t,n.siteId,"removeItems",!0,n.mediaIds)}})})(),Or=Object(Fe.c)({},{MEDIA_REQUESTING:(e,t)=>{let n=t.siteId,s=t.query;return Z()({},e,{[n]:Z()({},e[n],{[fr.QueryKey.stringify(s)]:!0})})},MEDIA_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId,s=t.query;return Z()({},e,{[n]:Object(p.omit)(e[n],fr.QueryKey.stringify(s))})},MEDIA_REQUEST_FAILURE:(e,t)=>{let n=t.siteId,s=t.query;return Z()({},e,{[n]:Object(p.omit)(e[n],fr.QueryKey.stringify(s))})}}),jr=Object(Fe.c)({},{MEDIA_ITEM_REQUESTING:(e,t)=>{let n=t.siteId,s=t.mediaId;return Z()({},e,{[n]:Z()({},e[n],{[s]:!0})})},MEDIA_ITEM_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId,s=t.mediaId;return Z()({},e,{[n]:Object(p.omit)(e[n],s)})},MEDIA_ITEM_REQUEST_FAILURE:(e,t)=>{let n=t.siteId,s=t.mediaId;return Z()({},e,{[n]:Object(p.omit)(e[n],s)})}});var Tr=Object(Fe.b)({queries:Sr,queryRequests:Or,mediaItemRequests:jr});const yr=Object(Fe.c)({},{MEMBERSHIPS_CONNECTED_ACCOUNTS_RECEIVE:(e,t)=>Z()({},e,t.accounts)}),Ir=Object(Fe.c)(!1,{MEMBERSHIPS_CONNECTED_ACCOUNTS_RECEIVE:()=>!1,MEMBERSHIPS_CONNECTED_ACCOUNTS_LIST:()=>!0});var Rr=Object(Fe.b)({accounts:yr,isFetching:Ir});const Cr={currency:{type:"string",metaKey:"spay_currency"},price:{type:"string",metaKey:"spay_price"},status:{type:"string",metaKey:"spay_status"},email:{type:"string",metaKey:"spay_email"},formatted_price:{type:"string",metaKey:"spay_formatted_price"},stripe_account:{type:"string"},renewal_schedule:{type:"string"}},Ar={type:"object",patternProperties:{"^\\d+$":{type:"array",items:{type:"object",properties:Z()({title:{type:"string"},description:{type:"string"},ID:{type:"number"}},Cr)}}},additionalProperties:!1};Object.keys(Cr).reduce((e,t)=>(e[Cr[t].metaKey]=t,e),{});var vr=Ar;function Nr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=0;const s=e.map(e=>e.ID===t.ID?(n=1,t):e);return n?s:[t,...s]}const Ur=Object(Fe.c)({},{MEMBERSHIPS_PRODUCTS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.products;return Z()({},e,{[n]:s})},MEMBERSHIPS_PRODUCT_RECEIVE:(e,t)=>{let n=t.siteId,s=t.product;return Z()({},e,{[n]:Nr(e[n],s)})}},vr);var wr=Object(Fe.b)({items:Ur});const Pr=Object(Fe.c)([],{MEMBERSHIPS_SUBSCRIPTIONS_RECEIVE:(e,t)=>{return t.subscriptions},MEMBERSHIPS_SUBSCRIPTION_STOP_SUCCESS:(e,t)=>{let n=t.subscriptionId;return e.filter(e=>e.ID!==n)}}),Dr=Object(Fe.c)([],{MEMBERSHIPS_SUBSCRIPTION_STOP:(e,t)=>{let n=t.subscriptionId;return Z()({},e,{[n]:"start"})},MEMBERSHIPS_SUBSCRIPTION_STOP_SUCCESS:(e,t)=>{let n=t.subscriptionId;return Z()({},e,{[n]:"success"})},MEMBERSHIPS_SUBSCRIPTION_STOP_FAILURE:(e,t)=>{let n=t.subscriptionId;return Z()({},e,{[n]:"fail"})}});var Lr=Object(Fe.b)({items:Pr,stoppingSubscription:Dr});const kr=Object(Fe.c)({},{MEMBERSHIPS_EARNINGS_RECEIVE:(e,t)=>Z()({},e,{[t.siteId]:t.earnings})});var xr=Object(Fe.b)({summary:kr});const Mr=Object(Fe.c)({},{MEMBERSHIPS_SUBSCRIBERS_RECEIVE:(e,t)=>Z()({},e,{[t.siteId]:{total:Object(p.get)(t,"subscribers.total",0),ownerships:Object(p.get)(t,"subscribers.ownerships",[]).reduce((e,t)=>(e[t.id]=t,e),Z()({},Object(p.get)(e,[t.siteId,"ownerships"],{})))}})});const Fr={subscriptions:Lr,earnings:xr,subscribers:Object(Fe.b)({list:Mr}),settings:Object(Fe.c)({},{MEMBERSHIPS_SETTINGS_RECEIVE:(e,t)=>Z()({},e,{[t.siteId]:{connectedAccountId:Object(p.get)(t,"data.connected_account_id",null),connectUrl:Object(p.get)(t,"data.connect_url",null)}})})};f.a.isEnabled("memberships")&&(Fr.connectedAccounts=Rr,Fr.productList=wr);var Gr=Object(Fe.b)(Fr);const Vr=Object(Fe.c)([],{MAILCHIMP_LISTS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.lists;return Z()({},e,{[n]:s})}});var qr=Object(Fe.b)({items:Vr});const Hr=Object(Fe.c)({},{MAILCHIMP_SETTINGS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.settings;return Z()({},e,{[n]:s})},MAILCHIMP_SETTINGS_UPDATE_SUCCESS:(e,t)=>{let n=t.siteId,s=t.settings;return Z()({},e,{[n]:s})}});var Qr=Object(Fe.b)({items:Hr}),Br=Object(Fe.b)({lists:qr,settings:Qr});function Yr(e){const t=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;return e===n.type?!t:t};return t.schema={type:"boolean"},t}var Wr=Object(Fe.b)({isSiteOpen:Yr("MY_SITES_SIDEBAR_SITE_TOGGLE"),isDesignOpen:Yr("MY_SITES_SIDEBAR_DESIGN_TOGGLE"),isToolsOpen:Yr("MY_SITES_SIDEBAR_TOOLS_TOGGLE"),isManageOpen:Yr("MY_SITES_SIDEBAR_MANAGE_TOGGLE")});const Kr=Object(Fe.c)({},{NOTICE_CREATE:(e,t)=>{const n=t.notice;return Z()({},e,{[n.noticeId]:n})},NOTICE_REMOVE:(e,t)=>{const n=t.noticeId;return e.hasOwnProperty(n)?Object(p.omit)(e,n):e},ROUTE_SET:e=>Object(p.reduce)(e,(e,t,n)=>{if(!t.isPersistent&&!t.displayOnNextPage)return e;let s=t;return s.displayOnNextPage&&(s=Z()({},s,{displayOnNextPage:!1})),e[n]=s,e},{})}),zr=Object(Fe.c)({},{NOTICE_CREATE:(e,t)=>{const n=t.notice;return Z()({},e,{[n.noticeId]:Date.now()})}});var Jr=Object(Fe.b)({items:Kr,lastTimeShown:zr});const Zr=(e,t,n)=>Object(p.includes)(e,t)?((e,t,n)=>e.map((e,s)=>s===t?n:e))(e,Object(p.findIndex)(e,t),n):[...e,n],$r=(e,t,n)=>({[e]:Z()({},t,{[n]:!Object(p.get)(t,n)})}),Xr=(e,t,n)=>{const s=Object(p.find)(e,{device_id:parseInt(t,10)}),i=Object(p.get)(s,n);return{devices:Zr(e,s,Z()({},s,{[n]:!i}))}};var eo={wpcom:(e,t,n,s)=>$r("wpcom",Object(p.get)(e,"dirty.wpcom"),s),other(e,t,n,s){const i=Object(p.get)(e,"dirty.other.devices");return{other:Z()({},Object(p.get)(e,"dirty.other"),isNaN(n)?$r(n,Object(p.get)(e,["dirty","other",n]),s):Xr(i,n,s))}},blog(e,t,n,s){const i=Object(p.get)(e,"dirty.blogs"),r=Object(p.find)(i,{blog_id:parseInt(t,10)}),o=Object(p.get)(r,"devices",[]);return{blogs:Zr(i,r,Z()({},r,isNaN(n)?$r(n,Object(p.get)(r,n),s):Xr(o,n,s)))}}};function to(e,t){return eo[t]?eo[t].apply(this,arguments):eo.blog.apply(this,arguments)}var no=Object(Fe.b)({isFetching:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"NOTIFICATION_SETTINGS_FETCH":case"NOTIFICATION_SETTINGS_SAVE":return!0;case"NOTIFICATION_SETTINGS_FETCH_COMPLETE":case"NOTIFICATION_SETTINGS_FETCH_FAILED":case"NOTIFICATION_SETTINGS_SAVE_COMPLETE":case"NOTIFICATION_SETTINGS_SAVE_FAILED":return!1}return e},settings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{clean:null,dirty:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"NOTIFICATION_SETTINGS_FETCH_COMPLETE":case"NOTIFICATION_SETTINGS_SAVE_COMPLETE":return{clean:t.data,dirty:t.data};case"NOTIFICATION_SETTINGS_TOGGLE_SETTING":{const n=t.source,s=t.stream,i=t.setting;return Z()({},e,{dirty:Z()({},e.dirty,to(e,n,s,i))})}}return e}}),so=n("./client/state/notifications/index.js"),io=n("./client/state/nps-survey/constants.js");const ro=Object(Fe.c)(!1,{NPS_SURVEY_SET_ELIGIBILITY:(e,t)=>t.isSessionPicked}),oo=Object(Fe.c)(!1,{NPS_SURVEY_MARK_SHOWN_THIS_SESSION:()=>!0}),ao=Object(Fe.c)(io.a,{NPS_SURVEY_SUBMIT_REQUESTING:()=>io.c,NPS_SURVEY_SUBMIT_REQUEST_FAILURE:()=>io.d,NPS_SURVEY_SUBMIT_REQUEST_SUCCESS:()=>io.b,NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUESTING:()=>io.c,NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUEST_FAILURE:()=>io.d,NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUEST_SUCCESS:()=>io.b,NPS_SURVEY_SEND_FEEDBACK_REQUESTING:()=>io.c,NPS_SURVEY_SEND_FEEDBACK_REQUEST_FAILURE:()=>io.d,NPS_SURVEY_SEND_FEEDBACK_REQUEST_SUCCESS:()=>io.b}),co=Object(Fe.c)(null,{NPS_SURVEY_SUBMIT_REQUESTING:(e,t)=>t.surveyName,NPS_SURVEY_SUBMIT_WITH_NO_SCORE_REQUESTING:(e,t)=>t.surveyName,NPS_SURVEY_SEND_FEEDBACK_REQUESTING:(e,t)=>t.surveyName}),lo=Object(Fe.c)(null,{NPS_SURVEY_SUBMIT_REQUESTING:(e,t)=>t.score}),uo=Object(Fe.c)(null,{NPS_SURVEY_SEND_FEEDBACK_REQUESTING:(e,t)=>t.feedback});var po=Object(Fe.b)({isSessionEligible:ro,wasShownThisSession:oo,surveyState:ao,surveyName:co,score:lo,feedback:uo});var mo=Object(Fe.c)({930:{id:930,name:"vaultpress",title:"Vaultpress",icon:"https://vaultpress.com/images/vaultpress-wpcc-nav-2x.png"},973:{id:973,name:"akismet",title:"Akismet",icon:"https://akismet.com/img/akismet-wpcc-logo-2x.png"},978:{id:978,name:"crowdsignal",title:"Crowdsignal",icon:"https://app.crowdsignal.com/images/logo-white.png"},1854:{id:1854,name:"gravatar",title:"Gravatar",icon:"https://gravatar.com/images/grav-logo-2x.png"},50019:{id:50019,name:"woo",title:"WooCommerce",icon:"https://woocommerce.com/wp-content/themes/woo/images/logo-woocommerce@2x.png"},50915:{id:50915,name:"woo",title:"WooCommerce",icon:"https://woocommerce.com/wp-content/themes/woo/images/logo-woocommerce@2x.png"},50916:{id:50916,name:"woo",title:"WooCommerce.com",icon:"https://woocommerce.com/wp-content/themes/woo/images/logo-woocommerce@2x.png"}},{OAUTH2_CLIENT_DATA_REQUEST_SUCCESS:(e,t)=>{let n=t.data;const s=Object.assign({},e[n.id],n);return Object.assign({},e,{[n.id]:s})}});const _o=Object(Fe.e)("orderId",Object(Fe.c)(null,{ORDER_TRANSACTION_FETCH:()=>null,ORDER_TRANSACTION_FETCH_ERROR:()=>null,ORDER_TRANSACTION_SET:(e,t)=>{return t.transaction}})),Eo=Object(Fe.e)("orderId",Object(Fe.c)(!1,{ORDER_TRANSACTION_FETCH:()=>!0,ORDER_TRANSACTION_FETCH_ERROR:()=>!1,ORDER_TRANSACTION_SET:()=>!1})),bo=Object(Fe.e)("orderId",Object(Fe.c)(null,{ORDER_TRANSACTION_FETCH:()=>null,ORDER_TRANSACTION_FETCH_ERROR:(e,t)=>t.error,ORDER_TRANSACTION_SET:()=>null}));var go=Object(Fe.b)({items:_o,isFetching:Eo,errors:bo});const ho=Object(Fe.c)({},{PAGE_TEMPLATES_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},PAGE_TEMPLATES_REQUEST_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},PAGE_TEMPLATES_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}}),fo=Object(Fe.c)({},{PAGE_TEMPLATES_RECEIVE:(e,t)=>{let n=t.siteId,s=t.templates;return Z()({},e,{[n]:s})}},{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object",required:["label","file"],properties:{label:{type:"string"},file:{type:"string"}}}}}});var So=Object(Fe.b)({requesting:ho,items:fo});const Oo=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLANS_RECEIVE":return t.plans.slice(0)}return e};Oo.schema={type:"array",items:{type:"object",required:["product_id"],properties:{android_sku:{type:"string"},apple_sku:{type:"string"},available:{type:"string"},bill_period:{type:"number"},bill_period_label:{type:"string"},bundle_product_ids:{type:"array"},cost:{type:"number"},capability:{type:"string"},currency_code:{type:"string"},description:{type:"string"},feature_1:{type:"string"},feature_2:{type:"string"},feature_3:{type:"string"},feature_4:{type:"string"},feature_5:{type:"string"},features_highlight:{type:["null","array"]},formatted_price:{type:"string"},formatted_original_price:{type:"string"},height:{type:"number"},icon:{type:"string"},icon_active:{type:"string"},multi:{type:"number"},original:{type:"number"},price:{type:"string"},prices:{type:"object"},product_id:{type:"number"},product_name:{type:"string"},product_name_en:{type:"string"},product_name_short:{type:["string","null"]},product_slug:{type:"string"},product_type:{type:"string"},raw_price:{type:"number"},saving:{type:"number"},shortdesc:{type:"string"},store:{type:["number","null"]},support_document:{type:"string"},tagline:{type:["string","null"]},width:{type:"number"}}}};var jo=Object(Fe.b)({items:Oo,requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLANS_REQUEST":case"PLANS_REQUEST_SUCCESS":case"PLANS_REQUEST_FAILURE":return"PLANS_REQUEST"===t.type}return e},error:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"PLANS_REQUEST":case"PLANS_REQUEST_SUCCESS":return!1;case"PLANS_REQUEST_FAILURE":return!0}return e}});function To(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;return Object.assign({},e,{[t]:Object.assign({},e[t],n)})}var yo=Object(Fe.b)({items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=t.type,s=t.pluginSlug;switch(n){case"WPORG_PLUGIN_DATA_RECEIVE":return t.data?To(e,s,Object.assign({fetched:!0,wporg:!0},t.data)):To(e,s,Object.assign({fetched:!1,wporg:!1}));default:return e}},fetchingItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_WPORG_PLUGIN_DATA":return Object.assign({},e,{[t.pluginSlug]:!0});case"WPORG_PLUGIN_DATA_RECEIVE":return Object.assign({},e,{[t.pluginSlug]:!1})}return e}});function Io(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_SETUP_INSTRUCTIONS_RECEIVE":return Object.assign({},e,{[t.siteId]:t.data});case"PLUGIN_SETUP_INSTALL":case"PLUGIN_SETUP_ACTIVATE":case"PLUGIN_SETUP_CONFIGURE":case"PLUGIN_SETUP_FINISH":case"PLUGIN_SETUP_ERROR":return void 0!==e[t.siteId]?Object.assign({},e,{[t.siteId]:Ro(e[t.siteId],t)}):e;case"SERIALIZE":return Object(p.mapValues)(e,e=>e.map(e=>null!==e.error?Object.assign({},e,{error:e.error.toString()}):Object(p.omit)(e,"key")));default:return e}}function Ro(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_SETUP_INSTRUCTIONS_RECEIVE":return t.data;case"PLUGIN_SETUP_INSTALL":case"PLUGIN_SETUP_ACTIVATE":case"PLUGIN_SETUP_CONFIGURE":case"PLUGIN_SETUP_FINISH":case"PLUGIN_SETUP_ERROR":return e.map(e=>(function(e,t){switch(t.type){case"PLUGIN_SETUP_INSTALL":case"PLUGIN_SETUP_ACTIVATE":case"PLUGIN_SETUP_CONFIGURE":case"PLUGIN_SETUP_FINISH":return e.slug!==t.slug?e:Object.assign({},e,{status:Co(e.status,t)});case"PLUGIN_SETUP_ERROR":return e.slug!==t.slug?e:Object.assign({},e,{status:Co(e.status,t),error:t.error});default:return e}})(e,t));default:return e}}function Co(e,t){switch(t.type){case"PLUGIN_SETUP_INSTALL":return"install";case"PLUGIN_SETUP_ACTIVATE":return"activate";case"PLUGIN_SETUP_CONFIGURE":return"configure";case"PLUGIN_SETUP_FINISH":return"done";default:return e||"wait"}}Io.schema={type:"object",patternProperties:{"^[0-9]+$":{type:"array",items:{required:["slug"],properties:{name:{type:"string"},slug:{type:"string"},status:{type:"string"},error:{type:["object","string","null"]},key:{type:"null"}}}}},additionalProperties:!1};var Ao=Object(Fe.b)({isRequesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_SETUP_INSTRUCTIONS_FETCH":return Object.assign({},e,{[t.siteId]:!0});case"PLUGIN_SETUP_INSTRUCTIONS_RECEIVE":return Object.assign({},e,{[t.siteId]:!1});default:return e}},hasRequested:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_SETUP_INSTRUCTIONS_RECEIVE":return Object.assign({},e,{[t.siteId]:!0});default:return e}},plugins:Io});function vo(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=t.pluginId;switch(t.type){case"PLUGIN_ACTIVATE_REQUEST":case"PLUGIN_DEACTIVATE_REQUEST":case"PLUGIN_UPDATE_REQUEST":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST":case"PLUGIN_INSTALL_REQUEST":case"PLUGIN_REMOVE_REQUEST":case"PLUGIN_ACTIVATE_REQUEST_SUCCESS":case"PLUGIN_DEACTIVATE_REQUEST_SUCCESS":case"PLUGIN_UPDATE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS":case"PLUGIN_INSTALL_REQUEST_SUCCESS":case"PLUGIN_REMOVE_REQUEST_SUCCESS":case"PLUGIN_ACTIVATE_REQUEST_FAILURE":case"PLUGIN_DEACTIVATE_REQUEST_FAILURE":case"PLUGIN_UPDATE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_FAILURE":case"PLUGIN_INSTALL_REQUEST_FAILURE":case"PLUGIN_REMOVE_REQUEST_FAILURE":return void 0!==e[n]?Object.assign({},e,{[n]:No(e[n],t)}):Object.assign({},e,{[n]:No({},t)});default:return e}}function No(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_ACTIVATE_REQUEST":case"PLUGIN_DEACTIVATE_REQUEST":case"PLUGIN_UPDATE_REQUEST":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST":case"PLUGIN_INSTALL_REQUEST":case"PLUGIN_REMOVE_REQUEST":return Object.assign({},e,{status:"inProgress",action:t.action});case"PLUGIN_ACTIVATE_REQUEST_SUCCESS":case"PLUGIN_DEACTIVATE_REQUEST_SUCCESS":case"PLUGIN_UPDATE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS":case"PLUGIN_INSTALL_REQUEST_SUCCESS":case"PLUGIN_REMOVE_REQUEST_SUCCESS":return Object.assign({},e,{status:"completed",action:t.action});case"PLUGIN_ACTIVATE_REQUEST_FAILURE":case"PLUGIN_DEACTIVATE_REQUEST_FAILURE":case"PLUGIN_UPDATE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_FAILURE":case"PLUGIN_INSTALL_REQUEST_FAILURE":case"PLUGIN_REMOVE_REQUEST_FAILURE":return Object.assign({},e,{status:"error",action:t.action,error:t.error});default:return e}}const Uo=function(e,t){return void 0!==e[t.siteId]?Object.assign({},e,{[t.siteId]:Po(e[t.siteId],t)}):e},wo=Object(Fe.c)({},{PLUGINS_RECEIVE:(e,t)=>Z()({},e,{[t.siteId]:t.data}),PLUGIN_ACTIVATE_REQUEST_SUCCESS:Uo,PLUGIN_DEACTIVATE_REQUEST_SUCCESS:Uo,PLUGIN_UPDATE_REQUEST_SUCCESS:Uo,PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS:Uo,PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS:Uo,PLUGIN_INSTALL_REQUEST_SUCCESS:Uo,PLUGIN_REMOVE_REQUEST_SUCCESS:Uo},{type:"object",patternProperties:{"^[0-9]+$":{type:"array",items:{required:["id","slug","name","active","autoupdate"],properties:{id:{type:"string"},slug:{type:"string"},active:{type:"boolean"},name:{type:"string"},plugin_url:{type:"string"},version:{type:"string"},description:{type:"string"},author:{type:"string"},author_url:{type:"string"},network:{type:"boolean"},autoupdate:{type:"boolean"},update:{type:"object"}}}}},additionalProperties:!1});function Po(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGIN_ACTIVATE_REQUEST_SUCCESS":case"PLUGIN_DEACTIVATE_REQUEST_SUCCESS":case"PLUGIN_UPDATE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS":return e.map(e=>(function(e,t){switch(t.type){case"PLUGIN_ACTIVATE_REQUEST_SUCCESS":case"PLUGIN_DEACTIVATE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS":return e.id!==t.data.id?e:Object.assign({},e,t.data);case"PLUGIN_UPDATE_REQUEST_SUCCESS":return e.id!==t.data.id?e:Object.assign({},Object(p.omit)(e,"update"),t.data);default:return e}})(e,t));case"PLUGIN_INSTALL_REQUEST_SUCCESS":return[...e,t.data];case"PLUGIN_REMOVE_REQUEST_SUCCESS":const n=Object(p.findIndex)(e,{id:t.pluginId});return[...e.slice(0,n),...e.slice(n+1)];default:return e}}var Do=Object(Fe.b)({isRequesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGINS_REQUEST":return Object.assign({},e,{[t.siteId]:!0});case"PLUGINS_REQUEST_FAILURE":case"PLUGINS_REQUEST_SUCCESS":return Object.assign({},e,{[t.siteId]:!1});default:return e}},plugins:wo,status:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=t.siteId;switch(t.type){case"PLUGIN_ACTIVATE_REQUEST":case"PLUGIN_DEACTIVATE_REQUEST":case"PLUGIN_UPDATE_REQUEST":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST":case"PLUGIN_INSTALL_REQUEST":case"PLUGIN_REMOVE_REQUEST":case"PLUGIN_ACTIVATE_REQUEST_SUCCESS":case"PLUGIN_DEACTIVATE_REQUEST_SUCCESS":case"PLUGIN_UPDATE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_SUCCESS":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_SUCCESS":case"PLUGIN_INSTALL_REQUEST_SUCCESS":case"PLUGIN_REMOVE_REQUEST_SUCCESS":case"PLUGIN_ACTIVATE_REQUEST_FAILURE":case"PLUGIN_DEACTIVATE_REQUEST_FAILURE":case"PLUGIN_UPDATE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_ENABLE_REQUEST_FAILURE":case"PLUGIN_AUTOUPDATE_DISABLE_REQUEST_FAILURE":case"PLUGIN_INSTALL_REQUEST_FAILURE":case"PLUGIN_REMOVE_REQUEST_FAILURE":return Object.assign({},e,{[n]:vo(e[n],t)});default:return e}}});const Lo=Object(Fe.e)("siteId",Object(Fe.c)({},{PLUGIN_UPLOAD:()=>null,PLUGIN_UPLOAD_COMPLETE:(e,t)=>{return t.pluginId},PLUGIN_UPLOAD_CLEAR:()=>null,PLUGIN_UPLOAD_ERROR:()=>null,AUTOMATED_TRANSFER_STATUS_SET:(e,t)=>{return t.uploadedPluginId}})),ko=Object(Fe.e)("siteId",Object(Fe.c)({},{PLUGIN_UPLOAD_ERROR:(e,t)=>{return t.error},PLUGIN_UPLOAD:()=>null,PLUGIN_UPLOAD_CLEAR:()=>null,PLUGIN_UPLOAD_COMPLETE:()=>null})),xo=Object(Fe.e)("siteId",Object(Fe.c)({},{PLUGIN_UPLOAD_PROGRESS:(e,t)=>{return t.progress},PLUGIN_UPLOAD:()=>0,PLUGIN_UPLOAD_CLEAR:()=>0,PLUGIN_UPLOAD_ERROR:()=>0})),Mo=Object(Fe.e)("siteId",Object(Fe.c)({},{PLUGIN_UPLOAD:()=>!0,PLUGIN_UPLOAD_COMPLETE:()=>!1,PLUGIN_UPLOAD_ERROR:()=>!1,PLUGIN_UPLOAD_CLEAR:()=>!1,AUTOMATED_TRANSFER_INITIATE_WITH_PLUGIN_ZIP:()=>!0,AUTOMATED_TRANSFER_STATUS_SET:(e,t)=>{return"complete"!==t.status}}));var Fo=Object(Fe.b)({uploadedPluginId:Lo,uploadError:ko,progressPercent:xo,inProgress:Mo});var Go=Object(Fe.e)("siteId",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PLUGINS_RECOMMENDED_RECEIVE":return t.data;case"PLUGINS_RECOMMENDED_REQUEST_FAILURE":return e||[]}return e}),Vo=Object(Fe.b)({wporg:yo,premium:Ao,installed:Do,upload:Fo,recommended:Go});const qo=Object(Fe.c)({},{POST_FORMATS_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},POST_FORMATS_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},POST_FORMATS_REQUEST_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}}),Ho=Object(Fe.c)({},{POST_FORMATS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.formats;return Z()({},e,{[n]:s})}},{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",description:"List of supported post formats.",additionalProperties:!1,patternProperties:{"^[0-9a-z-_]+$":{type:"string",description:"Label of the post format"}}}}});var Qo=Object(Fe.b)({requesting:qo,items:Ho});const Bo=Object(Fe.g)({type:"object",patternProperties:{"^[0-9]+$":{type:"object",patternProperties:{"^.*$":{type:"array",items:{type:"object",required:["name"],properties:{name:{type:"string"},label:{type:"string"},labels:{type:"object"},description:{type:"string"},hierarchical:{type:"boolean"},public:{type:"boolean"},capabilities:{type:"object"}}}}},additionalProperties:!1}},additionalProperties:!1},function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_TYPES_TAXONOMIES_RECEIVE":return Z()({},e,{[t.siteId]:Z()({},e[t.siteId],{[t.postType]:t.taxonomies})});default:return e}});var Yo=Object(Fe.b)({requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_TYPES_TAXONOMIES_REQUEST":case"POST_TYPES_TAXONOMIES_REQUEST_SUCCESS":case"POST_TYPES_TAXONOMIES_REQUEST_FAILURE":return Object(p.merge)({},e,{[t.siteId]:{[t.postType]:"POST_TYPES_TAXONOMIES_REQUEST"===t.type}})}return e},items:Bo});const Wo=Object(Fe.g)({type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",additionalProperties:{type:"object",required:["name"],properties:{name:{type:"string"},label:{type:"string"},labels:{type:"object"},description:{type:"string"},map_meta_cap:{type:"boolean"},capabilities:{type:"object"},api_queryable:{type:"boolean"},hierarchical:{type:"boolean"},supports:{type:"object"}}}}}},Object(Fe.e)("siteId",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_TYPES_RECEIVE":return Object(p.keyBy)(t.types,"name");default:return e}}));var Ko=Object(Fe.b)({items:Wo,taxonomies:Yo}),zo=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),Jo=n.n(zo),Zo=n("./client/lib/query-manager/post/constants.js");function $o(e,t){return null==e||Zo.a[t]===e}class Xo extends br{static matches(e,t){const n=Object.assign({},this.DefaultQuery,e);return Object(p.every)(n,(e,n)=>{switch(n){case"search":if(!e)return!0;const s=e.toLowerCase();return t.title&&Object(p.includes)(t.title.toLowerCase(),s)||t.content&&Object(p.includes)(t.content.toLowerCase(),s);case"after":case"before":case"modified_after":case"modified_before":{const s=ur()(e,ur.a.ISO_8601),i=/after$/.test(n)?"isAfter":"isBefore",r=/^modified_/.test(n)?"modified":"date";return s.isValid()&&ur()(t[r])[i](s)}case"term":return Object(p.every)(e,(e,n)=>(e=e.split(","),Object(p.some)(t.terms[n],t=>{let n=t.slug;return Object(p.includes)(e,n)})));case"tag":case"category":{if(!e)return!0;const s=e.toLowerCase(),i="tag"===n?"tags":"categories";return Object(p.some)(t[i],e=>{let t=e.name,n=e.slug;return t&&t.toLowerCase()===s||n&&n.toLowerCase()===s})}case"type":return"any"===e||e===t.type;case"parent_id":return e===t.parent||t.parent&&e===t.parent.ID;case"exclude":return Array.isArray(e)?!Object(p.includes)(e,t.ID):e!==t.ID;case"sticky":return"require"===e?t.sticky:"exclude"!==e||!t.sticky;case"author":return Object(p.get)(t,"author.ID",t.author)===e;case"status":return"any"===e||String(e).split(",").some(e=>e===t[n])}return!0})}static compare(e,t,n){let s;switch(e.order_by){case"ID":s=t.ID-n.ID;break;case"comment_count":s=Object(p.get)(t.discussion,"comment_count",0)-Object(p.get)(n.discussion,"comment_count",0);break;case"title":s=t.title.localeCompare(n.title);break;case"modified":s=new Date(t.modified)-new Date(n.modified);break;case"date":default:s=new Date(t.date)-new Date(n.date)}return e.order&&!/^desc$/i.test(e.order)||(s*=-1),s||0}}cr()(Xo,"QueryKey",class extends Er{static stringify(e){return super.stringify(Object(p.omitBy)(e,$o))}static parse(e){return Object(p.omitBy)(super.parse(e),$o)}}),cr()(Xo,"DefaultQuery",Zo.a);const ea={type:"object",patternProperties:{"^[0-9]+$":{type:"object",patternProperties:{"^[\\w-]+$":{type:"object",patternProperties:{"^(all|mine)$":{type:"object",patternProperties:{"^\\w+$":{type:"integer"}},additionalProperties:!1}},additionalProperties:!1}},additionalProperties:!1}},additionalProperties:!1};const ta=(()=>{let e,t={};function n(e,t){return[e,t].join()}function s(s,i,r,o){const a=n(i,r),c=t[a];if(!c)return s;const l=["all"];c.authorId===e&&l.push("mine");const u=l.reduce((e,t)=>{const n=Object(p.get)(s,[i,c.type,t],{});return e[t]={},e[t][c.status]=Math.max((n[c.status]||0)-1,0),"deleted"!==o&&(e[t][o]=(n[o]||0)+1),e},{});return"deleted"===o?t=Object(p.omit)(t,a):c.status=o,Object(p.merge)(u,{all:{},mine:{}}),Object(p.merge)({},s,{[i]:{[c.type]:u}})}return Object(Fe.c)({},{POST_COUNTS_RESET_INTERNAL_STATE:n=>(e=void 0,t={},n),CURRENT_USER_RECEIVE:(t,n)=>(e=n.user.ID,t),POSTS_RECEIVE:(e,i)=>(i.posts.forEach(i=>{const r=n(i.site_ID,i.ID),o=t[r];o&&i.status!==o.status&&(e=s(e,i.site_ID,i.ID,i.status)),t[r]=Object(p.pick)(i,"type","status"),t[r].authorId=Object(p.get)(i.author,"ID")}),e),POST_SAVE:(e,t)=>{const n=t.siteId,i=t.postId,r=t.post;return r.status?s(e,n,i,r.status):e},POST_DELETE:(e,t)=>s(e,t.siteId,t.postId,"deleted"),POST_COUNTS_RECEIVE:(e,t)=>Object(p.merge)({},e,{[t.siteId]:{[t.postType]:t.counts}})},ea)})();var na=Object(Fe.b)({requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_COUNTS_REQUEST":case"POST_COUNTS_REQUEST_SUCCESS":case"POST_COUNTS_REQUEST_FAILURE":return Object(p.merge)({},e,{[t.siteId]:{[t.postType]:"POST_COUNTS_REQUEST"===t.type}})}return e},counts:ta});const sa=Object(Fe.c)({likes:void 0,iLike:!1,found:0,lastUpdated:void 0},{POST_LIKES_RECEIVE:(e,t)=>{let n=t.likes,s=t.iLike,i=t.found;return{likes:Array.isArray(n)?n.map(e=>({ID:e.ID,avatar_URL:e.avatar_URL,login:e.login,name:e.name,site_ID:e.site_ID,site_visible:e.site_visible})):e.likes,iLike:s,found:i,lastUpdated:Date.now()}},POST_LIKE:e=>e.iLike?e:{likes:e.likes,iLike:!0,found:e.found+1,lastUpdated:e.lastUpdated},POST_UNLIKE:e=>e.iLike?{likes:e.likes,iLike:!1,found:Math.max(0,e.found-1),lastUpdated:e.lastUpdated}:e,POST_LIKES_ADD_LIKER:(e,t)=>{let n=t.likeCount,s=t.liker;const i=Object(p.some)(e.likes,e=>e.ID===s.ID);if(e.likeCount===n&&i)return e;let r=e.likes;return i||(r=[s,...e.likes||[]]),{likes:r,iLike:e.iLike,found:n,lastUpdated:e.lastUpdated}},POST_LIKES_REMOVE_LIKER:(e,t)=>{let n=t.likeCount,s=t.liker;const i=Object(p.some)(e.likes,e=>e.ID===s.ID);if(e.likeCount===n&&!i)return e;let r=e.likes;return i&&(r=Object(p.dropWhile)(e.likes,e=>s.ID===e.ID)),{likes:r,iLike:e.iLike,found:n,lastUpdated:e.lastUpdated}}},{type:"object",additionalProperties:!1,required:["iLike","found"],properties:{likes:{type:"array",description:"List of post likes"},iLike:{type:"boolean",description:"Whether the current authenticated user likes the post or not"},found:{type:"number",description:"The total of post likes"},lastUpdated:{type:"number",description:"When we last updated the liker info"}}}),ia=Object(Fe.e)("postId",sa);ia.hasCustomPersistence=!0;const ra=Object(Fe.e)("siteId",ia);ra.hasCustomPersistence=!0;var oa=Object(Fe.b)({items:ra});var aa=Object(Fe.b)({items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_REVISION_AUTHORS_RECEIVE":return Object(p.reduce)(t.users,(t,n)=>(t===e&&(t=Z()({},e)),t[n.ID]=n,t),e)}return e}});var ca=Object(Fe.b)({diffs:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.diffs,s=t.postId,i=t.revisions,r=t.siteId;if("POST_REVISIONS_RECEIVE"!==t.type)return e;if(!Object(p.isInteger)(r)||r<=0)return e;const o=Object(p.get)(e,[r,s],{}),a=Z()({},Object(p.get)(o,"revisions",{}),i),c=Object(p.filter)(n,e=>{let t=e.diff,n=e.from,s=e.to;return!(!Object(p.isInteger)(n)||n<0||!Object(p.isInteger)(s)||s<1||0!==n&&Object(p.isEmpty)(a[n])||Object(p.isEmpty)(a[s])||Object(p.isEmpty)(t))});return Object(p.isEmpty)(c)?e:Z()({},e,{[r]:Z()({},e[r],{[s]:Z()({},Z()({},Object(p.omit)(o,"revisions"),Object(p.keyBy)(c,e=>"".concat(e.from,":").concat(e.to))),{revisions:a})})})},selection:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_REVISIONS_SELECT":return Z()({},e,{revisionId:t.revisionId});case"POST_EDIT":case"SELECTED_SITE_SET":return Z()({},e,{revisionId:null});default:return e}},ui:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case"POST_REVISIONS_DIALOG_CLOSE":return Z()({},e,{isDialogVisible:!1});case"POST_REVISIONS_DIALOG_OPEN":return Z()({},e,{isDialogVisible:!0});case"POST_REVISIONS_DIFF_SPLIT_VIEW":return Z()({},e,{diffView:"split"});case"POST_REVISIONS_DIFF_UNIFY_VIEW":return Z()({},e,{diffView:"unified"});default:return e}},authors:aa}),la=n("./client/state/posts/utils.js"),ua=n("./node_modules/deep-freeze/index.js");const da=n.n(ua)()({additionalProperties:!1,required:["data","options"],type:"object",properties:{data:{additionalProperties:!1,type:"object",properties:{items:{type:"object"},queries:{additionalProperties:!1,type:"object",patternProperties:{"^\\[.*\\]$":{required:["itemKeys"],type:"object",properties:{itemKeys:{type:"array",items:{type:["integer","null","string"]}},found:{type:"integer"}}}}}}},options:{additionalProperties:!0,required:["itemKey"],type:"object",properties:{itemKey:{type:"string"}}}}});var pa=da;const ma={type:"object",patternProperties:{"^\\d+$":pa},additionalProperties:!1},_a=Object(Fe.c)({},{POSTS_RECEIVE:(e,t)=>Object(p.reduce)(t.posts,(t,n)=>{const s=n.site_ID,i=n.ID,r=n.global_ID;return t[r]?t:(t===e&&(t=Z()({},t)),t[r]=[s,i],t)},e),POST_DELETE_SUCCESS:(e,t)=>{const n=Object(p.findKey)(e,e=>{let n=Jo()(e,2),s=n[0],i=n[1];return s===t.siteId&&i===t.postId});return n?Object(p.omit)(e,n):e}},{type:"object",patternProperties:{"^\\w+$":{type:"array",items:{type:"number"},minItems:2,maxItems:2}},additionalProperties:!1});const Ea=(()=>{function e(e,t,n,s){if(!t)return e;for(var i=arguments.length,r=new Array(i>4?i-4:0),o=4;o<i;o++)r[o-4]=arguments[o];if(!e[t])return s?Z()({},e,{[t]:(new Xo)[n](...r)}):e;const a=e[t][n](...r);return a===e[t]?e:Z()({},e,{[t]:a})}return Object(Fe.c)({},{POSTS_REQUEST_SUCCESS:(t,n)=>{let s=n.siteId,i=n.query,r=n.posts,o=n.found;if(!s)return t;return e(t,s,"receive",!0,r.map(la.G),{query:i,found:o})},POSTS_RECEIVE:(t,n)=>{let s=n.posts;const i=Object(p.reduce)(s,(e,t)=>Object.assign(e,{[t.site_ID]:[...e[t.site_ID]||[],Object(la.G)(t)]}),{});return Object(p.reduce)(i,(t,n,s)=>e(t,s,"receive",!0,n),t)},POST_RESTORE:(t,n)=>{return e(t,n.siteId,"receive",!1,{ID:n.postId,status:"__RESTORE_PENDING"},{patch:!0})},POST_RESTORE_FAILURE:(t,n)=>{return e(t,n.siteId,"receive",!1,{ID:n.postId,status:"trash"},{patch:!0})},POST_SAVE:(t,n)=>{let s=n.siteId,i=n.postId,r=n.post;return e(t,s,"receive",!1,Z()({ID:i},r),{patch:!0})},POST_DELETE:(t,n)=>{return e(t,n.siteId,"receive",!1,{ID:n.postId,status:"__DELETE_PENDING"},{patch:!0})},POST_DELETE_FAILURE:(t,n)=>{return e(t,n.siteId,"receive",!1,{ID:n.postId,status:"trash"},{patch:!0})},POST_DELETE_SUCCESS:(t,n)=>{return e(t,n.siteId,"removeItem",!1,n.postId)},SERIALIZE:e=>Object(p.mapValues)(e,e=>{return{data:e.data,options:e.options}}),DESERIALIZE:e=>Object(p.mapValues)(e,e=>{let t=e.data,n=e.options;return new Xo(t,n)})},ma)})(),ba=(()=>{function e(e,t,n){return Object(p.findKey)(e.data.items,e=>e.site_ID===t&&e.ID===n)||null}return Object(Fe.c)(new Xo({},{itemKey:"global_ID"}),{POSTS_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId,s=t.query,i=t.posts,r=t.found;return n?e:e.receive(i.map(la.G),{query:s,found:r})},POSTS_RECEIVE:(e,t)=>{let n=t.posts;return e.receive(n)},POST_RESTORE:(t,n)=>{const s=e(t,n.siteId,n.postId);return t.receive({global_ID:s,status:"__RESTORE_PENDING"},{patch:!0})},POST_RESTORE_FAILURE:(t,n)=>{const s=e(t,n.siteId,n.postId);return t.receive({global_ID:s,status:"trash"},{patch:!0})},POST_SAVE:(t,n)=>{let s=n.siteId,i=n.postId,r=n.post;const o=e(t,s,i);return t.receive(Z()({global_ID:o},r),{patch:!0})},POST_DELETE:(t,n)=>{const s=e(t,n.siteId,n.postId);return t.receive({global_ID:s,status:"__DELETE_PENDING"},{patch:!0})},POST_DELETE_FAILURE:(t,n)=>{const s=e(t,n.siteId,n.postId);return t.receive({global_ID:s,status:"trash"},{patch:!0})},POST_DELETE_SUCCESS:(t,n)=>{const s=e(t,n.siteId,n.postId);return t.removeItem(s)},SERIALIZE:e=>({data:e.data,options:e.options}),DESERIALIZE:e=>new Xo(e.data,e.options)},pa)})();var ga=Object(Fe.b)({counts:na,items:_a,siteRequests:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_REQUEST":case"POST_REQUEST_SUCCESS":case"POST_REQUEST_FAILURE":return Object.assign({},e,{[t.siteId]:Object.assign({},e[t.siteId],{[t.postId]:"POST_REQUEST"===t.type})})}return e},queryRequests:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_REQUEST":case"POSTS_REQUEST_SUCCESS":case"POSTS_REQUEST_FAILURE":const n=Object(la.l)(t.query,t.siteId);return Object.assign({},e,{[n]:"POSTS_REQUEST"===t.type})}return e},queries:Ea,allSitesQueries:ba,edits:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POSTS_RECEIVE":return Object(p.reduce)(t.posts,(n,s)=>{let i=Object(p.get)(n,[s.site_ID,s.ID]);if(!i)return n;if(n===e&&(n=Object(p.merge)({},e)),t.saveMarker){const e=i.indexOf(t.saveMarker);-1!==e&&(i=i.slice(e+1))}const r=Object(la.C)(...i);let o=null;if(r){const e=Object(p.omitBy)(r,(e,t)=>{switch(t){case"author":return Object(la.p)(e,s[t]);case"date":return Object(la.s)(e,s[t]);case"discussion":return Object(la.t)(e,s[t]);case"featured_image":return e===Object(la.g)(s);case"metadata":return!0;case"status":return Object(la.A)(e,s[t]);case"terms":return Object(la.B)(e,s[t])}return Object(p.isEqual)(s[t],e)});if(r.metadata){const t=Object(la.n)(r.metadata,s.metadata);t.length>0&&(e.metadata=t)}Object(p.isEmpty)(e)||(o=[e])}return Object(p.set)(n,[s.site_ID,s.ID],o)},e);case"POST_EDIT":{const n=t.siteId,s=t.postId||"",i=Object(p.get)(e,[n,s]),r=Object(la.a)(i,t.post);return Z()({},e,{[n]:Z()({},e[n],{[s]:r})})}case"EDITOR_START":return Object.assign({},e,{[t.siteId]:Z()({},e[t.siteId],{[t.postId||""]:null})});case"EDITOR_STOP":if(!e.hasOwnProperty(t.siteId))break;return Object.assign({},e,{[t.siteId]:Object(p.omit)(e[t.siteId],t.postId||"")});case"EDITOR_SAVE":{if(!t.saveMarker)break;const n=t.siteId,s=t.postId||"",i=Object(p.get)(e,[n,s]);if(Object(p.isEmpty)(i))break;const r=[...i,t.saveMarker];return Z()({},e,{[n]:Z()({},e[n],{[s]:r})})}case"POST_SAVE_SUCCESS":{const n=t.siteId;if(""===(t.postId||"")&&t.savedPost){const s=t.savedPost.ID;e=Z()({},e,{[n]:Object(p.mapKeys)(e[n],(e,t)=>""===t?s:t)})}return e}}return e},likes:oa,revisions:ca});const ha=Object(Fe.c)({},{PREFERENCES_SET:(e,t)=>{let n=t.key,s=t.value;return e[n]===s?e:Z()({},e,{[n]:s})},PREFERENCES_SAVE_SUCCESS:(e,t)=>{let n=t.key;return Object(p.omit)(e,n)}}),fa=Object(Fe.c)(null,{PREFERENCES_RECEIVE:(e,t)=>{return t.values}},{type:["null","object"],patternProperties:{"^dismissible-card-.+$":{type:"boolean"}},properties:{"editor-mode":{type:"string",enum:["html","tinymce"]},mediaModalGalleryInstructionsDismissed:{type:"boolean"},"google-my-business-dismissible-nudge":{type:"object","^[1-9]+$":{type:"array",items:{type:"object",properties:{dismissedAt:{type:"number",minimum:0},type:{type:"string",enum:["dismiss"]}},required:["dismissedAt","type"]}}},"guided-tours-history":{type:"array",items:{type:"object",properties:{tourName:{type:"string"},timestamp:{type:"number",minimum:0},finished:{type:"boolean"}},required:["tourName","timestamp","finished"],additionalProperties:!1}},recentSites:{type:"array",items:{type:"number"}},mediaScale:{type:"number",minimum:0,maximum:1},editorAdvancedVisible:{type:"boolean"},editorConfirmationDisabledSites:{type:"array",items:{type:"number"}},colorScheme:{type:"string",enum:["default","light","dark","classic-blue","classic-bright","laser-black","powder-snow","nightfall","sakura"]},"store-dashboardStatsWidgetUnit":{type:"string",enum:["day","week","month"]},"upwork-dismissible-banner":{type:"object","^[a-z-]+$":{type:"array",items:{type:"object",properties:{dismissedAt:{type:"number",minimum:0},type:{type:"string",enum:["dismiss"]}},required:["dismissedAt","type"]}}}}}),Sa=Object(Fe.c)(!1,{PREFERENCES_FETCH_SUCCESS:()=>!1,PREFERENCES_FETCH_FAILURE:()=>!1,PREFERENCES_FETCH:()=>!0}),Oa=Object(Fe.c)(!1,{PREFERENCES_FETCH_SUCCESS:()=>Date.now()});var ja=Object(Fe.b)({localValues:ha,remoteValues:fa,fetching:Sa,lastFetchedTimestamp:Oa});const Ta=Object(Fe.c)({},{PRODUCTS_LIST_RECEIVE:(e,t)=>t.productsList},{type:"object",additionalProperties:!1,patternProperties:{".+":{type:"object",required:["available","product_id","product_name","product_slug","description","is_domain_registration","cost_display"],properties:{available:{type:"boolean"},product_id:{type:"integer"},product_name:{type:"string"},product_slug:{type:"string"},description:{type:"string"},cost:{type:["number","null"]},prices:{type:"object"},is_domain_registration:{type:"boolean"},cost_display:{type:"string"}}}}}),ya=Object(Fe.c)(!1,{PRODUCTS_LIST_REQUEST:()=>!0,PRODUCTS_LIST_RECEIVE:()=>!1,PRODUCTS_LIST_REQUEST_FAILURE:()=>!1});var Ia=Object(Fe.b)({isFetching:ya,items:Ta});function Ra(e,t){let n,s;return"PURCHASES_SITE_FETCH_COMPLETED"===t.type&&(s={blog_id:String(t.siteId)}),"PURCHASES_USER_FETCH_COMPLETED"!==t.type&&"PURCHASE_REMOVE_COMPLETED"!==t.type||(s={user_id:String(t.userId)}),n=function(e,t){let n=t;return e.forEach(e=>{Object(p.find)(n,{ID:e.ID})||(n=n.concat(e))}),n}(n=function(e,t,n){return e.filter(e=>!(!Object(p.matches)(n)(e)||!Object(p.find)(t,{ID:e.ID}))||!Object(p.matches)(n)(e))}(e,t.purchases,s),t.purchases)}const Ca=(e,t)=>Z()({},e,{error:t.error});var Aa=Object(Fe.c)({data:[],error:null,isFetchingSitePurchases:!1,isFetchingUserPurchases:!1,hasLoadedSitePurchasesFromServer:!1,hasLoadedUserPurchasesFromServer:!1},{PURCHASES_REMOVE:e=>Z()({},e,{data:[],hasLoadedSitePurchasesFromServer:!1,hasLoadedUserPurchasesFromServer:!1}),PURCHASES_SITE_FETCH:e=>Z()({},e,{isFetchingSitePurchases:!0}),PURCHASES_USER_FETCH:e=>Z()({},e,{isFetchingUserPurchases:!0}),PURCHASE_REMOVE_COMPLETED:(e,t)=>Z()({},e,{data:Ra(e.data,t),error:null,isFetchingSitePurchases:!1,isFetchingUserPurchases:!1,hasLoadedSitePurchasesFromServer:!0,hasLoadedUserPurchasesFromServer:!0}),PURCHASES_SITE_FETCH_COMPLETED:(e,t)=>Z()({},e,{data:Ra(e.data,t),error:null,isFetchingSitePurchases:!1,hasLoadedSitePurchasesFromServer:!0}),PURCHASES_USER_FETCH_COMPLETED:(e,t)=>Z()({},e,{data:Ra(e.data,t),error:null,isFetchingUserPurchases:!1,hasLoadedUserPurchasesFromServer:!0}),PURCHASE_REMOVE_FAILED:Ca,PURCHASES_SITE_FETCH_FAILED:Ca,PURCHASES_USER_FETCH_FAILED:Ca});const va={type:"boolean"},Na={type:"object",properties:{enabled:va,dismissedNotice:va,dismissedNoticeAt:{type:"number"},showingUnblockInstructions:va},additionalProperties:!1},Ua={type:"object",properties:{apiReady:va,authorized:va,authorizationLoaded:va,blocked:va,wpcomSubscription:{type:"object",properties:{ID:{type:"string"},settings:{type:"object",additionalProperties:!0}}}},additionalProperties:!1},wa=o()("calypso:push-notifications"),Pa=["apiReady","authorized","authorizationLoaded","blocked"];function Da(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"DESERIALIZE":case"SERIALIZE":return Object(p.omit)(e,Pa);case"PUSH_NOTIFICATIONS_API_READY":return wa("API is ready"),Object.assign({},e,{apiReady:!0});case"PUSH_NOTIFICATIONS_AUTHORIZE":return Object.assign({},e,{authorized:!0,authorizationLoaded:!0,blocked:!1});case"PUSH_NOTIFICATIONS_BLOCK":return Object.assign({},e,{authorized:!1,authorizationLoaded:!0,blocked:!0});case"PUSH_NOTIFICATIONS_MUST_PROMPT":return Object.assign({},e,{authorized:!1,authorizationLoaded:!0,blocked:!1});case"PUSH_NOTIFICATIONS_RECEIVE_UNREGISTER_DEVICE":{const n=t.data;return n.success||wa("Couldn't unregister device",n),wa("Deleted WPCOM subscription",n),Object(p.omit)(e,["wpcomSubscription"])}case"PUSH_NOTIFICATIONS_RECEIVE_REGISTER_DEVICE":{const n=t.data;return wa("Received WPCOM device registration results",n),n&&n.ID?Object.assign({},e,{wpcomSubscription:{ID:n.ID.toString(),settings:n.settings}}):e}}return e}Da.schema=Ua;const La=["showingUnblockInstructions"];function ka(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{enabled:!1};switch((arguments.length>1?arguments[1]:void 0).type){case"DESERIALIZE":case"SERIALIZE":return Object(p.omit)(e,La);case"PUSH_NOTIFICATIONS_TOGGLE_ENABLED":return Object.assign({},e,{enabled:!e.enabled});case"PUSH_NOTIFICATIONS_TOGGLE_UNBLOCK_INSTRUCTIONS":return Object.assign({},e,{showingUnblockInstructions:!e.showingUnblockInstructions});case"PUSH_NOTIFICATIONS_RECEIVE_REGISTER_DEVICE":return Object.assign({},e,{enabled:!0})}return e}ka.schema=Na;var xa=Object(Fe.b)({settings:ka,system:Da}),Ma=n("./client/state/reader/conversations/follow-status.js");const Fa={type:"object",patternProperties:{"^[0-9]+-[0-9]+$":{enum:Object(p.values)(Ma.a)}},additionalProperties:!1};var Ga=n("./client/state/reader/conversations/utils.js");const Va=Object(Fe.c)({},{READER_CONVERSATION_FOLLOW:(e,t)=>{return Object(p.assign)({},e,{[Object(Ga.a)(t.payload.siteId,t.payload.postId)]:Ma.a.following})},READER_CONVERSATION_MUTE:(e,t)=>{return Object(p.assign)({},e,{[Object(Ga.a)(t.payload.siteId,t.payload.postId)]:Ma.a.muting})},READER_CONVERSATION_UPDATE_FOLLOW_STATUS:(e,t)=>{const n=Object(Ga.a)(t.payload.siteId,t.payload.postId);return t.payload.followStatus===Ma.a.not_following?Object(p.omit)(e,n):Object(p.assign)({},e,{[n]:t.payload.followStatus})},READER_POSTS_RECEIVE:(e,t)=>{if(!t.posts)return e;const n={};return Object(p.forEach)(t.posts,e=>{e.is_following_conversation&&(n[Object(Ga.a)(e.site_ID,e.ID)]=Ma.a.following)}),0===Object(p.size)(n)?e:Z()({},e,n)}},Fa);var qa=Object(Fe.b)({items:Va}),Ha=n("./client/lib/formatting/index.js");var Qa=n("./client/lib/post-normalizer/utils.js");function Ba(e){return{feed_ID:+e.feed_ID,blog_ID:+e.blog_ID,name:e.name&&Object(Ha.b)(e.name),URL:Object(Qa.i)(e.URL),feed_URL:Object(Qa.i)(e.feed_URL),is_following:e.is_following,subscribers_count:e.subscribers_count,description:e.description&&Object(Ha.b)(Object(Ha.f)(e.description)),last_update:e.last_update,image:e.image}}const Ya=Object(Fe.c)({},{SERIALIZE:function(e){return Object(p.omitBy)(e,"is_error")},READER_FEED_REQUEST_SUCCESS:function(e,t){const n=Ba(t.payload);return Object(p.assign)({},e,{[n.feed_ID]:n})},READER_FEED_REQUEST_FAILURE:function(e,t){return Object(p.assign)({[t.payload.feed_ID]:{feed_ID:t.payload.feed_ID,is_error:!0}},e)},READER_FEED_UPDATE:function(e,t){const n=Object(p.map)(t.payload,Ba);return Object(p.assign)({},e,Object(p.keyBy)(n,"feed_ID"))}},{type:"object",patternProperties:{"^[0-9a-z]+$":{type:"object",required:["feed_ID","blog_ID"],properties:{feed_ID:{type:"integer"},blog_ID:{type:"integer"},name:{type:["string","null"]},URL:{type:["string","null"]},feed_URL:{type:["string","null"]},is_following:{type:["boolean","null"]},subscribers_count:{type:["integer","null"]},description:{type:["string","null"]},last_update:{type:["string","null"]},image:{type:["string","null"]}}}},additionalProperties:!1});const Wa=Object(Fe.c)({},{READER_FEED_REQUEST_SUCCESS:(e,t)=>Z()({},e,{[t.payload.feed_ID]:Date.now()}),READER_FEED_UPDATE:(e,t)=>{const n=Object(p.reduce)(t.payload,(e,t)=>(e[t.feed_ID]=Date.now(),e),{});return Object(p.assign)({},e,n)}});var Ka=Object(Fe.b)({items:Ya,lastFetched:Wa,queuedRequests:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_FEED_REQUEST":return Object(p.assign)({},e,{[t.payload.feed_ID]:!0});case"READER_FEED_REQUEST_SUCCESS":case"READER_FEED_REQUEST_FAILURE":return Object(p.omit)(e,t.payload.feed_ID)}return e}});const za=Object(Fe.e)("queryKey",Object(Fe.c)(null,{READER_FEED_SEARCH_RECEIVE:(e,t)=>Object(p.uniqBy)((e||[]).concat(t.payload.feeds),"feed_URL")})),Ja=Object(Fe.e)("queryKey",Object(Fe.c)(null,{READER_FEED_SEARCH_RECEIVE:(e,t)=>t.payload.total}));var Za=Object(Fe.b)({items:za,total:Ja}),$a=n("./client/state/reader/follows/utils.js");function Xa(e,t){let n=t.payload,s=t.type;const i=Object(p.find)(e,{blog_ID:+n.blogId});if(!i)return e;const r=Object(p.get)(i,["delivery_methods","email"],{}),o={};switch(s){case"READER_SUBSCRIBE_TO_NEW_POST_EMAIL":case"READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL":o.send_posts=!("READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL"===s);break;case"READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL":case"READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL":o.send_comments=!("READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL"===s)}n.deliveryFrequency&&(o.post_delivery_frequency=n.deliveryFrequency);const a=Z()({},r,o);return Object(p.isEqual)(r,a)?e:Z()({},e,{[Object($a.a)(i.URL)]:Z()({},i,{delivery_methods:{email:a,notification:Object(p.get)(i,["delivery_methods","notification"],{})}})})}function ec(e,t){let n=t.payload,s=t.type;const i=Object(p.find)(e,{blog_ID:+n.blogId});if(!i)return e;const r=!("READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS"===s);return Object(p.get)(i,["delivery_methods","notification","send_posts"],!1)===r?e:Z()({},e,{[Object($a.a)(i.URL)]:Z()({},i,{delivery_methods:{email:Object(p.get)(i,["delivery_methods","email"],{}),notification:{send_posts:r}}})})}const tc=Object(Fe.c)({},{READER_RECORD_FOLLOW:(e,t)=>{const n=Object($a.a)(t.payload.url);return Z()({},e,{[n]:Object(p.merge)({},e[n],{is_following:!0})})},READER_RECORD_UNFOLLOW:(e,t)=>{const n=Object($a.a)(t.payload.url);return Z()({},e,{[n]:Object(p.merge)({},e[n],{is_following:!1})})},READER_FOLLOW_ERROR:(e,t)=>{const n=Object($a.a)(t.payload.feedUrl);return Z()({},e,{[n]:Object(p.merge)({},e[n],{error:t.payload.error})})},READER_FOLLOW:(e,t)=>{let n=Object($a.a)(t.payload.feedUrl);const s={is_following:!0},i=Object(p.get)(t.payload,["follow","feed_URL"],t.payload.feedUrl),r=Z()({},e);i!==t.payload.feedUrl?(s.alias_feed_URLs=[...e[n].alias_feed_URLs||[],Object($a.a)(t.payload.feedUrl)],delete r[n],n=Object($a.a)(i)):e[n]&&e[n].error&&(s.error=null);const o=Object(p.get)(e[n],["delivery_methods","notification"]);return o&&(s.delivery_methods={notification:o}),Object.assign(r,{[n]:Object(p.merge)({feed_URL:i},e[n],t.payload.follow,s)})},READER_UNFOLLOW:(e,t)=>{const n=Object($a.a)(t.payload.feedUrl),s=e[n];return s&&s.is_following?Z()({},e,{[n]:Object(p.merge)({},s,{is_following:!1,delivery_methods:{notification:{send_posts:!1}}})}):e},READER_FOLLOWS_RECEIVE:(e,t)=>{const n=t.payload.follows,s=Object(p.reduce)(n,(e,t)=>{const n=Object($a.a)(t.URL),s=Z()({},t,{is_following:!0});return e[n]=s,e},{});return Object(p.merge)({},e,s)},READER_SITE_REQUEST_SUCCESS:(e,t)=>{const n=t.payload;if(!n||!n.feed_URL||!n.is_following)return e;const s=Object($a.a)(n.feed_URL),i=e[s],r={delivery_methods:Object(p.get)(n,"subscription.delivery_methods"),is_following:!0,URL:n.URL,feed_URL:n.feed_URL,blog_ID:n.ID};return Z()({},e,{[s]:Object(p.merge)({},i,r)})},READER_SUBSCRIBE_TO_NEW_POST_EMAIL:Xa,READER_UPDATE_NEW_POST_EMAIL_SUBSCRIPTION:Xa,READER_UNSUBSCRIBE_TO_NEW_POST_EMAIL:Xa,READER_SUBSCRIBE_TO_NEW_COMMENT_EMAIL:Xa,READER_UNSUBSCRIBE_TO_NEW_COMMENT_EMAIL:Xa,READER_SUBSCRIBE_TO_NEW_POST_NOTIFICATIONS:ec,READER_UNSUBSCRIBE_TO_NEW_POST_NOTIFICATIONS:ec,READER_FOLLOWS_SYNC_COMPLETE:(e,t)=>{const n=new Set(t.payload);return Object(p.omitBy)(e,e=>e.ID&&!n.has(e.feed_URL))},SERIALIZE:e=>Object(p.pickBy)(e,e=>e.ID&&e.is_following)},{type:"object",patternProperties:{".+":{type:"object",required:["feed_URL","URL","is_following"],properties:{URL:{type:"string"},feed_URL:{type:"string"},is_following:{type:"boolean"},ID:{type:["integer","null"]},blog_ID:{type:["integer","null"]},feed_ID:{type:["integer","null"]},date_subscribed:{type:["integer","null"]},delivery_methods:{type:["object","null"]},is_owner:{type:["boolean","null"]}}}},additionalProperties:!1}),nc=Object(Fe.c)(0,{READER_FOLLOWS_RECEIVE:(e,t)=>t.payload.totalCount?t.payload.totalCount:e}),sc=Object(Fe.c)(null,{READER_FOLLOWS_SYNC_START:()=>Date.now()});var ic=Object(Fe.b)({items:tc,itemsCount:nc,lastSyncTime:sc});function rc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LISTS_RECEIVE":return Object.assign({},e,Object(p.keyBy)(t.lists,"ID"));case"READER_LIST_REQUEST_SUCCESS":case"READER_LIST_UPDATE_SUCCESS":return Object.assign({},e,Object(p.keyBy)([t.data.list],"ID"));case"READER_LIST_UPDATE_TITLE":const n=Object.assign({},e[t.listId]);return n?(n.title=t.title,Object.assign({},e,Object(p.keyBy)([n],"ID"))):e;case"READER_LIST_UPDATE_DESCRIPTION":const s=Object.assign({},e[t.listId]);return s?(s.description=t.description,Object.assign({},e,Object(p.keyBy)([s],"ID"))):e}return e}function oc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LISTS_RECEIVE":return Object(p.map)(t.lists,"ID");case"READER_LISTS_FOLLOW_SUCCESS":const n=Object(p.get)(t,["data","list","ID"]);return!n||Object(p.includes)(e,n)?e:[...e,n];case"READER_LISTS_UNFOLLOW_SUCCESS":return Object(p.filter)(e,e=>e!==t.data.list.ID)}return e}function ac(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LIST_UPDATE_SUCCESS":const n=Object(p.get)(t,"data.list.ID");return n?Object(p.union)(e,[n]):e;case"READER_LIST_DISMISS_NOTICE":return Object(p.filter)(e,e=>e!==t.listId)}return e}function cc(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LIST_UPDATE_FAILURE":const n={};return n[t.list.ID]=t.error.statusCode,Object.assign({},e,n);case"READER_LIST_DISMISS_NOTICE":return Object(p.omit)(e,t.listId)}return e}rc.schema={type:"object",patternProperties:{"^[0-9]+$":{type:"object",required:["ID"],properties:{ID:{type:"integer"},title:{type:"string"},slug:{type:"string"},description:{type:"string"},owner:{type:"string"},is_owner:{type:"boolean"},is_public:{type:"boolean"}}}},additionalProperties:!1},oc.schema={type:"array"},ac.schema={type:"array"},cc.schema={type:"object"};var lc=Object(Fe.b)({items:rc,subscribedLists:oc,updatedLists:ac,isRequestingList:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LIST_REQUEST":case"READER_LIST_REQUEST_SUCCESS":case"READER_LIST_REQUEST_FAILURE":return"READER_LIST_REQUEST"===t.type}return e},isRequestingLists:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LISTS_REQUEST":case"READER_LISTS_REQUEST_SUCCESS":case"READER_LISTS_REQUEST_FAILURE":return"READER_LISTS_REQUEST"===t.type}return e},errors:cc,missingLists:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_LISTS_RECEIVE":return Object(p.filter)(e,e=>!Object(p.find)(t.lists,{owner:e.owner,slug:e.slug}));case"READER_LIST_REQUEST_SUCCESS":return Object(p.filter)(e,e=>t.data.list.owner!==e.owner&&t.data.list.slug!==e.slug);case"READER_LIST_REQUEST_FAILURE":return t.error&&Object(p.includes)([403,404],t.error.statusCode)?Object(p.union)(e,[{owner:t.owner,slug:t.slug}]):e}return e}});var uc=Object(Fe.b)({items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_POSTS_RECEIVE":const n=t.posts||t.payload.posts;return Z()({},e,Object(p.keyBy)(n,"global_ID"))}return e},seen:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=Object(p.get)(t,"payload.post.global_ID");return"READER_POST_SEEN"===t.type&&n?Z()({},e,{[n]:!0}):e}});const dc=Object(Fe.e)("seed",Object(Fe.c)([],{READER_RECOMMENDED_SITES_RECEIVE:(e,t)=>Object(p.uniqBy)(e.concat(t.payload.sites),"feedId")})),pc=Object(Fe.e)("seed",Object(Fe.c)(null,{READER_RECOMMENDED_SITES_RECEIVE:(e,t)=>Math.max(t.payload.offset,e)}));var mc=Object(Fe.b)({items:dc,pagingOffset:pc}),_c=n("./client/state/reader/related-posts/utils.js");const Ec=Object(Fe.c)({},{READER_RELATED_POSTS_RECEIVE:(e,t)=>e=Object(p.assign)({},e,{[Object(_c.d)(t.payload.siteId,t.payload.postId,t.payload.scope)]:Object(p.map)(t.payload.posts,"global_ID")})});function bc(e,t,n){const s=n.payload,i=s.siteId,r=s.postId,o=s.scope;return Object(p.assign)({},t,{[Object(_c.d)(i,r,o)]:e})}const gc=Object(Fe.c)({},{READER_RELATED_POSTS_REQUEST:Object(p.partial)(bc,!0),READER_RELATED_POSTS_REQUEST_SUCCESS:Object(p.partial)(bc,!1),READER_RELATED_POSTS_REQUEST_FAILURE:Object(p.partial)(bc,!1)});var hc=Object(Fe.b)({items:Ec,queuedRequests:gc});const fc=Object(Fe.c)({},{READER_SITE_BLOCK:(e,t)=>Z()({},e,{[t.payload.siteId]:!0}),READER_SITE_UNBLOCK:(e,t)=>Object(p.omit)(e,t.payload.siteId),READER_SITE_REQUEST_SUCCESS:(e,t)=>t.payload.is_blocked?Z()({},e,{[t.payload.ID]:!0}):e[t.payload.ID]?Object(p.omit)(e,t.payload.ID):e,READER_SITE_BLOCKS_RECEIVE:(e,t)=>{if(!t.payload||!t.payload.sites)return e;const n=Object(p.reduce)(t.payload.sites,(e,t)=>(e[t.ID]=!0,e),{});return Z()({},e,n)}}),Sc=Object(Fe.c)(1,{READER_SITE_BLOCKS_RECEIVE:(e,t)=>t.payload&&t.payload.page?t.payload.page:e}),Oc=Object(Fe.c)(null,{READER_SITE_BLOCKS_RECEIVE:(e,t)=>!t.payload||!t.payload.page||t.payload.count>0?e:t.payload.page}),jc=Object(Fe.c)({},{READER_SITE_BLOCKS_REQUEST:(e,t)=>t.payload&&t.payload.page?Z()({},e,{[t.payload.page]:!0}):e,READER_SITE_BLOCKS_RECEIVE:(e,t)=>t.payload&&t.payload.page?Object(p.omit)(e,t.payload.page):e});var Tc=Object(Fe.b)({items:fc,currentPage:Sc,lastPage:Oc,inflightPages:jc});const yc=Object(Fe.c)({},{READER_DISMISS_SITE:(e,t)=>Z()({},e,{[t.payload.siteId]:!0}),READER_DISMISS_POST:(e,t)=>Z()({},e,{[t.payload.siteId]:!0})});var Ic=Object(Fe.b)({items:yc});const Rc={type:"object",patternProperties:{"^\\d+$":{type:"object",required:["ID","name"],properties:{ID:{type:"number"},name:{type:"string"},URL:{type:"string"},jetpack:{type:"boolean"},icon:{type:"object",properties:{img:{type:"string"},ico:{type:"string"},media_id:{type:"number"}}},visible:{type:"boolean"},is_private:{type:"boolean"},is_vip:{type:"boolean"},options:{type:"object"},meta:{type:"object"},is_multisite:{type:"boolean"},capabilities:{type:"object",patternProperties:{"^[a-z_]+$":{type:"boolean"}}},plan:{type:"object",required:["product_id","product_slug"],properties:{product_id:{type:["number","string"]},product_slug:{type:"string"},product_name_short:{type:["string","null"]},expired:{type:"boolean"},user_is_owner:{type:"boolean"},is_free:{type:"boolean"}}},single_user_site:{type:"boolean"},updates:{type:"object",properties:{jp_version:{type:"string"},plugins:{type:"number"},themes:{type:"number"},total:{type:"number"},translations:{type:"number"},wordpress:{type:"number"},wp_version:{type:"string"}}},lang:{type:"string"}}}},additionalProperties:!1},Cc=Z()({},Rc,{patternProperties:Z()({},Rc.patternProperties,{"^\\d+$":Z()({},Rc.patternProperties["^\\d+$"],{properties:Z()({},Rc.patternProperties["^\\d+$"].properties,{feed_ID:{type:"number"},subscription:{type:"object"},is_blocked:{type:"boolean"}})})})});var Ac=n("./client/lib/url/index.js");function vc(e){return(e=Object(p.omit)(e,["meta","subscription"])).URL&&(e.domain=Object(Ac.m)(e.URL),e.slug=e.domain.replace(/\//g,"::")),e.title=Object(p.trim)(e.name)||e.domain,e.description&&(e.description=Object(Ha.b)(e.description)),e.options&&e.options.is_mapped_domain&&!e.is_jetpack&&(e.wpcom_url=Object(Ac.m)(e.options.unmapped_url)),e.options&&e.options.is_redirect&&(e.slug=Object(Ac.m)(e.options.unmapped_url),e.domain=e.slug),e}const Nc=Object(Fe.c)({},{SERIALIZE:function(e){return Object(p.omitBy)(e,"is_error")},READER_SITE_BLOCKS_RECEIVE:(e,t)=>{if(!t.payload||!t.payload.sites)return e;const n=Object(p.keyBy)(t.payload.sites,"ID");return Z()({},n,e)},READER_SITE_REQUEST_SUCCESS:function(e,t){const n=vc(t.payload);return Object(p.assign)({},e,{[t.payload.ID]:n})},READER_SITE_REQUEST_FAILURE:function(e,t){return t.error&&!Object(p.includes)([403,404,410],t.error.statusCode)?e:Object(p.assign)({},e,{[t.payload.ID]:{ID:t.payload.ID,is_error:!0,error:t.error}})},READER_SITE_UPDATE:function(e,t){const n=Object(p.map)(t.payload,vc);return Object(p.assign)({},e,Object(p.keyBy)(n,"ID"))}},Cc);const Uc=Object(Fe.c)({},{READER_SITE_REQUEST_SUCCESS:(e,t)=>Z()({},e,{[t.payload.ID]:Date.now()}),READER_SITE_UPDATE:(e,t)=>{const n=Object(p.reduce)(t.payload,(e,t)=>(e[t.ID]=Date.now(),e),{});return Object(p.assign)({},e,n)}});var wc=Object(Fe.b)({items:Nc,queuedRequests:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_SITE_REQUEST":return Object(p.assign)({},e,{[t.payload.ID]:!0});case"READER_SITE_REQUEST_SUCCESS":case"READER_SITE_REQUEST_FAILURE":return Object(p.omit)(e,t.payload.ID)}return e},lastFetched:Uc}),Pc=n("./client/reader/post-key.js"),Dc=n("./client/reader/stream/utils.js");const Lc=e=>e.reduce((e,t)=>{const n=Object(p.last)(e);return Object(Dc.e)(n,t)?e[e.length-1]=((e,t)=>Z()({},e,{xPostUrls:Array.isArray(e.xPostUrls)?[...e.xPostUrls,t.url]:[t.url]}))(n,t):e.push(t),e},[]),kc={lastUpdated:null,items:[]},xc=Object(Fe.b)({items:function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"READER_STREAMS_PAGE_RECEIVE":const s=n.payload.gap;if(e=n.payload.streamItems,s){const n=Object(p.takeWhile)(t,e=>!Object(Pc.d)(e,s)),i=Object(p.takeRightWhile)(t,e=>!Object(Pc.d)(e,s));if(Object(Pc.d)(Object(p.last)(e),i[0])&&e.pop(),0===e.length)return[...n,...i];let r=[];const o=s.from,a=ur()(Object(p.last)(e).date);return o.isSame(a)||(r=[{isGap:!0,from:o,to:a}]),Lc([...n,...e,...r,...i])}const i=[...t,...e];return Object(p.filter)(e,e=>e.xPostMetadata)?Lc(i):i;case"READER_STREAMS_SHOW_UPDATES":return Lc([...n.payload.items,...t]);case"READER_DISMISS_POST":{const e=n.payload.postKey,s=Object(p.findIndex)(t,t=>Object(Pc.d)(t,e));if(-1===s)return t;const i=[...t];return i[s]=i.pop(),i}}return t},pendingItems:function(){let e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:kc,s=arguments.length>1?arguments[1]:void 0;switch(s.type){case"READER_STREAMS_PAGE_RECEIVE":return 0===(e=s.payload.streamItems).length?n:(t=ur()(e[0].date),n.lastUpdated&&t.isSameOrBefore(n.lastUpdated)?n:Z()({},n,{lastUpdated:t}));case"READER_STREAMS_UPDATES_RECEIVE":if(0===(e=s.payload.streamItems).length)return n;t=ur()(e[0].date);const i=ur()(Object(p.last)(e).date);if(n.lastUpdated&&(e=e.filter(e=>ur()(e.date).isAfter(n.lastUpdated))),0===e.length)return n;let r=[...e];return Object(p.filter)(r,e=>e.xPostMetadata)&&(r=Lc(r)),n.lastUpdated&&i.isAfter(n.lastUpdated)&&r.push({isGap:!0,from:n.lastUpdated,to:i}),{lastUpdated:t,items:r};case"READER_STREAMS_SHOW_UPDATES":return Z()({},n,{items:[]})}return n},selected:function(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1?arguments[1]:void 0;switch(n.type){case"READER_STREAMS_SELECT_ITEM":return n.payload.postKey;case"READER_STREAMS_SELECT_NEXT_ITEM":return(e=Object(p.findIndex)(n.payload.items,e=>Object(Pc.d)(e,t)))===n.payload.items.length-1?t:n.payload.items[e+1];case"READER_STREAMS_SELECT_PREV_ITEM":return 0===(e=Object(p.findIndex)(n.payload.items,e=>Object(Pc.d)(e,t)))?t:n.payload.items[e-1]}return t},lastPage:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"READER_STREAMS_PAGE_RECEIVE"===t.type?0===t.payload.streamItems.length:e},isRequesting:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_STREAMS_PAGE_REQUEST":return e||!t.payload.isPoll&&!t.payload.isGap;case"READER_STREAMS_PAGE_RECEIVE":return!1}return e},pageHandle:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"READER_STREAMS_PAGE_RECEIVE"!==t.type||!t.payload.pageHandle||t.payload.isPoll||t.payload.gap?e:t.payload.pageHandle}});var Mc=Object(Fe.e)("payload.streamKey",xc);var Fc=Object(Fe.b)({items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_TAG_IMAGES_RECEIVE":let n=t.images;return e[t.tag]&&(n=e[t.tag].concat(t.images)),Z()({},e,{[t.tag]:n})}return e},requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_TAG_IMAGES_REQUEST":case"READER_TAG_IMAGES_REQUEST_SUCCESS":case"READER_TAG_IMAGES_REQUEST_FAILURE":return Z()({},e,{[t.tag]:"READER_TAG_IMAGES_REQUEST"===t.type})}return e}});var Gc=Object(Fe.c)(null,{READER_TAGS_RECEIVE:(e,t)=>{const n=t.payload;if(!t.meta.resetFollowingData)return Object(p.merge)({},e,Object(p.keyBy)(n,"id"));const s=Object(p.mapValues)(e,e=>Z()({},e,{isFollowing:!1}));return Object(p.merge)({},s,Object(p.keyBy)(n,"id"))},READER_UNFOLLOW_TAG_RECEIVE:(e,t)=>{const n=t.payload;return Object(p.merge)({},e,{[n]:{isFollowing:!1}})}}),Vc=Object(Fe.b)({images:Fc,items:Gc});const qc=Object(Fe.c)([],{READER_TEAMS_RECEIVE:(e,t)=>t.error?e:Object(p.get)(t,["payload","teams"],e)},{type:"array",items:{type:"object",properties:{title:{type:"string"},slug:{type:"string"}}}}),Hc=Object(Fe.c)(!1,{READER_TEAMS_REQUEST:()=>!0,READER_TEAMS_RECEIVE:()=>!1});var Qc=Object(Fe.b)({items:qc,isRequesting:Hc});var Bc=Object(Fe.b)({items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_THUMBNAIL_RECEIVE":return Z()({},e,{[t.embedUrl]:t.thumbnailUrl})}return e},requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"READER_THUMBNAIL_REQUEST":case"READER_THUMBNAIL_REQUEST_SUCCESS":case"READER_THUMBNAIL_REQUEST_FAILURE":return Z()({},e,{[t.embedUrl]:"READER_THUMBNAIL_REQUEST"===t.type})}return e}}),Yc=Object(Fe.b)({conversations:qa,feeds:Ka,feedSearches:Za,follows:ic,lists:lc,posts:uc,recommendedSites:mc,relatedPosts:hc,siteBlocks:Tc,siteDismissals:Ic,sites:wc,streams:Mc,tags:Vc,teams:Qc,thumbnails:Bc}),Wc=n("./client/state/receipts/reducer.js");const Kc=Object(Fe.e)("siteId",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.data;return"REWIND_STATE_UPDATE"===n?s:e});var zc=Object(Fe.e)("siteId",(e,t)=>{let n=t.type,s=t.editor;return"EDITOR_TYPE_SET"===n?s:e});const Jc=Object(Fe.c)(!1,{KEYRING_CONNECTIONS_REQUEST:()=>!0,KEYRING_CONNECTIONS_REQUEST_SUCCESS:()=>!1,KEYRING_CONNECTIONS_REQUEST_FAILURE:()=>!1}),Zc=Object(Fe.c)({},{KEYRING_CONNECTIONS_RECEIVE:(e,t)=>{let n=t.connections;return Z()({},Object(p.keyBy)(n,"ID"))},KEYRING_CONNECTION_DELETE:(e,t)=>{let n=t.connection;return Object(p.omit)(e,n.ID)},PUBLICIZE_CONNECTION_CREATE:(e,t)=>{let n=t.connection;const s=n.keyring_connection_ID,i=n.site_ID,r=e[s],o=[...r.sites,i.toString()];return Z()({},e,{[s]:Z()({},r,{sites:o})})},PUBLICIZE_CONNECTION_DELETE:(e,t)=>{let n=t.connection;const s=n.keyring_connection_ID,i=n.site_ID,r=e[s],o=Object(p.without)(r.sites,i.toString());return Z()({},e,{[s]:Z()({},r,{sites:o})})}},{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",required:["ID"],properties:{ID:{type:"integer"},additional_external_users:{type:"array"},expires:{type:"string"},external_ID:{type:["string","null"]},external_display:{type:["string","null"]},external_name:{type:["string","null"]},external_profile_picture:{type:["string","null"]},issued:{type:"string"},label:{type:"string"},meta:{type:"object"},refresh_URL:{type:"string"},service:{type:"string"},sites:{type:"array"},status:{type:"string"},type:{type:"string"},user_ID:{type:"integer"}}}}});var $c=Object(Fe.b)({isFetching:Jc,items:Zc});const Xc={type:"object",patternProperties:{"^\\d+$":{type:"object",required:["ID","connection_id","status"],properties:{ID:{type:"string"},connection_id:{type:"integer"},message:{type:"string"},share_date:{type:"integer"},result:{type:"object"},url:{type:"string"},status:{type:"string"}}}}};function el(e,t,n,s,i){return void 0!==i&&(e=Z()({},Object(p.get)(t,[n,s],{}),{[i]:e})),Z()({},t,{[n]:Z()({},Object(p.get)(t,[n],{}),{[s]:e})})}const tl=Object(Fe.c)({},{PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId,s=t.postId;return el(t.actions,e,n,s)},PUBLICIZE_SHARE_ACTION_DELETE_SUCCESS:(e,t)=>{let n=t.siteId,s=t.postId,i=t.actionId;return el(Object(p.omit)(Object(p.get)(e,[n,s],{}),[i]),e,n,s)},PUBLICIZE_SHARE_ACTION_EDIT_SUCCESS:(e,t)=>{let n=t.siteId,s=t.postId,i=t.item;return el(i,e,n,s,i.ID)},PUBLICIZE_SHARE_ACTION_SCHEDULE_SUCCESS:(e,t)=>{let n=t.siteId,s=t.postId;return t.items.forEach(t=>e=el(t,e,n,s,t.ID)),e}},Xc),nl=Object(Fe.c)({},{PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId,s=t.postId;return el(t.actions,e,n,s)}},Xc),sl=Object(Fe.c)({},{PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_SUCCESS:(e,t)=>{return el(!1,e,t.siteId,t.postId)},PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST_FAILURE:(e,t)=>{return el(!1,e,t.siteId,t.postId)},PUBLICIZE_SHARE_ACTIONS_SCHEDULED_REQUEST:(e,t)=>{return el(!0,e,t.siteId,t.postId)}}),il=Object(Fe.c)({},{PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_SUCCESS:(e,t)=>{return el(!1,e,t.siteId,t.postId)},PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST_FAILURE:(e,t)=>{return el(!1,e,t.siteId,t.postId)},PUBLICIZE_SHARE_ACTIONS_PUBLISHED_REQUEST:(e,t)=>{return el(!0,e,t.siteId,t.postId)}}),rl=Object(Fe.c)({},{PUBLICIZE_SHARE_ACTION_DELETE_SUCCESS:(e,t)=>{return el(!1,e,t.siteId,t.postId,t.actionId)},PUBLICIZE_SHARE_ACTION_DELETE_FAILURE:(e,t)=>{return el(!1,e,t.siteId,t.postId,t.actionId)},PUBLICIZE_SHARE_ACTION_DELETE:(e,t)=>{return el(!0,e,t.siteId,t.postId,t.actionId)}}),ol=Object(Fe.c)({},{PUBLICIZE_SHARE_ACTION_EDIT_SUCCESS:(e,t)=>{return el(!1,e,t.siteId,t.postId,t.item.ID)},PUBLICIZE_SHARE_ACTION_EDIT_FAILURE:(e,t)=>{return el(!1,e,t.siteId,t.postId,t.actionId)},PUBLICIZE_SHARE_ACTION_EDIT:(e,t)=>{return el(!0,e,t.siteId,t.postId,t.actionId)}}),al=Object(Fe.c)({},{PUBLICIZE_SHARE_ACTION_SCHEDULE_SUCCESS:(e,t)=>{let n=t.siteId,s=t.postId;return el({status:"success",shareDate:t.share_date},e,n,s)},PUBLICIZE_SHARE_ACTION_SCHEDULE_FAILURE:(e,t)=>{return el({status:"failure"},e,t.siteId,t.postId)},PUBLICIZE_SHARE_ACTION_SCHEDULE:(e,t)=>{return el({status:"requesting"},e,t.siteId,t.postId)},PUBLICIZE_SHARE_DISMISS:(e,t)=>{return el(void 0,e,t.siteId,t.postId)}});var cl=Object(Fe.b)({scheduled:tl,published:nl,fetchingSharePostActionsScheduled:sl,fetchingSharePostActionsPublished:il,deletingSharePostAction:rl,editingSharePostAction:ol,schedulingSharePostActionStatus:al});const ll=Object(Fe.c)({},{PUBLICIZE_SHARE:(e,t)=>{let n=t.siteId,s=t.postId;return Z()({},e,{[n]:Z()({},e[n],{[s]:{requesting:!0}})})},PUBLICIZE_SHARE_SUCCESS:(e,t)=>{let n=t.siteId,s=t.postId;return Z()({},e,{[n]:Z()({},e[n],{[s]:{requesting:!1,success:!0}})})},PUBLICIZE_SHARE_FAILURE:(e,t)=>{let n=t.siteId,s=t.postId,i=t.error;return Z()({},e,{[n]:Z()({},e[n],{[s]:{requesting:!1,success:!1,error:i}})})},PUBLICIZE_SHARE_DISMISS:(e,t)=>{let n=t.siteId,s=t.postId;return Z()({},e,{[n]:Z()({},e[n],{[s]:void 0})})}}),ul=Object(Fe.c)({},{PUBLICIZE_CONNECTION_REQUEST:(e,t)=>{let n=t.connectionId;return Z()({},e,{[n]:!0})},PUBLICIZE_CONNECTION_REQUEST_SUCCESS:(e,t)=>{let n=t.connectionId;return Z()({},e,{[n]:!1})},PUBLICIZE_CONNECTION_REQUEST_FAILURE:(e,t)=>{let n=t.connectionId;return Z()({},e,{[n]:!1})}}),dl=Object(Fe.c)({},{PUBLICIZE_CONNECTIONS_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},PUBLICIZE_CONNECTIONS_RECEIVE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},PUBLICIZE_CONNECTIONS_REQUEST_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}}),pl=Object(Fe.c)({},{PUBLICIZE_CONNECTIONS_RECEIVE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})}}),ml=Object(Fe.c)({},{PUBLICIZE_CONNECTIONS_RECEIVE:(e,t)=>Z()({},Object(p.omitBy)(e,{site_ID:t.siteId}),Object(p.keyBy)(t.data.connections,"ID")),PUBLICIZE_CONNECTION_CREATE:(e,t)=>{let n=t.connection;return Z()({},e,{[n.ID]:n})},PUBLICIZE_CONNECTION_DELETE:(e,t)=>{let n=t.connection.ID;return Object(p.omit)(e,n)},PUBLICIZE_CONNECTION_RECEIVE:(e,t)=>{let n=t.connection;return Z()({},e,{[n.ID]:n})},PUBLICIZE_CONNECTION_UPDATE:(e,t)=>{let n=t.connection;return Z()({},e,{[n.ID]:n})}},{type:"object",patternProperties:{"^\\d+$":{type:"object",required:["ID","site_ID"],properties:{ID:{type:"integer"},site_ID:{type:"integer"},user_ID:{type:"integer"},keyring_connection_ID:{type:"integer"},keyring_connection_user_ID:{type:"integer"},shared:{type:"boolean"},service:{type:"string"},label:{type:"string"},issued:{type:"string"},expires:{type:"string"},external_ID:{type:["string","null"]},external_name:{type:["string","null"]},external_display:{type:["string","null"]},external_profile_picture:{type:["string","null"]},external_profile_URL:{type:["string","null"]},external_follower_count:{type:["integer","null"]},status:{type:"string"},refresh_URL:{type:"string"},meta:{type:"object"}}}},additionalProperties:!1});var _l=Object(Fe.b)({fetchingConnection:ul,fetchingConnections:dl,fetchedConnections:pl,connections:ml,sharePostStatus:ll,sharePostActions:cl});const El=Object(Fe.c)({},{KEYRING_SERVICES_RECEIVE:(e,t)=>t.services},{type:"object",additionalProperties:!1,patternProperties:{"^[a-z_]+$":{type:"object",required:["ID","connect_URL","description","genericon","icon","jetpack_support","label","multiple_external_user_ID_support","external_users_only","type"],properties:{ID:{type:"string"},connect_URL:{type:"string"},description:{type:"string"},genericon:{type:"object"},icon:{type:"string"},jetpack_module_required:{type:"string"},jetpack_support:{type:"boolean"},label:{type:"string"},multiple_external_user_ID_support:{type:"boolean"},external_users_only:{type:"boolean"},type:{type:"string"}}}}}),bl=Object(Fe.c)(!1,{KEYRING_SERVICES_REQUEST:()=>!0,KEYRING_SERVICES_REQUEST_SUCCESS:()=>!1,KEYRING_SERVICES_REQUEST_FAILURE:()=>!1});var gl=Object(Fe.b)({isFetching:bl,items:El}),hl=Object(Fe.b)({keyring:$c,publicize:_l,services:gl});var fl=n("./client/lib/shortcode/index.js");Object(fe.d)("RECEIVE_MEDIA_ITEMS"),Object(fe.d)("RECEIVE_MEDIA_ITEM");const Sl=e=>(t,n)=>{let s=n.siteId,i=n.shortcode;return Object(p.merge)({},t,{[s]:{[i]:e}})},Ol=Object(Fe.c)({},{SHORTCODE_REQUEST:Sl(!0),SHORTCODE_REQUEST_FAILURE:Sl(!1),SHORTCODE_REQUEST_SUCCESS:Sl(!1)});function jl(e,t){let n=t.siteId,s=t.data;if(!e.hasOwnProperty(n))return e;if(!s)return e;const i=(Array.isArray(s.media)?s.media:[s]).map(e=>String(e.ID));return Z()({},e,{[n]:Object(p.pickBy)(e[n],e=>{const t=Object(fl.b)(e.shortcode);if("gallery"!==t.tag||!t.attrs||!t.attrs.named||!t.attrs.named.ids)return!0;const n=t.attrs.named.ids.split(",");return!Object(p.intersection)(n,i).length})})}const Tl=Object(Fe.c)({},{FLUX_RECEIVE_MEDIA_ITEM:jl,FLUX_RECEIVE_MEDIA_ITEMS:jl,SHORTCODE_RECEIVE:(e,t)=>{let n=t.siteId,s=t.shortcode,i=t.data;return Object(p.merge)({},e,{[n]:{[s]:i}})}},{type:"object",patternProperties:{"^\\d+$":{type:"object",patternProperties:{"^.+$":{type:"object",properties:{result:{type:"string"},shortcode:{type:"string"},scripts:{type:"object"},styles:{type:"object"}}}}}}});var yl=Object(Fe.b)({requesting:Ol,items:Tl});var Il=Object(Fe.c)({},{SIGNUP_DEPENDENCY_STORE_UPDATE:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1?arguments[1]:void 0).dependencies;return Z()({},e,t)},SIGNUP_COMPLETE_RESET:()=>({})},{type:"object",properties:{cartItem:{OneOfType:[{type:"null"},{type:"optional"},{type:"object",properties:{product_slug:{type:"string"},free_trial:{type:"boolean"}}}]},designType:{type:"string"},domainItem:{OneOfType:[{type:"null"},{type:"optional"},{type:"object",properties:{is_domain_registration:{type:"boolean"},product_slug:{type:"string"},meta:{type:"string"}}}]},surveyQuestion:{type:"string"},surveySiteType:{type:"string"},theme:{type:"string"}}}),Rl=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),Cl=n.n(Rl),Al=n("./client/signup/config/steps-pure.js"),vl=n("./client/signup/config/flows-pure.js");const Nl=o()("calypso:state:signup:progress:reducer");function Ul(e,t){let n=t.steps,s=void 0===n?[]:n;return Array.isArray(s)?s:[]}function wl(e,t){return Nl("Adding step ".concat(t.stepName)),[...e,t]}function Pl(e,t){return Nl("Updating step ".concat(t.stepName)),Object(p.map)(e,function(e){if(e.stepName===t.stepName){const n=t.status;if("pending"===n||"completed"===n){e.wasSkipped;const n=Cl()(e,["wasSkipped"]);return Z()({},n,t)}return Z()({},e,t)}return e})}var Dl=Object(Fe.c)([],{SIGNUP_COMPLETE_RESET:Ul,SIGNUP_PROGRESS_COMPLETE_STEP:function(e,t){let n=t.step;return Pl(e,Z()({},n,{status:"completed"}))},SIGNUP_PROGRESS_INVALIDATE_STEP:function(e,t){let n=t.step,s=t.errors;const i=Z()({},n,{errors:s,status:"invalid"});return Object(p.find)(e,{stepName:i.stepName})?Pl(e,i):wl(e,i)},SIGNUP_PROGRESS_PROCESS_STEP:function(e,t){let n=t.step;return Pl(e,Z()({},n,{status:"processing"}))},SIGNUP_PROGRESS_REMOVE_UNNEEDED_STEPS:function(e,t){let n=t.flowName,s=[];const i=Object(R.default)();return s=Object(p.get)(vl.a,"".concat(n,".steps"),[]),i&&i.get()&&(s=s.filter(e=>"user"!==e)),e.filter((e,t)=>s.includes(e.stepName)&&t===s.indexOf(e.stepName))},SIGNUP_PROGRESS_SAVE_STEP:function(e,t){let n=t.step;return Object(p.find)(e,{stepName:n.stepName})?Pl(e,n):wl(e,Z()({},n,{status:"in-progress"}))},SIGNUP_PROGRESS_SET:Ul,SIGNUP_PROGRESS_SUBMIT_STEP:function(e,t){let n=t.step;const s=Object(p.get)(Al.a,"".concat(n.stepName,".apiRequestFunction"))?"pending":"completed";return Object(p.find)(e,{stepName:n.stepName})?Pl(e,Z()({},n,{status:s})):wl(e,Z()({},n,{status:s}))}},{type:"array",items:{type:"object",properties:{formData:{type:"object",properties:{url:{type:"string"}}},lastUpdated:{type:"number"},status:{type:"string"},stepName:{type:"string"}}}});const Ll=Object(Fe.c)("",{SIGNUP_OPTIONAL_DEPENDENCY_SUGGESTED_USERNAME_SET:(e,t)=>t.data},{type:["string","null"]});var kl=Object(Fe.b)({suggestedUsername:Ll});var xl=Object(Fe.c)("",{SIGNUP_STEPS_DESIGN_TYPE_SET:(e,t)=>t.designType,SIGNUP_COMPLETE_RESET:()=>""},{type:["string","null"]});var Ml=Object(Fe.c)("",{SIGNUP_STEPS_SITE_TITLE_SET:(e,t)=>t.siteTitle,SIGNUP_COMPLETE_RESET:()=>""},{type:["string","null"]});var Fl=Object(Fe.c)("",{SIGNUP_STEPS_SITE_GOALS_SET:(e,t)=>t.siteGoals,SIGNUP_COMPLETE_RESET:()=>""},{type:["string","null"]});var Gl=Object(Fe.c)("",{SIGNUP_STEPS_USER_EXPERIENCE_SET:(e,t)=>t.userExperience,SIGNUP_COMPLETE_RESET:()=>""},{type:["string","null"]});var Vl=Object(Fe.c)("",{SIGNUP_STEPS_SITE_STYLE_SET:(e,t)=>t.siteStyle,SIGNUP_COMPLETE_RESET:()=>""},{type:["string","null"]});var ql=Object(Fe.c)("",{SIGNUP_STEPS_SITE_TYPE_SET:(e,t)=>t.siteType,SIGNUP_COMPLETE_RESET:()=>""},{type:["string","null"]});var Hl=Object(Fe.c)({id:"",isUserInput:!0,name:"",parentId:"",slug:"",preview:""},{SIGNUP_STEPS_SITE_VERTICAL_SET:(e,t)=>Z()({},e,Object(p.omit)(t,"type")),SIGNUP_COMPLETE_RESET:()=>({}),JETPACK_CONNECT_AUTHORIZE:()=>({})},{type:"object",additionalProperties:!1,properties:{id:{type:"string"},isUserInput:{type:"boolean"},name:{type:"string"},parentId:{type:"string"},preview:{type:"string"},slug:{type:"string"}}});var Ql=Object(Fe.c)({},{SIGNUP_STEPS_SURVEY_SET:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return Z()({},e,{vertical:t.survey.vertical,otherText:t.survey.otherText,siteType:t.survey.siteType})},SIGNUP_COMPLETE_RESET:()=>({})},{type:"object",properties:{vertical:{type:"string"},otherText:{type:"string"},siteType:{type:"string"}}}),Bl=Object(Fe.b)({designType:xl,siteTitle:Ml,siteGoals:Fl,userExperience:Gl,siteStyle:Vl,siteType:ql,siteVertical:Hl,survey:Ql});var Yl=Object(Fe.b)({currentFlowName:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.flowName;return"SIGNUP_CURRENT_FLOW_NAME_SET"===n?s:e}}),Wl=Object(Fe.c)(null,{SIGNUP_VERTICALS_SET:(e,t)=>Z()({},e,{[t.search.trim().toLowerCase()]:t.verticals})}),Kl=Object(Fe.b)({dependencyStore:Il,optionalDependencies:kl,progress:Dl,steps:Bl,flow:Yl,verticals:Wl}),zl=n("./client/state/simple-payments/product-list/schema.js");function Jl(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0,n=0;const s=e.map(e=>e.ID===t.ID?(n=1,t):e);return n?s:[t,...s]}const Zl=Object(Fe.c)({},{SIMPLE_PAYMENTS_PRODUCT_RECEIVE:(e,t)=>{let n=t.siteId,s=t.product;return Z()({},e,{[n]:Jl(e[n],s)})},SIMPLE_PAYMENTS_PRODUCTS_LIST_RECEIVE:(e,t)=>{let n=t.siteId,s=t.products;return Z()({},e,{[n]:s})},SIMPLE_PAYMENTS_PRODUCTS_LIST_RECEIVE_UPDATE:(e,t)=>{let n=t.siteId,s=t.product;return Z()({},e,{[n]:Jl(e[n],s)})},SIMPLE_PAYMENTS_PRODUCTS_LIST_RECEIVE_DELETE:(e,t)=>{let n=t.siteId,s=t.productId;return Z()({},e,{[n]:e[n].filter(e=>e.ID!==s)})}},zl.a);var $l=Object(Fe.b)({items:Zl}),Xl=Object(Fe.b)({productList:$l});const eu=Object(Fe.c)({},{SITE_ADDRESS_CHANGE_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},SITE_ADDRESS_CHANGE_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},SITE_ADDRESS_CHANGE_REQUEST_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}}),tu=Object(Fe.c)({},{SITE_ADDRESS_CHANGE_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:{status:"pending",error:!1}})},SITE_ADDRESS_CHANGE_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:{status:"success",error:!1}})},SITE_ADDRESS_CHANGE_REQUEST_FAILURE:(e,t)=>{let n=t.siteId,s=t.error;return Z()({},e,{[n]:{status:"error",error:s}})}}),nu=Object(Fe.c)({},{SITE_ADDRESS_AVAILABILITY_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:Z()({},Object(p.get)(e,n,{}),{pending:!0,error:null,isAvailable:null})})},SITE_ADDRESS_AVAILABILITY_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:Z()({},Object(p.get)(e,n,{}),{pending:!1,error:null,isAvailable:!0})})},SITE_ADDRESS_AVAILABILITY_ERROR:(e,t)=>{let n=t.siteId,s=t.errorType,i=t.message;return Z()({},e,{[n]:Z()({},Object(p.get)(e,n,{}),{isAvailable:!1,pending:!1,error:{errorType:s,message:i}})})},SITE_ADDRESS_AVAILABILITY_ERROR_CLEAR:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:Z()({},Object(p.get)(e,n,{}),{error:null,isAvailable:null})})}});var su=Object(Fe.b)({validation:nu,status:tu,requesting:eu});const iu=Object(Fe.c)({},{SITE_KEYRINGS_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},SITE_KEYRINGS_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},SITE_KEYRINGS_REQUEST_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}}),ru=Object(Fe.c)({},{SITE_KEYRINGS_SAVE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:{saving:!0,status:"pending",error:!1}})},SITE_KEYRINGS_SAVE_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:{saving:!1,status:"success",error:!1}})},SITE_KEYRINGS_SAVE_FAILURE:(e,t)=>{let n=t.siteId,s=t.error;return Z()({},e,{[n]:{saving:!1,status:"error",error:s}})}}),ou=Object(Fe.c)({},{SITE_KEYRINGS_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId,s=t.keyrings;return Z()({},e,{[n]:s})},SITE_KEYRINGS_SAVE_SUCCESS:(e,t)=>{let n=t.siteId,s=t.keyring;return Z()({},e,{[n]:(e[n]||[]).concat([s])})},SITE_KEYRINGS_UPDATE_SUCCESS:(e,t)=>{let n=t.siteId,s=t.keyringId,i=t.externalUserId;return Z()({},e,{[n]:e[n].map(e=>e.keyring_id===s?Z()({},e,{external_user_id:i}):e)})},SITE_KEYRINGS_DELETE_SUCCESS:(e,t)=>{let n=t.siteId,s=t.keyringId,i=t.externalUserId;return Z()({},e,{[n]:(e[n]||[]).filter(e=>!(e.keyring_id===s&&(!i||e.external_user_id===i)))})}},{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object",properties:{keyring_id:{type:"number"},service:{type:"string"},external_user_id:{type:["string","null"]}}}}}});var au=Object(Fe.b)({items:ou,requesting:iu,saveRequests:ru});const cu=Object(Fe.c)({},{SITE_ROLES_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},SITE_ROLES_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},SITE_ROLES_REQUEST_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}}),lu=Object(Fe.c)({},{SITE_ROLES_RECEIVE:(e,t)=>{let n=t.siteId,s=t.roles;return Z()({},e,{[n]:s})}},{type:"object",patternProperties:{"^\\d+$":{type:"array",items:{type:"object",properties:{name:{type:"string"},display_name:{type:"string"},capabilities:{type:"object",patternProperties:{"^.+$":{type:"boolean"}}}},required:["name","display_name","capabilities"]}}}});var uu=Object(Fe.b)({requesting:cu,items:lu}),du=n("./client/state/site-settings/exporter/constants.js");const pu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_POST_TYPE_FIELD_SET":return Object.assign({},e,{[t.fieldName]:t.value})}return e},mu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{post:{},page:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_POST_TYPE_FIELD_SET":return Object.assign({},e,{[t.postType]:pu(e[t.postType],t)})}return e};var _u=Object(Fe.b)({selectedPostType:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_POST_TYPE_SET":return t.postType}return e},selectedAdvancedSettings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_POST_TYPE_FIELD_SET":return Object.assign({},e,{[t.siteId]:mu(e[t.siteId],t)})}return e},exportingState:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.siteId;switch(n){case"EXPORT_START_REQUEST":return Object.assign({},e,{[s]:du.a.STARTING});case"EXPORT_STARTED":return Object.assign({},e,{[s]:du.a.EXPORTING});case"EXPORT_COMPLETE":return Object.assign({},e,{[s]:du.a.COMPLETE});case"EXPORT_FAILURE":return Object.assign({},e,{[s]:du.a.FAILED});case"EXPORT_CLEAR":return Object.assign({},e,{[s]:du.a.READY})}return e},fetchingAdvancedSettings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_ADVANCED_SETTINGS_FETCH":return Object.assign({},e,{[t.siteId]:!0});case"EXPORT_ADVANCED_SETTINGS_FETCH_FAIL":case"EXPORT_ADVANCED_SETTINGS_RECEIVE":return Object.assign({},e,{[t.siteId]:!1})}return e},advancedSettings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_ADVANCED_SETTINGS_RECEIVE":return Object.assign({},e,{[t.siteId]:t.advancedSettings})}return e},downloadURL:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EXPORT_COMPLETE":return t.downloadURL;case"EXPORT_CLEAR":return null}return e},mediaExportUrl:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"SET_MEDIA_EXPORT_DATA"===t.type?t.mediaExportUrl:e}});const Eu=Object(Fe.c)({},{SITE_SETTINGS_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},SITE_SETTINGS_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},SITE_SETTINGS_REQUEST_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}}),bu=Object(Fe.c)({},{SITE_SETTINGS_SAVE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:{saving:!0,status:"pending",error:!1}})},SITE_SETTINGS_SAVE_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:{saving:!1,status:"success",error:!1}})},SITE_SETTINGS_SAVE_FAILURE:(e,t)=>{let n=t.siteId,s=t.error;return Z()({},e,{[n]:{saving:!1,status:"error",error:s}})}}),gu=Object(Fe.c)({},{SITE_SETTINGS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.settings;return Z()({},e,{[n]:s})},SITE_SETTINGS_UPDATE:(e,t)=>{let n=t.siteId,s=t.settings;return Z()({},e,{[n]:Z()({},e[n],s)})},MEDIA_DELETE:(e,t)=>{let n=t.siteId,s=t.mediaIds;const i=e[n];return i&&Object(p.includes)(s,i.site_icon)?Z()({},e,{[n]:Z()({},i,{site_icon:null})}):e}},{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object"}}});var hu=Object(Fe.b)({exporter:_u,items:gu,requesting:Eu,saveRequests:bu}),fu=n("./client/state/sites/plans/reducer.js");const Su=e=>(t,n)=>{let s=n.siteId;return Z()({},t,{[s]:e})},Ou=Object(Fe.c)({},{SITE_CONNECTION_STATUS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.status;return Z()({},e,{[n]:s})}}),ju=Object(Fe.c)({},{SITE_CONNECTION_STATUS_REQUEST:Su(!0),SITE_CONNECTION_STATUS_REQUEST_FAILURE:Su(!1),SITE_CONNECTION_STATUS_REQUEST_SUCCESS:Su(!1)});var Tu=Object(Fe.b)({items:Ou,requesting:ju});const yu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=t.siteId;switch(t.type){case"SITE_DOMAINS_RECEIVE":return Object.assign({},e,{[n]:t.domains});case"DOMAIN_PRIVACY_TOGGLE":const s=Object(p.find)(e[n],{domain:t.domain}),i=Object(p.indexOf)(e[n],s),r=[...e[n]];return r.splice(i,1,Object.assign({},s,{privateDomain:!s.privateDomain})),Object.assign({},e,{[n]:r})}return e};yu.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object",required:["domain"],properties:{autoRenewalDate:{type:"string"},autoRenewing:{type:"boolean"},blogId:{type:"number"},canSetAsPrimary:{type:"boolean"},currentUserCanManage:{type:"boolean"},domain:{type:"string"},expired:{type:"boolean"},expiry:{type:["null","string"]},expirySoon:{type:"boolean"},googleAppsSubscription:{type:"object"},hasRegistration:{type:"boolean"},hasWpcomNameservers:{type:"boolean"},hasZone:{type:"boolean"},isPendingIcannVerification:{type:"boolean"},isPrimary:{type:"boolean"},isWPCOMDomain:{type:"boolean"},manualTransferRequired:{type:"boolean"},newRegistration:{type:"boolean"},name:{type:"string"},owner:{type:"string",optional:!0},partnerDomain:{type:"boolean"},pendingRegistration:{type:"boolean"},pendingRegistrationTime:{type:"string"},pointsToWpcom:{type:"boolean"},registrar:{type:"string"},registrationDate:{type:"string"},subscriptionId:{type:["null","string"]},supportsDomainConnect:{type:"boolean",optional:!0},supportsGdprConsentManagement:{type:"boolean",optional:!0},type:{type:"string"}}}}}};var Iu=Object(Fe.b)({errors:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_DOMAINS_REQUEST":case"SITE_DOMAINS_REQUEST_SUCCESS":return Object.assign({},e,{[t.siteId]:null});case"SITE_DOMAINS_REQUEST_FAILURE":return Object.assign({},e,{[t.siteId]:t.error})}return e},items:yu,requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_DOMAINS_REQUEST":case"SITE_DOMAINS_REQUEST_SUCCESS":case"SITE_DOMAINS_REQUEST_FAILURE":return Object.assign({},e,{[t.siteId]:"SITE_DOMAINS_REQUEST"===t.type})}return e}});const Ru=Object(Fe.c)({},{GUIDED_TRANSFER_STATUS_RECEIVE:(e,t)=>Z()({},e,{[t.siteId]:t.guidedTransferStatus})},{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",properties:{issues:{type:"array",items:{type:"object",properties:{reason:{type:"string"},prevents_transfer:{type:"boolean"}}}},upgrade_purchased:{type:"boolean"},host_details_entered:{type:"boolean"}}}}}),Cu=Object(Fe.c)({},{GUIDED_TRANSFER_STATUS_REQUEST:(e,t)=>Z()({},e,{[t.siteId]:!0}),GUIDED_TRANSFER_STATUS_REQUEST_SUCCESS:(e,t)=>Z()({},e,{[t.siteId]:!1}),GUIDED_TRANSFER_STATUS_REQUEST_FAILURE:(e,t)=>Z()({},e,{[t.siteId]:!1})}),Au=Object(Fe.c)({},{GUIDED_TRANSFER_HOST_DETAILS_SAVE:(e,t)=>Z()({},e,{[t.siteId]:null}),GUIDED_TRANSFER_HOST_DETAILS_SAVE_SUCCESS:(e,t)=>Z()({},e,{[t.siteId]:null}),GUIDED_TRANSFER_HOST_DETAILS_SAVE_FAILURE:(e,t)=>{let n=!0;return t.error&&t.error.error&&(n=t.error.error),Z()({},e,{[t.siteId]:n})}}),vu=Object(Fe.c)({},{GUIDED_TRANSFER_HOST_DETAILS_SAVE:(e,t)=>Z()({},e,{[t.siteId]:!0}),GUIDED_TRANSFER_HOST_DETAILS_SAVE_SUCCESS:(e,t)=>Z()({},e,{[t.siteId]:!1}),GUIDED_TRANSFER_HOST_DETAILS_SAVE_FAILURE:(e,t)=>Z()({},e,{[t.siteId]:!1})});var Nu=Object(Fe.b)({error:Au,isFetching:Cu,isSaving:vu,status:Ru});const Uu=Object(Fe.c)({},{SITE_MONITOR_SETTINGS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.settings;return Z()({},e,{[n]:s})}}),wu=Object(Fe.e)("siteId",Object(Fe.c)({},{SITE_MONITOR_SETTINGS_REQUEST:p.stubTrue,SITE_MONITOR_SETTINGS_REQUEST_SUCCESS:p.stubFalse,SITE_MONITOR_SETTINGS_REQUEST_FAILURE:p.stubFalse})),Pu=Object(Fe.e)("siteId",Object(Fe.c)({},{SITE_MONITOR_SETTINGS_UPDATE:p.stubTrue,SITE_MONITOR_SETTINGS_UPDATE_SUCCESS:p.stubFalse,SITE_MONITOR_SETTINGS_UPDATE_FAILURE:p.stubFalse}));var Du=Object(Fe.b)({items:Uu,requesting:wu,updating:Pu});const Lu=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=t.siteId,s=t.type,i=t.voucher,r=t.vouchers,o=t.serviceType;switch(s){case"SITE_VOUCHERS_ASSIGN_RECEIVE":const t=e[n]&&e[n][o]||[];return Object.assign({},e,{[n]:{[o]:t.concat(i)}});case"SITE_VOUCHERS_RECEIVE":return Object.assign({},e,{[n]:r})}return e};Lu.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",additionalProperties:!1,patternProperties:{"^[a-z-]+$":{type:"array",items:{type:"object",required:["assigned","assigned_by"],additionalProperties:!1,properties:{assigned:{type:"string"},assigned_by:{type:"number"},code:{type:"string"},status:{type:"string"}}}}}}}};var ku=Object(Fe.b)({items:Lu,requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.siteId;switch(n){case"SITE_VOUCHERS_ASSIGN_REQUEST":case"SITE_VOUCHERS_ASSIGN_REQUEST_SUCCESS":case"SITE_VOUCHERS_ASSIGN_REQUEST_FAILURE":case"SITE_VOUCHERS_REQUEST":case"SITE_VOUCHERS_REQUEST_SUCCESS":case"SITE_VOUCHERS_REQUEST_FAILURE":return Object.assign({},e,{[s]:{getAll:"SITE_VOUCHERS_REQUEST"===n,assign:"SITE_VOUCHERS_ASSIGN_REQUEST"===n}})}return e},errors:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.siteId,i=t.error;switch(n){case"SITE_VOUCHERS_ASSIGN_REQUEST":case"SITE_VOUCHERS_ASSIGN_REQUEST_SUCCESS":case"SITE_VOUCHERS_REQUEST":case"SITE_VOUCHERS_REQUEST_SUCCESS":return Object.assign({},e,{[s]:{getAll:null,assign:null}});case"SITE_VOUCHERS_REQUEST_FAILURE":case"SITE_VOUCHERS_ASSIGN_REQUEST_FAILURE":return Object.assign({},e,{[s]:{getAll:"SITE_VOUCHERS_REQUEST_FAILURE"===n?i:null,assign:"SITE_VOUCHERS_ASSIGN_REQUEST_FAILURE"===n?i:null}})}return e}});const xu=Object(Fe.c)({},{SHARING_BUTTONS_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},SHARING_BUTTONS_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},SHARING_BUTTONS_REQUEST_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}}),Mu=Object(Fe.c)({},{SHARING_BUTTONS_SAVE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:{saving:!0,status:"pending"}})},SHARING_BUTTONS_SAVE_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:{saving:!1,status:"success"}})},SHARING_BUTTONS_SAVE_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:{saving:!1,status:"error"}})}}),Fu=Object(Fe.c)({},{SHARING_BUTTONS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.settings;return Z()({},e,{[n]:s})},SHARING_BUTTONS_UPDATE:(e,t)=>{let n=t.siteId,s=t.settings;return Z()({},e,{[n]:Object(p.uniqBy)(s.concat(e[n]||[]),"ID")})}},{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object"}}}});var Gu=Object(Fe.b)({items:Fu,requesting:xu,saveRequests:Mu});function Vu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_MEDIA_STORAGE_RECEIVE":const n=Object(p.pick)(t.mediaStorage,["max_storage_bytes","storage_used_bytes"]);return Object.assign({},e,{[t.siteId]:n})}return e}Vu.schema={type:"object",patternProperties:{"^\\d+$":{type:"object",required:["max_storage_bytes","storage_used_bytes"],properties:{max_storage_bytes:{type:["integer"]},storage_used_bytes:{type:["integer"]}}}},additionalProperties:!1};var qu=Object(Fe.b)({items:Vu,fetchingItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_MEDIA_STORAGE_REQUEST":case"SITE_MEDIA_STORAGE_REQUEST_SUCCESS":case"SITE_MEDIA_STORAGE_REQUEST_FAILURE":return Object.assign({},e,{[t.siteId]:"SITE_MEDIA_STORAGE_REQUEST"===t.type})}return e}});const Hu=Object(Fe.c)({},{SITES_BLOG_STICKER_LIST_RECEIVE:(e,t)=>Z()({},e,{[t.payload.blogId]:t.payload.stickers}),SITES_BLOG_STICKER_ADD:(e,t)=>{const n=t.payload,s=n.blogId,i=n.stickerName;return Object(p.includes)(e[s],i)?e:Z()({},e,{[s]:Object(p.compact)(Object(p.concat)(i,e[s]))})},SITES_BLOG_STICKER_REMOVE:(e,t)=>{const n=t.payload,s=n.blogId,i=n.stickerName;return Object(p.includes)(e[s],i)?Z()({},e,{[s]:Object(p.reject)(e[s],e=>e===i)}):e}});var Qu=Object(Fe.b)({items:Hu});function Bu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;if(null===e&&"SITE_RECEIVE"!==t.type&&"SITES_RECEIVE"!==t.type)return null;switch(t.type){case"WORDADS_SITE_APPROVE_REQUEST_SUCCESS":const n=e[t.siteId];return n?Object.assign({},e,{[t.siteId]:Object(p.merge)({},n,{options:{wordads:!0}})}):e;case"SITE_RECEIVE":case"SITES_RECEIVE":const s=t.site?[t.site]:t.sites,i="SITES_RECEIVE"===t.type?{}:e;return Object(p.reduce)(s,(t,n)=>Object(p.isEqual)(t[n.ID],n)?t:(t===e&&(t=Z()({},e)),t[n.ID]=n,t),i||{});case"SITE_DELETE_RECEIVE":case"JETPACK_DISCONNECT_RECEIVE":return Object(p.omit)(e,t.siteId);case"THEME_ACTIVATE_SUCCESS":{const n=t.siteId,s=t.themeStylesheet,i=e[n];if(!i)break;return Z()({},e,{[n]:Object(p.merge)({},i,{options:{theme_slug:s}})})}case"SITE_SETTINGS_UPDATE":case"SITE_SETTINGS_RECEIVE":{const n=t.siteId,s=t.settings,i=e[n];if(!i)return e;let r=i;return Object(p.reduce)(["blog_public","site_icon"],(t,o)=>{if(!s.hasOwnProperty(o))return t;switch(o){case"blog_public":const e=-1===parseInt(s.blog_public,10);if(i.is_private===e)return t;r=Z()({},r,{is_private:e});break;case"site_icon":const n=s.site_icon;if(!i.icon&&null===n||i.icon&&i.icon.media_id===n)return t;r=null===n?Object(p.omit)(r,"icon"):Z()({},r,{icon:{media_id:n}})}return t===e&&(t=Z()({},e)),t[n]=r,t},e)}case"MEDIA_DELETE":{const n=t.siteId,s=t.mediaIds,i=Object(p.get)(e[n],"icon.media_id");return i&&Object(p.includes)(s,i)?Z()({},e,{[n]:Object(p.omit)(e[n],"icon")}):e}case"SITE_PLUGIN_UPDATED":{const n=t.siteId,s=Object(p.get)(e[n],"updates");return s?Z()({},e,{[n]:Z()({},e[n],{updates:Z()({},s,{plugins:s.plugins-1,total:s.total-1})})}):e}}return e}Bu.schema=Rc;const Yu=Object(Fe.c)(!1,{SITES_REQUEST:()=>!0,SITES_REQUEST_FAILURE:()=>!1,SITES_REQUEST_SUCCESS:()=>!1}),Wu=Object(Fe.c)({},{SITE_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},SITE_REQUEST_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},SITE_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}}),Ku=Object(Fe.e)("siteId",Object(Fe.c)({},{SITE_DELETE:p.stubTrue,SITE_DELETE_FAILURE:p.stubFalse,SITE_DELETE_SUCCESS:p.stubFalse})),zu=Object(Fe.c)(!1,{SITES_RECEIVE:()=>!0},{type:["boolean","null"]});var Ju=Object(Fe.b)({connection:Tu,deleting:Ku,domains:Iu,requestingAll:Yu,items:Bu,mediaStorage:qu,plans:fu.b,guidedTransfer:Nu,monitor:Du,vouchers:ku,requesting:Wu,sharingButtons:Gu,blogStickers:Qu,hasAllSitesList:zu});function Zu(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_STATS_RECEIVE":return Z()({},e,{[t.siteId]:Z()({},Object(p.get)(e,[t.siteId],{}),{[t.postId]:Z()({},Object(p.get)(e,[t.siteId,t.postId],{}),t.stats)})})}return e}Zu.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object"}}}}};var $u=Object(Fe.b)({requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_STATS_REQUEST":case"POST_STATS_REQUEST_SUCCESS":case"POST_STATS_REQUEST_FAILURE":return Object(p.merge)({},e,{[t.siteId]:{[t.postId]:{[t.fields.join()]:"POST_STATS_REQUEST"===t.type}}})}return e},items:Zu}),Xu=n("./client/state/stats/lists/utils.js");const ed=Object(Fe.c)({},{SITE_STATS_REQUEST:(e,t)=>{let n=t.siteId,s=t.statType,i=t.query;const r=Object(Xu.c)(i);return Object(p.merge)({},e,{[n]:{[s]:{[r]:{requesting:!0,status:"pending"}}}})},SITE_STATS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.statType,i=t.query,r=t.date;const o=Object(Xu.c)(i);return Object(p.merge)({},e,{[n]:{[s]:{[o]:{requesting:!1,status:"success",date:r}}}})},SITE_STATS_REQUEST_FAILURE:(e,t)=>{let n=t.siteId,s=t.statType,i=t.query;const r=Object(Xu.c)(i);return Object(p.merge)({},e,{[n]:{[s]:{[r]:{requesting:!1,status:"error"}}}})}});function td(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_STATS_RECEIVE":const n=t.siteId,s=t.statType,i=t.query,r=t.data,o=Object(Xu.c)(i);return Z()({},e,{[n]:Z()({},e[n],{[s]:Z()({},Object(p.get)(e,[n,s]),{[o]:r})})})}return e}td.schema={type:"object",patternProperties:{"^\\d+$":{type:"object",patternProperties:{"^[A-Za-z]+$":{type:"object",patternProperties:{"^\\{[^\\}]*\\}$":{type:"object"}}}},additionalProperties:!1}},additionalProperties:!1};var nd=Object(Fe.b)({requests:ed,items:td});function sd(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATS_RECENT_POST_VIEWS_RECEIVE":{const n={};return t.posts.forEach(e=>{n[e.ID]={views:e.views}}),Z()({},e,{[t.siteId]:Z()({},Object(p.get)(e,[t.siteId],{}),n)})}}return e}sd.schema={type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"object",properties:{views:{type:"number"}}}}}}};var id=Object(Fe.b)({items:sd});var rd=n("./client/state/stats/chart-tabs/constants.js");const od=Object(Fe.e)("siteId",Object(Fe.e)("period",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATS_CHART_COUNTS_RECEIVE":{let n=!1;const s=t.data.reduce((e,t)=>{const s=e.findIndex(e=>e.period===t.period);if(s>=0){const i=Z()({},e[s],t);Object(p.isEqual)(e[s],i)||(n=!0,e[s]=i)}else n=!0,e.push(t);return e},[...e]);return n?s:e}}return e}));od.schema={type:"object",patternProperties:{"^\\d+$":{type:"object",patternProperties:{"^\\w+$":{type:"array",items:{type:"object",required:["period","labelDay"],properties:{classNames:{type:"array",items:{type:"string"}},comments:"number",labelDay:"string",likes:"number",period:"string",postTitles:{type:"array",items:{type:"string"}},views:"number",visitors:"number"}}}}}}};const ad=Object(Fe.e)("siteId",Object(Fe.e)("period",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STATS_CHART_COUNTS_REQUEST":return t.statFields.reduce((e,t)=>Object(p.set)(e,t,!0),Z()({},e));case"STATS_CHART_COUNTS_RECEIVE":return Object.keys(Object(p.pick)(t.data[0],rd.a)).reduce((e,t)=>Object(p.set)(e,t,!1),Z()({},e))}return e}));var cd=Object(Fe.b)({counts:od,isLoading:ad}),ld=Object(Fe.b)({chartTabs:cd,posts:$u,lists:nd,recentPostViews:id});const ud=Object(Fe.c)([],{STORED_CARDS_ADD_COMPLETED:(e,t)=>{return[...e,t.item]},STORED_CARDS_FETCH_COMPLETED:(e,t)=>{return t.list},STORED_CARDS_DELETE_COMPLETED:(e,t)=>{let n=t.card;return e.filter(e=>e.stored_details_id!==n.stored_details_id)}},{type:"array",items:{type:"object",properties:{added:{type:"string"},email:{type:"string"},expiry:{type:"string"},card:{type:"string"},card_type:{type:"string"},last_service:{type:"string"},last_used:{type:"string"},meta:{type:"array"},mp_ref:{type:"string"},name:{type:"string"},payment_partner:{type:"string"},remember:{type:"string"},stored_details_id:{type:"string"},user_id:{type:"string"}}},additionalProperties:!1});var dd=Object(Fe.b)({hasLoadedFromServer:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"STORED_CARDS_FETCH_COMPLETED":return!0}return e},isDeleting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"STORED_CARDS_DELETE":return Z()({},e,{[t.card.stored_details_id]:!0});case"STORED_CARDS_DELETE_FAILED":case"STORED_CARDS_DELETE_COMPLETED":const n=Z()({},e);return delete n[t.card.stored_details_id],n}return e},isFetching:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"STORED_CARDS_FETCH":return!0;case"STORED_CARDS_FETCH_COMPLETED":case"STORED_CARDS_FETCH_FAILED":return!1}return e},items:ud}),pd=n("./client/state/support/reducer.js");const md={context:"display",http_envelope:!1,pretty:!1,number:100,offset:0,page:1,search:"",order:"ASC",order_by:"name"};function _d(e,t){return null==e||md[t]===e}class Ed extends br{static matches(e,t){if(!e.search)return!0;const n=e.search.toLowerCase();return t.name&&Object(p.includes)(t.name.toLowerCase(),n)||t.slug&&Object(p.includes)(t.slug.toLowerCase(),n)}static compare(e,t,n){let s;switch(e.order_by){case"count":s=t.post_count-n.post_count;break;case"name":default:s=t.name.localeCompare(n.name)}return/^desc$/i.test(e.order)&&(s*=-1),s||0}}cr()(Ed,"QueryKey",class extends Er{static stringify(e){return super.stringify(Object(p.omitBy)(e,_d))}static parse(e){return Object(p.omitBy)(super.parse(e),_d)}}),cr()(Ed,"DefaultQuery",md);var bd=n("./client/state/terms/utils.js");const gd={type:"object",patternProperties:{"^\\d+$":{type:"object",patternProperties:{"^[A-Za-z0-9-_]+$":pa},additionalProperties:!1}},additionalProperties:!1};const hd=Object(Fe.c)({},{TERMS_RECEIVE:(e,t)=>{const n=t.siteId,s=t.query,i=t.taxonomy,r=t.terms,o=t.found,a=e[n]&&e[n][i],c=(a?e[n][i]:new Ed).receive(r,{query:s,found:o});return a&&c===e[n][i]?e:Z()({},e,{[n]:Z()({},e[n],{[i]:c})})},TERM_REMOVE:(e,t)=>{const n=t.siteId,s=t.taxonomy,i=t.termId;if(!e[n]||!e[n][s])return e;const r=e[n][s].removeItem(i);return r===e[n][s]?e:Z()({},e,{[n]:Z()({},e[n],{[s]:r})})},SERIALIZE:e=>Object(p.mapValues)(e,e=>Object(p.mapValues)(e,e=>{return{data:e.data,options:e.options}})),DESERIALIZE:e=>Object(p.mapValues)(e,e=>Object(p.mapValues)(e,e=>{let t=e.data,n=e.options;return new Ed(t,n)}))},gd);var fd=Object(Fe.b)({queries:hd,queryRequests:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TERMS_REQUEST":case"TERMS_REQUEST_SUCCESS":case"TERMS_REQUEST_FAILURE":const n=Object(bd.a)(t.query);return Object(p.merge)({},e,{[t.siteId]:{[t.taxonomy]:{[n]:"TERMS_REQUEST"===t.type}}})}return e}});const Sd={search:"",tier:"",filter:"",number:20,offset:0,page:1};function Od(e,t){return null==e||Sd[t]===e}class jd extends br{static sort(){}}cr()(jd,"QueryKey",class extends Er{static stringify(e){return super.stringify(Object(p.omitBy)(e,Od))}static parse(e){return Object(p.omitBy)(super.parse(e),Od)}}),cr()(jd,"DefaultQuery",Sd);var Td=n("./client/state/themes/utils.js");var yd;const Id={type:"object",properties:{_timestamp:{type:"number"}},patternProperties:{"^(wpcom|wporg|\\d+)$":(yd={title:"Theme",additionalProperties:!1,type:"object",patternProperties:{"^[\\w-]+$":{additionalProperties:!0,required:["id","name","author","screenshot"],type:"object",properties:{active:{type:"boolean"},author:{type:"string"},author_uri:{type:"string"},autoupdate:{type:"boolean"},autoupdate_translation:{type:"boolean"},demo_uri:{type:"string"},description:{type:"string"},id:{type:"string"},name:{type:"string"},price:{type:"string"},screenshot:{type:"string"},stylesheet:{type:"string"},tags:{type:"array",items:{type:"string"}},taxonomies:{type:"object"},theme_uri:{type:"string"},update:{type:["null","object"]},version:{type:"string"}}}}},Object(p.cloneDeepWith)(da,e=>{if(e===da.properties.data.properties.items)return yd}))},additionalProperties:!1};const Rd=Object(Fe.g)({type:"boolean"},function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return"THEMES_BANNER_HIDE"!==(arguments.length>1?arguments[1]:void 0).type&&e});var Cd=Object(Fe.b)({backPath:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/themes",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_BACK_PATH_SET":return void 0!==t.path?t.path:e}return e},themesBannerVisible:Rd});const Ad=Object(Fe.c)({},{THEME_UPLOAD_SUCCESS:(e,t)=>{let n=t.siteId,s=t.themeId;return Z()({},e,{[n]:s})},THEME_TRANSFER_STATUS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.themeId;return Z()({},e,{[n]:s})},THEME_UPLOAD_CLEAR:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)},THEME_UPLOAD_START:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)},THEME_TRANSFER_INITIATE_REQUEST:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)}}),vd=Object(Fe.c)({},{THEME_UPLOAD_FAILURE:(e,t)=>{let n=t.siteId,s=t.error;return Z()({},e,{[n]:s})},THEME_TRANSFER_STATUS_FAILURE:(e,t)=>{let n=t.siteId,s=t.error;return Z()({},e,{[n]:s})},THEME_TRANSFER_INITIATE_FAILURE:(e,t)=>{let n=t.siteId,s=t.error;return Z()({},e,{[n]:s})},THEME_UPLOAD_CLEAR:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)},THEME_UPLOAD_START:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)},THEME_TRANSFER_INITIATE_REQUEST:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)}}),Nd=Object(Fe.c)({},{THEME_UPLOAD_PROGRESS:(e,t)=>{let n=t.siteId,s=t.loaded;return Z()({},e,{[n]:s})},THEME_TRANSFER_INITIATE_PROGRESS:(e,t)=>{let n=t.siteId,s=t.loaded;return Z()({},e,{[n]:s})},THEME_UPLOAD_CLEAR:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)},THEME_UPLOAD_START:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)},THEME_TRANSFER_INITIATE_REQUEST:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)}}),Ud=Object(Fe.c)({},{THEME_UPLOAD_PROGRESS:(e,t)=>{let n=t.siteId,s=t.total;return Z()({},e,{[n]:s})},THEME_TRANSFER_INITIATE_PROGRESS:(e,t)=>{let n=t.siteId,s=t.total;return Z()({},e,{[n]:s})},THEME_UPLOAD_CLEAR:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)},THEME_UPLOAD_START:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)},THEME_TRANSFER_INITIATE_REQUEST:(e,t)=>{let n=t.siteId;return Object(p.omit)(e,n)}}),wd=Object(Fe.c)({},{THEME_UPLOAD_START:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},THEME_TRANSFER_INITIATE_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},THEME_UPLOAD_CLEAR:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},THEME_UPLOAD_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},THEME_UPLOAD_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},THEME_TRANSFER_STATUS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.status;return Z()({},e,{[n]:"complete"!==s})},THEME_TRANSFER_INITIATE_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},THEME_TRANSFER_STATUS_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}});var Pd=Object(Fe.b)({uploadedThemeId:Ad,uploadError:vd,progressLoaded:Nd,progressTotal:Ud,inProgress:wd});const Dd=Object(Fe.c)({},{THEME_ACTIVATE_SUCCESS:(e,t)=>{let n=t.siteId,s=t.themeStylesheet;return Z()({},e,{[n]:Object(Td.e)(s)})},ACTIVE_THEME_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId,s=t.theme;return Z()({},e,{[n]:s.id})}},{type:"object",patternProperties:{"^\\d+$":{description:"Theme ID",type:"string"}}});const Ld=Object(Fe.c)({},{THEME_ACTIVATE_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},THEME_CLEAR_ACTIVATED:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}});const kd=Object(Fe.c)({},{THEME_REQUEST_FAILURE:(e,t)=>{let n=t.siteId,s=t.themeId,i=t.error;return Z()({},e,{[n]:Z()({},e[n],{[s]:i})})},THEME_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId,s=t.themeId;return Z()({},e,{[n]:Object(p.omit)(e[n],s)})}},{type:"object",patternProperties:{"^(wpcom|wporg|\\d+)$":{type:"object",patternProperties:{"^\\w+$":{type:"object",properties:{path:{type:"string"},method:{type:"string"},name:{type:"string"},statusCode:{type:"number"},status:{type:"number"},message:{type:"string"},error:{type:"string"}}}}}}});const xd=Object(Fe.c)({},{THEMES_REQUEST_FAILURE:(e,t)=>{let n=t.siteId,s=t.query,i=t.error;const r=Object(Td.c)(s,n);return Z()({},e,{[n]:Z()({},e[n],{[r]:i})})},THEMES_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId,s=t.query;const i=Object(Td.c)(s,n);return Z()({},e,{[n]:Object(p.omit)(e[n],i)})}}),Md=(()=>{function e(e,t,n,s){for(var i=arguments.length,r=new Array(i>4?i-4:0),o=4;o<i;o++)r[o-4]=arguments[o];if(!e[t])return s?Z()({},e,{[t]:new jd(null,{itemKey:"id"})[n](...r)}):e;const a=e[t][n](...r);return a===e[t]?e:Z()({},e,{[t]:a})}return Object(Fe.c)({},{THEMES_REQUEST_SUCCESS:(t,n)=>{let s=n.siteId,i=n.query;return e(t,s,"receive",!0,n.themes,{query:i,found:n.found,patch:!0})},THEME_DELETE_SUCCESS:(t,n)=>{return e(t,n.siteId,"removeItem",!1,n.themeId)},SERIALIZE:e=>{const t=Object(p.mapValues)(e,e=>{return{data:e.data,options:e.options}});return t._timestamp=Date.now(),t},DESERIALIZE:e=>{if(e._timestamp&&e._timestamp+864e5<Date.now())return{};const t=Object(p.omit)(e,"_timestamp");return Object(p.mapValues)(t,e=>{let t=e.data,n=e.options;return new jd(t,n)})}},Id)})(),Fd=Object(Fe.c)({},{THEMES_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId,s=t.query;return Z()({},e,{[n]:s})}}),Gd=Object(Fe.c)({},{THEME_PREVIEW_OPTIONS:(e,t)=>{return{primary:t.primary,secondary:t.secondary}}}),Vd=Object(Fe.c)(null,{THEME_PREVIEW_STATE:(e,t)=>{return t.themeId}}),qd=Object(Fe.c)({},{THEME_FILTERS_ADD:(e,t)=>{return t.filters}},{type:"object",patternProperties:{"^[\\w-]+$":{title:"Taxonomy",type:"object",patternProperties:{"^\\w+$":{title:"Term",type:"object",properties:{name:{type:"string"},description:{type:"string"}}}},uniqueItems:!0}},additionalProperties:!1});var Hd=Object(Fe.b)({queries:Md,queryRequests:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEMES_REQUEST":case"THEMES_REQUEST_SUCCESS":case"THEMES_REQUEST_FAILURE":const n=Object(Td.c)(t.query,t.siteId);return Object.assign({},e,{[n]:"THEMES_REQUEST"===t.type})}return e},queryRequestErrors:xd,lastQuery:Fd,themeInstalls:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_INSTALL":case"THEME_INSTALL_SUCCESS":case"THEME_INSTALL_FAILURE":return Object.assign({},e,{[t.siteId]:Object.assign({},e[t.siteId],{[t.themeId]:"THEME_INSTALL"===t.type})})}return e},themeRequests:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_REQUEST":case"THEME_REQUEST_SUCCESS":case"THEME_REQUEST_FAILURE":return Object.assign({},e,{[t.siteId]:Object.assign({},e[t.siteId],{[t.themeId]:"THEME_REQUEST"===t.type})})}return e},themeRequestErrors:kd,activeThemes:Dd,activeThemeRequests:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ACTIVE_THEME_REQUEST":case"ACTIVE_THEME_REQUEST_SUCCESS":case"ACTIVE_THEME_REQUEST_FAILURE":return Z()({},e,{[t.siteId]:"ACTIVE_THEME_REQUEST"===t.type})}return e},activationRequests:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_ACTIVATE":case"THEME_ACTIVATE_SUCCESS":case"THEME_ACTIVATE_FAILURE":return Z()({},e,{[t.siteId]:"THEME_ACTIVATE"===t.type})}return e},completedActivationRequests:Ld,themesUI:Cd,uploadTheme:Pd,themePreviewOptions:Gd,themePreviewVisibility:Vd,themeFilters:qd});const Qd=Object(Fe.c)({},{TIMEZONES_RECEIVE:(e,t)=>t.rawOffsets},{type:"object",additionalProperties:!1,patternProperties:{"^UTC[-+][0-9.]+$":{type:"string"}}}),Bd=Object(Fe.c)({},{TIMEZONES_RECEIVE:(e,t)=>t.labels},{type:"object",additionalProperties:!1,patternProperties:{"^[A-Z][a-zA-Z/_-]+$":{type:"string"}}}),Yd=Object(Fe.c)({},{TIMEZONES_RECEIVE:(e,t)=>t.byContinents},{type:"object",additionalProperties:!1,patternProperties:{"^[A-Z][a-zA-Z/_-]+$":{type:"array",items:{type:"string"}}}});var Wd=Object(Fe.b)({rawOffsets:Qd,labels:Bd,byContinents:Yd});const Kd=["calypso_themeshowcase_theme_click"],zd={EDITOR_PASTE_EVENT:"EDITOR_PASTE_EVENT",FIRST_VIEW_HIDE:"FIRST_VIEW_HIDE",GUIDED_TOUR_UPDATE:"GUIDED_TOUR_UPDATE",THEMES_REQUEST_SUCCESS:"THEMES_REQUEST_SUCCESS",PREVIEW_IS_SHOWING:"PREVIEW_IS_SHOWING",ROUTE_SET:"ROUTE_SET",SITE_SETTINGS_RECEIVE:"SITE_SETTINGS_RECEIVE"},Jd=Object(p.overSome)([e=>Object(p.has)(zd,e.type)&&(!Object(p.isFunction)(zd[e.type])||zd[e.type](e)),e=>Object(p.get)(e,"meta.analytics",[]).some(e=>Object(p.includes)(Kd,e.payload.name))]);var Zd=Object(Fe.e)("transactionType",Object(Fe.b)({app:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"BILLING_TRANSACTIONS_FILTER_SET_APP"===t.type?t.app:e},date:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{month:null,operator:null},t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.month,i=t.operator;return"BILLING_TRANSACTIONS_FILTER_SET_MONTH"===n?{month:s,operator:i}:e},page:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"BILLING_TRANSACTIONS_FILTER_SET_PAGE":return t.page;case"BILLING_TRANSACTIONS_FILTER_SET_APP":case"BILLING_TRANSACTIONS_FILTER_SET_MONTH":case"BILLING_TRANSACTIONS_FILTER_SET_QUERY":return 1;default:return e}},query:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;return"BILLING_TRANSACTIONS_FILTER_SET_QUERY"===t.type?t.query:e}})),$d=n("./client/state/ui/comments/utils.js");const Xd=(e,t,n)=>{const s=n.page,i=void 0===s?1:s,r=n.postId||"site",o=Object($d.a)(n),a=Object(p.get)(e,r,{}),c=Object(p.get)(a,o,{});return Z()({},e,{[r]:Z()({},a,{[o]:Z()({},c,{[i]:t})})})},ep=function(e,t){return e<t?1:e>t?-1:0},tp=function(e,t){return e<t?-1:e>t?1:0};var np=Object(Fe.b)({queries:Object(Fe.e)("siteId",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENTS_CHANGE_STATUS":case"COMMENTS_DELETE":const n=t.refreshCommentListQuery?t.refreshCommentListQuery:Object(p.get)(t,"meta.comment.commentsListQuery");if(!n)return e;const s=n.page,i=n.postId,r=n.status,o=i||"site",a=Object($d.a)(n),c=Object(p.get)(e,[o,a,s]);if("COMMENTS_CHANGE_STATUS"===t.type&&"all"===r&&Object(p.includes)(c,t.commentId)&&Object(p.includes)(["approved","unapproved"],t.status))return e;if(r===t.status||"all"===r&&Object(p.includes)(["approved","unapproved"],t.status)){const s=[t.commentId].concat(c).sort("DESC"===n.order?ep:tp);return Xd(e,s,n)}return Xd(e,Object(p.without)(c,t.commentId),n);case"COMMENTS_QUERY_UPDATE":return Object(p.isUndefined)(Object(p.get)(t,"query.page"))?e:Xd(e,Object(p.map)(t.comments,"ID"),t.query);default:return e}}),pendingActions:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENTS_CHANGE_STATUS":case"COMMENTS_DELETE":const n=Object(cn.c)(t);return Object(p.has)(t,"meta.dataLayer.trackRequest")&&-1===e.indexOf(n)?[...e,n]:e;case"COMMENTS_LIST_REQUEST":case"COMMENTS_TREE_SITE_REQUEST":return[];default:return e}}});const sp=Object(Fe.c)({},{DROPZONE_SHOW:(e,t)=>{let n=t.dropZoneName;return Z()({},e,{[n]:!0})},DROPZONE_HIDE:(e,t)=>{let n=t.dropZoneName;return Z()({},e,{[n]:!1})}});var ip=Object(Fe.b)({isVisible:sp}),rp=n("./client/state/ui/editor/image-editor/reducer.js");var op=Object(Fe.b)({showError:(e,t)=>{return"VIDEO_EDITOR_SHOW_ERROR"===t.type},uploadProgress:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.percentage;return"VIDEO_EDITOR_SHOW_UPLOAD_PROGRESS"===n?s:"VIDEO_EDITOR_SET_POSTER_URL"===n?null:e},url:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.posterUrl;return"VIDEO_EDITOR_SET_POSTER_URL"===n?s:e}});var ap=Object(Fe.b)({siteId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_LAST_DRAFT_SET":return t.siteId}return e},postId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_LAST_DRAFT_SET":return t.postId}return e}});const cp="name",lp="email",up="text",dp="textarea",pp="url",mp={fields:[{label:Object(T.translate)("Name"),type:cp,required:!0},{label:Object(T.translate)("Email"),type:lp,required:!0},{label:Object(T.translate)("Website"),type:pp},{label:Object(T.translate)("Comment"),type:dp,required:!0}]},_p={label:Object(T.translate)("Text"),type:up,isExpanded:!0},Ep=Object(p.cloneDeep)(mp);var bp=Object(Fe.b)({initial:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_INIT_RAW_CONTENT":return t.content;case"EDITOR_RESET":case"EDITOR_RESET_RAW_CONTENT":return null;case"EDITOR_EDIT_RAW_CONTENT":if(null===e)return t.content}return e},current:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_RESET":case"EDITOR_RESET_RAW_CONTENT":return null;case"EDITOR_EDIT_RAW_CONTENT":return t.content}return e}});var gp=Object(Fe.b)({postId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_START":return t.postId;case"EDITOR_STOP":return null;case"POST_SAVE_SUCCESS":return e===t.postId?t.savedPost.ID:e}return e},loadingError:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_RESET":return Object(p.get)(t,"loadingError",null)}return e},isLoading:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_RESET":return Object(p.get)(t,"isLoading",!1)}return e},isAutosaving:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"EDITOR_AUTOSAVE":return!0;case"EDITOR_RESET":case"EDITOR_AUTOSAVE_RESET":case"EDITOR_AUTOSAVE_SUCCESS":case"EDITOR_AUTOSAVE_FAILURE":return!1}return e},autosavePreviewUrl:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_RESET":case"EDITOR_AUTOSAVE_RESET":return null;case"EDITOR_AUTOSAVE_SUCCESS":return t.autosave.preview_URL}return e},imageEditor:rp.a,videoEditor:op,lastDraft:ap,contactForm:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Ep,t=arguments.length>1?arguments[1]:void 0;const n=t.index,s=t.field,i=t.settings;switch(t.type){case"EDITOR_CONTACT_FORM_CLEAR":e=Object(p.cloneDeep)(mp);break;case"EDITOR_CONTACT_FORM_LOAD":e=Object(p.cloneDeep)(t.contactForm);break;case"EDITOR_CONTACT_FORM_FIELD_ADD":e=Object.assign({},e,{fields:[...e.fields,_p]});break;case"EDITOR_CONTACT_FORM_FIELD_REMOVE":(e=Object(p.cloneDeep)(e)).fields.splice(n,1);break;case"EDITOR_CONTACT_FORM_FIELD_UPDATE":(e=Object(p.cloneDeep)(e)).fields[n]=Object.assign({},e.fields[n],s);const r=e.fields[n];"radio"!==r.type&&"select"!==r.type?delete r.options:void 0===r.options&&(r.options=y.a.translate("Option One,Option Two",{comment:"Default options for drop down lists and radio buttons. Must be separated by a comma without extra spaces."}));break;case"EDITOR_CONTACT_FORM_SETTINGS_UPDATE":e=Object(p.merge)({},e,i)}return e},saveBlockers:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"EDITOR_SAVE_BLOCK":return Object(p.includes)(e,t.key)?e:[...e,t.key];case"EDITOR_SAVE_UNBLOCK":return Object(p.includes)(e,t.key)?Object(p.without)(e,t.key):e;case"EDITOR_RESET":return e.length>0?[]:e}return e},rawContent:bp});const hp=Object(Fe.c)("week",{GOOGLE_MY_BUSINESS_STATS_CHANGE_INTERVAL:(e,t)=>{return t.interval}});var fp=Object(Fe.e)("siteId",Object(Fe.b)({statsInterval:Object(Fe.e)("statType",hp)}));var Sp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"GUIDED_TOUR_UPDATE":case"GUIDED_TOUR_PAUSE":case"GUIDED_TOUR_RESUME":return Object.assign({},e,Object(p.omit)(t,"type"))}return e};var Op=Object(Fe.b)({isShowing:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;return"GUTENBERG_OPT_IN_DIALOG_IS_SHOWING"===t.type?t.isShowing:e}});var jp=n("./client/lib/i18n-utils/utils.js");const Tp=Object(Fe.c)(null,{LOCALE_SET:(e,t)=>t.localeSlug},{type:["string","null"]}),yp=Object(Fe.c)(null,{LOCALE_SET:(e,t)=>t.localeVariant||e},{type:["string","null"]}),Ip=Object(Fe.c)(null,{LOCALE_SET:(e,t)=>{const n=t.localeSlug;if(!n)return null;const s=Object(jp.c)(n);return s?Boolean(s.rtl):null}},{type:["boolean","null"]});var Rp=Object(Fe.b)({localeSlug:Tp,localeVariant:yp,isRtl:Ip});const Cp={current:"content",next:null};const Ap=Object(Fe.c)(null,{MEDIA_MODAL_VIEW_SET:(e,t)=>t.view});var vp=Object(Fe.b)({view:Ap});const Np=Object(Fe.c)(!1,{NPS_SURVEY_DIALOG_IS_SHOWING:(e,t)=>{let n=t.isShowing;return void 0!==n?n:e}});var Up=Object(Fe.b)({isNpsSurveyDialogShowing:Np});const wp=Object(Fe.c)(null,{ROUTE_SET:(e,t)=>{let n=t.path,s=t.query;return Object(p.startsWith)(n,"/log-in")?s.client_id?Number(s.client_id):e:(Object(p.startsWith)(n,"/start/wpcc")||Object(p.startsWith)(n,"/start/crowdsignal"))&&s.oauth2_client_id?Number(s.oauth2_client_id):e}});var Pp=Object(Fe.b)({currentClientId:wp}),Dp=n("./client/state/ui/payment/reducer.js");const Lp={postIdWithActiveSharePanel:null,postIdWithActiveLikesPopover:null,isMultiSelectEnabled:!1,selectedPosts:[]};var kp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Lp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"POST_TYPE_LIST_MULTI_SELECTION_MODE_TOGGLE":return Z()({},e,{isMultiSelectEnabled:!e.isMultiSelectEnabled,selectedPosts:e.isMultiSelectEnabled?e.selectedPosts:[]});case"POST_TYPE_LIST_SELECTION_TOGGLE":return e.selectedPosts.indexOf(t.postGlobalId)>-1?Z()({},e,{selectedPosts:Object(p.without)(e.selectedPosts,t.postGlobalId)}):Z()({},e,{selectedPosts:[...e.selectedPosts,t.postGlobalId]});case"ROUTE_SET":return Z()({},e,{isMultiSelectEnabled:!1,postIdWithActiveLikesPopover:null,selectedPosts:[]});case"POST_TYPE_LIST_LIKES_POPOVER_HIDE":return Z()({},e,{postIdWithActiveLikesPopover:null});case"POST_TYPE_LIST_LIKES_POPOVER_TOGGLE":return e.postIdWithActiveLikesPopover===t.postGlobalId?Z()({},e,{postIdWithActiveLikesPopover:null}):Z()({},e,{postIdWithActiveLikesPopover:t.postGlobalId});case"POST_TYPE_LIST_SHARE_PANEL_HIDE":return Z()({},e,{postIdWithActiveSharePanel:null});case"POST_TYPE_LIST_SHARE_PANEL_TOGGLE":return e.postIdWithActiveSharePanel===t.postGlobalId?Z()({},e,{postIdWithActiveSharePanel:null}):Z()({},e,{postIdWithActiveSharePanel:t.postGlobalId})}return e};var xp=Object(Fe.b)({currentPreviewSiteId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREVIEW_SITE_SET":return t.siteId}return e},currentPreviewUrl:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"PREVIEW_URL_SET":return t.url;case"PREVIEW_URL_CLEAR":return null}return e}});var Mp=Object(Fe.b)({isListsOpen:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"READER_SIDEBAR_LISTS_TOGGLE":return!e}return e},isTagsOpen:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"READER_SIDEBAR_TAGS_TOGGLE":return!e}return e}}),Fp=Object(Fe.c)({},{READER_EXPAND_CARD:(e,t)=>{if(!t.payload.postKey)return e;const n=t.payload.postKey;return Z()({},e,{[Object(Pc.c)(n)]:!0})},READER_RESET_CARD_EXPANSIONS:()=>({})});var Gp=Object(Fe.b)({sidebar:Mp,cardExpansions:Fp,currentStream:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return t&&"READER_VIEW_STREAM"===t.type?t.streamKey:e}});const Vp={initial:"",current:"",previous:""};var qp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Vp,t=arguments.length>1?arguments[1]:void 0;const n=t.path;switch(t.type){case"ROUTE_SET":return{initial:""===e.initial?n:e.initial,current:n,previous:""===e.current?"":e.current}}return e};const Hp=e=>Z()({},e,{_timestamp:Date.now()}),Qp=(e,t)=>!1===e?Hp(t):e,Bp=(e,t)=>((e,t)=>Object(p.isEqual)(Object(p.omit)(e,"_timestamp"),Object(p.omit)(t,"_timestamp")))(e,t)?e:Hp(t),Yp={initial:!1,current:!1,previous:!1};var Wp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Yp,t=arguments.length>1?arguments[1]:void 0;const n=t.query;switch(t.type){case"ROUTE_SET":return{initial:Qp(e.initial,n),current:Bp(e.current,n),previous:!1!==e.current&&e.current}}return e};var Kp=Object(Fe.b)({path:qp,query:Wp});const zp={active:!1,isDialogVisible:!1,result:!1};var Jp=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:zp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"THEME_SETUP_RESULT":return Z()({},e,{active:!1,result:t.data});case"THEME_SETUP_REQUEST":return Z()({},e,{active:!0,result:!1});case"THEME_SETUP_TOGGLE_DIALOG":return Z()({},e,{isDialogVisible:!e.isDialogVisible,result:!1})}return e};const Zp=Object(Fe.c)(!1,{SELECTED_SITE_SET:()=>!0});const $p=Object(Fe.c)(!1,{PREVIEW_IS_SHOWING:(e,t)=>{let n=t.isShowing;return void 0!==n?n:e}});var Xp=Object(Fe.b)({actionLog:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;return Jd(t)?((e,t)=>t?Object(p.takeRight)([...e,t],50):e)(e,(e=>Z()({},e,{timestamp:Date.now()}))(t)):e},billingTransactions:Zd,comments:np,dropZone:ip,editor:gp,googleMyBusiness:fp,guidedTour:Sp,gutenbergOptInDialog:Op,hasSidebar:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SECTION_SET":return void 0!==t.hasSidebar?t.hasSidebar:e}return e},isLoading:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SECTION_SET":return void 0!==t.isLoading?t.isLoading:e}return e},isNotificationsOpen:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return"NOTIFICATIONS_PANEL_TOGGLE"===(arguments.length>1?arguments[1]:void 0).type?!e:e},isPreviewShowing:$p,language:Rp,layoutFocus:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Cp,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LAYOUT_FOCUS_SET":return t.area===e.current?e:Object.assign({},e,{current:t.area});case"LAYOUT_NEXT_FOCUS_SET":return t.area===e.next?e:Object.assign({},e,{next:t.area});case"LAYOUT_NEXT_FOCUS_ACTIVATE":let n=e.next;return n||"content"===e.current||(n="content"),n?Object.assign({},e,{current:n,next:null}):e}return e},masterbarVisibility:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.isVisible;return"MASTERBAR_TOGGLE_VISIBILITY"===n?s:e},mediaModal:vp,npsSurveyNotice:Up,oauth2Clients:Pp,payment:Dp.a,postTypeList:kp,preview:xp,reader:Gp,route:Kp,section:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SECTION_SET":return void 0!==t.section?t.section:e}return e},selectedSiteId:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SELECTED_SITE_SET":return t.siteId||null}return e},siteSelectionInitialized:Zp,themeSetup:Jp}),em=Object(Fe.c)({},{USER_DEVICES_ADD:(e,t)=>{let n=t.devices;return Z()({},e,n)}});const tm=Object(Fe.c)(null,{USER_PROFILE_LINKS_RECEIVE:(e,t)=>{return t.profileLinks},USER_PROFILE_LINKS_DELETE_SUCCESS:(e,t)=>{let n=t.linkSlug;return Object(p.reject)(e,{link_slug:n})}}),nm=Object(Fe.c)({},{USER_PROFILE_LINKS_ADD_SUCCESS:()=>({}),USER_PROFILE_LINKS_ADD_DUPLICATE:(e,t)=>{return{duplicate:t.profileLinks}},USER_PROFILE_LINKS_ADD_MALFORMED:(e,t)=>{return{malformed:t.profileLinks}},USER_PROFILE_LINKS_ADD_FAILURE:(e,t)=>{return{error:t.error}},USER_PROFILE_LINKS_DELETE_SUCCESS:()=>({}),USER_PROFILE_LINKS_DELETE_FAILURE:(e,t)=>{return{error:t.error}},USER_PROFILE_LINKS_RESET_ERRORS:()=>({})});var sm=Object(Fe.b)({items:tm,errors:nm});var im=Object(Fe.b)({settings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.settingValues;return"USER_SETTINGS_UPDATE"===n?Z()({},e,s):e},unsavedSettings:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_SETTINGS_UNSAVED_CLEAR":return t.settingNames?Object(p.omit)(e,t.settingNames):{};case"USER_SETTINGS_UNSAVED_SET":return e[t.settingName]===t.value?e:Z()({},e,{[t.settingName]:t.value});case"USER_SETTINGS_UNSAVED_REMOVE":return Object(p.omit)(e,t.settingName);default:return e}}});const rm=Object(Fe.c)({},{USER_SUGGESTIONS_REQUEST:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!0})},USER_SUGGESTIONS_REQUEST_FAILURE:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})},USER_SUGGESTIONS_REQUEST_SUCCESS:(e,t)=>{let n=t.siteId;return Z()({},e,{[n]:!1})}}),om=Object(Fe.c)({},{USER_SUGGESTIONS_RECEIVE:(e,t)=>{let n=t.siteId,s=t.suggestions;return Z()({},e,{[n]:s})}},{type:"object",additionalProperties:!1,patternProperties:{"^\\d+$":{type:"array",items:{type:"object",required:["ID","user_login"],properties:{ID:{type:"integer"},display_name:{type:"string"},image_URL:{type:"string"},source:{type:"array",items:{type:"string"}},user_login:{type:"string"}}}}}});var am=Object(Fe.b)({requesting:rm,items:om});var cm=Object(Fe.b)({items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"CURRENT_USER_RECEIVE":return Object.assign({},e,{[t.user.ID]:t.user})}return e},suggestions:am});var lm=Object(Fe.b)({requesting:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WORDADS_SITE_APPROVE_REQUEST":case"WORDADS_SITE_APPROVE_REQUEST_SUCCESS":case"WORDADS_SITE_APPROVE_REQUEST_FAILURE":return Object.assign({},e,{[t.siteId]:"WORDADS_SITE_APPROVE_REQUEST"===t.type})}return e},requestSuccess:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WORDADS_SITE_APPROVE_REQUEST":case"WORDADS_SITE_APPROVE_REQUEST_DISMISS_SUCCESS":case"WORDADS_SITE_APPROVE_REQUEST_FAILURE":return Object.assign({},e,{[t.siteId]:null});case"WORDADS_SITE_APPROVE_REQUEST_SUCCESS":return Object.assign({},e,{[t.siteId]:!0})}return e},requestErrors:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"WORDADS_SITE_APPROVE_REQUEST_FAILURE":return Object.assign({},e,{[t.siteId]:t.error});case"WORDADS_SITE_APPROVE_REQUEST":case"WORDADS_SITE_APPROVE_REQUEST_SUCCESS":case"WORDADS_SITE_APPROVE_REQUEST_DISMISS_ERROR":return Object.assign({},e,{[t.siteId]:null})}return e}});var um=Object(Fe.e)("siteId",(e,t)=>{switch(t.type){case"WORDADS_EARNINGS_RECEIVE":return t.earnings;default:return e}}),dm=n("./client/state/wordads/status/schema.js");const pm=Object(Fe.e)("siteId",(e,t)=>{switch(t.type){case"WORDADS_STATUS_RECEIVE":return t.status;default:return e}});pm.schema=dm.a;var mm=pm,_m=Object(Fe.b)({approve:lm,earnings:um,status:mm});const Em={account:qe,accountRecovery:lt,activePromotions:dt,activityLog:pt.a,analyticsTracking:mt,application:Et,applicationPasswords:gt,automatedTransfer:It,atomicTransfer:Nt,billingTransactions:Mt,checklist:Vt,comments:qt.a,componentsUsageStats:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isFetching:!1,componentsUsageStats:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMPONENTS_USAGE_STATS_REQUEST":return Object.assign({},e,{isFetching:!0});case"COMPONENTS_USAGE_STATS_RECEIVE":return Object.assign({},e,{isFetching:!1,componentsUsageStats:t.componentsUsageStats});default:return e}},connectedApplications:Qt,countries:Yt,countryStates:zt,currentUser:an,dataRequests:cn.d,documentHead:mn,domains:Rn,emailForwarding:Pn,form:Me.a,googleMyBusiness:kn,gsuiteUsers:Gn,happinessEngineers:Hn,happychat:ss,help:Es,httpData:Ge.e,i18n:hs,immediateLogin:fs,importerNux:Is,imports:xs,inlineHelp:Qs,inlineSupportArticle:Bs,invites:Zs,jetpack:fi,jetpackConnect:Ii,jetpackProductInstall:Ri,jetpackRemoteInstall:Ni,jetpackSync:Ui,jitm:Pi,login:or,media:Tr,memberships:Gr,mySites:Wr,notices:Jr,notificationSettings:no,notificationsUnseenCount:so.b,npsSurvey:po,oauth2Clients:mo,orderTransactions:go,pageTemplates:So,plans:jo,plugins:Vo,postFormats:Qo,postTypes:Ko,posts:ga,preferences:ja,productsList:Ia,purchases:Aa,pushNotifications:xa,reader:Yc,receipts:Wc.a,rewind:Kc,selectedEditor:zc,sharing:hl,shortcodes:yl,signup:Kl,simplePayments:Xl,siteAddressChange:su,siteKeyrings:au,siteRoles:uu,siteSettings:hu,sites:Ju,stats:ld,storedCards:dd,support:pd.c,terms:fd,themes:Hd,timezones:Wd,ui:Xp,userDevices:em,userProfileLinks:sm,userSettings:im,users:cm,wordads:_m};f.a.isEnabled("mailchimp")&&(Em.mailchimp=Br);var bm=Object(Fe.b)(Em);const gm={actionHistory:[],shouldRecordActions:!0,historySize:100,watchPredicate:null},hm=e=>{if(e instanceof RegExp)return t=>{let n=t.type;return e.test(n)};if("string"==typeof e)return t=>{return t.type===e};if("function"==typeof e)return e;throw new TypeError("provide string or RegExp matching `action.type` or a predicate function")},fm={clear:()=>void(gm.actionHistory=[]),filter:e=>gm.actionHistory.filter(hm(e)),setSize:e=>void(gm.historySize=e),start:()=>void(gm.shouldRecordActions=!0),stop:()=>void(gm.shouldRecordActions=!1),unwatch:()=>void(gm.watchPredicate=null),watch:e=>void(gm.watchPredicate=e?hm(e):null)};Object.defineProperty(fm,"history",{enumerable:!0,get:()=>gm.actionHistory});var Sm=e=>(function(){const t=e(...arguments);return"undefined"==typeof window?t:(Object.assign(window,{actionLog:fm}),Z()({},t,{dispatch:e=>(gm.shouldRecordActions&&(e=>{const t=gm.actionHistory,n=gm.historySize,s="function"==typeof e?{type:"thunk (hidden)"}:{};t.push(Z()({},e,s,{meta:Z()({},e.meta,{timestamp:Date.now()})})),t.length>2*n&&(gm.actionHistory=t.slice(-1*n))})(e),"function"==typeof gm.watchPredicate&&"function"==typeof console.log&&gm.watchPredicate(e)&&console.log("Watched action observed:\n%o",e),t.dispatch(e))}))});var Om=e=>(function(){const t=e(...arguments);return"undefined"!=typeof window&&(Object.assign(window,t),Object.defineProperty(window,"state",{enumerable:!0,get:t.getState})),t}),jm=n("./client/state/activity-log/utils.js"),Tm=n("./client/state/selectors/get-activity-log-filter.js");var ym=e=>t=>n=>{switch(n.type){case"ACTIVITY_LOG_FILTER_SET":case"ACTIVITY_LOG_FILTER_UPDATE":const s=t(n);if(Object(p.get)(n,["meta","skipUrlUpdate"])||!/^[\/]activity-log[\/]/.test(document.location.pathname))return s;const i=Object(Tm.a)(e.getState(),n.siteId),r=Object(jm.b)(i);return c()(Object(Ac.a)(r,window.location.pathname+window.location.hash)),s;case"NAVIGATE":return n.path&&c()(n.path),t(n);case"HISTORY_REPLACE":return n.path&&(n.saveContext?c.a.replace(n.path,null,!1,!1):c.a.replace(n.path)),t(n);default:return t(n)}},Im=n("./client/state/posts/selectors.js"),Rm=n("./client/state/sites/selectors.js"),Cm=n("./client/state/invites/selectors.js"),Am=n("./client/state/posts/actions.js"),vm=n("./client/me/purchases/paths.js"),Nm=n("./client/state/account-recovery/settings/selectors.js");const Um={"infinite-scroll":{JETPACK_MODULE_ACTIVATE_SUCCESS:Object(T.translate)("Infinite scroll is now on."),JETPACK_MODULE_DEACTIVATE_SUCCESS:Object(T.translate)("Infinite scroll is now off."),JETPACK_MODULE_ACTIVATE_FAILURE:Object(T.translate)("Infinite scroll could not be switched on."),JETPACK_MODULE_DEACTIVATE_FAILURE:Object(T.translate)("Infinite scroll could not be switched off.")}},wm=e=>{let t=e.type,n=e.moduleSlug;if(e.silent)return null;const s={duration:1e4};let i,r=Um[n]&&Um[n][t];switch(t){case"JETPACK_MODULE_ACTIVATE_SUCCESS":case"JETPACK_MODULE_DEACTIVATE_SUCCESS":r=r||Object(T.translate)("Settings saved successfully!"),i="success";break;case"JETPACK_MODULE_ACTIVATE_FAILURE":case"JETPACK_MODULE_DEACTIVATE_FAILURE":r=r||Object(T.translate)("There was a problem saving your changes. Please try again."),i="error"}return r?"success"===i?Object(I.f)(r,s):"error"===i?Object(I.b)(r,s):void 0:null},Pm=e=>{let t=e.connection;return Object(I.f)(Object(T.translate)("The %(service)s account was successfully disconnected.",{args:{service:t.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})},Dm=e=>{let t=e.error;return Object(I.b)(Object(T.translate)("The %(service)s account was unable to be disconnected.",{args:{service:t.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})},Lm={ACCOUNT_RECOVERY_SETTINGS_FETCH_FAILED:()=>Object(I.b)(Object(T.translate)("An error occurred while fetching your account recovery settings.")),ACCOUNT_RECOVERY_SETTINGS_UPDATE_SUCCESS:e=>{let t=e.target;return(e,n)=>e(Object(I.f)(((e,t)=>{switch(e){case"phone":return null==Object(Nm.b)(t())?Object(T.translate)("Successfully added. Please check your phone for the validation code."):Object(T.translate)("Successfully updated. Please check your phone for the validation code.");case"email":return Object(Nm.a)(t())?Object(T.translate)("Successfully updated. Please check your mailbox for the validation email."):Object(T.translate)("Successfully added. Please check your mailbox for the validation email.");default:return Object(T.translate)("Successfully updated the recovery option.",{comment:"Recovery option: generic term for methods of account recovery, i.e emails or sms."})}})(t,n)))},ACCOUNT_RECOVERY_SETTINGS_UPDATE_FAILED:e=>{let t=e.target;return Object(I.b)((e=>{switch(e){case"phone":return Object(T.translate)("An error occurred while updating your account recovery phone number.");case"email":return Object(T.translate)("An error occurred while updating your account recovery email.");default:return Object(T.translate)("An error occurred while updating your account recovery options.",{comment:"Recovery option: generic term for methods of account recovery, i.e emails or sms."})}})(t))},ACCOUNT_RECOVERY_SETTINGS_DELETE_SUCCESS:e=>{let t=e.target;return Object(I.f)((e=>{switch(e){case"phone":return Object(T.translate)("Successfully removed recovery SMS number.");case"email":return Object(T.translate)("Successfully removed recovery email address.");default:return Object(T.translate)("Successfully removed the recovery option.",{comment:"Recovery option: generic term for methods of account recovery, i.e emails or sms."})}})(t))},ACCOUNT_RECOVERY_SETTINGS_DELETE_FAILED:e=>{let t=e.target;return Object(I.b)((e=>{switch(e){case"phone":return Object(T.translate)("An error occurred while deleting your account recovery phone number.");case"email":return Object(T.translate)("An error occurred while deleting your account recovery email.");default:return Object(T.translate)("An error occurred while deleting your account recovery options.",{comment:"Recovery option: generic term for methods of account recovery, i.e emails or sms."})}})(t))},ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION_SUCCESS:e=>{let t=e.target;return Object(I.f)((e=>{switch(e){case"phone":return Object(T.translate)("The validation code has been resent successfully. Please check your phone.");case"email":return Object(T.translate)("The validation email has been resent successfully. Please check your mailbox.");default:return Object(T.translate)("The validation has been resent successfully.")}})(t))},ACCOUNT_RECOVERY_SETTINGS_RESEND_VALIDATION_FAILED:e=>{let t=e.target;return Object(I.b)((e=>{switch(e){case"phone":return Object(T.translate)("We've encountered a problem sending you the validation code. Please try again later.");case"email":return Object(T.translate)("We've encountered a problem sending you the validation email. Please try again later.");default:return Object(T.translate)("We've encountered a problem. Please try again later.")}})(t))},ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_SUCCESS:()=>Object(I.f)(Object(T.translate)("Your recovery SMS number has been validated successfully.")),ACCOUNT_RECOVERY_SETTINGS_VALIDATE_PHONE_FAILED:()=>Object(I.b)(Object(T.translate)("There was a problem validating your recovery SMS number. Please try again later.")),BILLING_RECEIPT_EMAIL_SEND_FAILURE:()=>Object(I.b)(Object(T.translate)("There was a problem sending your receipt. Please try again later or contact support.")),BILLING_RECEIPT_EMAIL_SEND_SUCCESS:()=>Object(I.f)(Object(T.translate)("Your receipt was sent by email successfully.")),BILLING_TRANSACTION_REQUEST_FAILURE:e=>{let t=e.transactionId,n=e.error;const s="transaction-fetch-".concat(t);return"invalid_receipt"===n.error?Object(I.b)(Object(T.translate)("Sorry, we couldn't find receipt #%s.",{args:t}),{id:s,displayOnNextPage:!0,duration:5e3}):Object(I.b)(Object(T.translate)("Sorry, we weren't able to load the requested receipt."),{id:s,displayOnNextPage:!0,button:Object(T.translate)("Try again"),href:Object(vm.d)(t)})},GRAVATAR_RECEIVE_IMAGE_FAILURE:e=>Object(I.b)(e.errorMessage),GRAVATAR_UPLOAD_REQUEST_FAILURE:()=>Object(I.b)(Object(T.translate)("Hmm, your new Gravatar was not saved. Please try uploading again.")),GRAVATAR_UPLOAD_REQUEST_SUCCESS:()=>Object(I.f)(Object(T.translate)("You successfully uploaded a new Gravatar — looking sharp!")),INVITES_DELETE_REQUEST_SUCCESS:e=>{let t=e.inviteIds;return Object(I.f)(Object(T.translate)("Invite deleted.","Invites deleted.",{count:t.length}),{displayOnNextPage:!0})},INVITES_DELETE_REQUEST_FAILURE:e=>(t,n)=>{for(const s of e.inviteIds){const i=Object(Cm.d)(n(),e.siteId,s);t(Object(I.b)(Object(T.translate)("An error occurred while deleting the invite for %s.",{args:Object(p.truncate)(i.user.email,{length:20})})))}},INVITE_RESEND_REQUEST_FAILURE:()=>Object(I.b)(Object(T.translate)("Invitation failed to resend.")),JETPACK_MODULE_ACTIVATE_SUCCESS:wm,JETPACK_MODULE_DEACTIVATE_SUCCESS:wm,JETPACK_MODULE_ACTIVATE_FAILURE:wm,JETPACK_MODULE_DEACTIVATE_FAILURE:wm,KEYRING_CONNECTION_DELETE:Pm,KEYRING_CONNECTION_DELETE_FAILURE:Dm,POST_DELETE_FAILURE:e=>(t,n)=>{const s=Object(Im.l)(n(),e.siteId,e.postId);let i;i=s?Object(T.translate)('An error occurred while deleting "%s"',{args:[Object(p.truncate)(s.title,{length:24})]}):Object(T.translate)("An error occurred while deleting the post"),t(Object(I.b)(i))},POST_DELETE_SUCCESS:()=>Object(I.f)(Object(T.translate)("Post successfully deleted")),POST_RESTORE_FAILURE:e=>(t,n)=>{const s=Object(Im.l)(n(),e.siteId,e.postId);let i;i=s?Object(T.translate)('An error occurred while restoring "%s"',{args:[Object(p.truncate)(s.title,{length:24})]}):Object(T.translate)("An error occurred while restoring the post"),t(Object(I.b)(i))},POST_RESTORE_SUCCESS:()=>Object(I.f)(Object(T.translate)("Post successfully restored")),POST_SAVE_SUCCESS:e=>{let t=e.post,n=e.savedPost;return e=>{switch(t.status){case"trash":const s="trash_"+n.global_ID;e(Object(I.f)(Object(T.translate)("Post successfully moved to trash."),{id:s,button:Object(T.translate)("Undo"),onClick:()=>{e(Object(I.e)(s)),e(Object(Am.i)(n.site_ID,n.ID))}}));break;case"publish":e(Object(I.f)(Object(T.translate)("Post successfully published")))}}},PUBLICIZE_CONNECTION_CREATE:e=>{let t=e.connection;return Object(I.f)(Object(T.translate)("The %(service)s account was successfully connected.",{args:{service:t.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})},PUBLICIZE_CONNECTION_CREATE_FAILURE:e=>{let t=e.error;return Object(I.b)(t.message||Object(T.translate)("An error occurred while connecting the account.",{context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})},PUBLICIZE_CONNECTION_DELETE:Pm,PUBLICIZE_CONNECTION_DELETE_FAILURE:Dm,PUBLICIZE_CONNECTION_UPDATE:e=>{let t=e.connection;return Object(I.f)(Object(T.translate)("The %(service)s account was successfully updated.",{args:{service:t.label},context:"Sharing: Publicize connection confirmation"}),{id:"publicize"})},PUBLICIZE_CONNECTION_UPDATE_FAILURE:e=>{let t=e.error;return Object(I.b)(Object(T.translate)("The %(service)s account was unable to be updated.",{args:{service:t.label},context:"Sharing: Publicize reconnection confirmation"}),{id:"publicize"})},GUIDED_TRANSFER_HOST_DETAILS_SAVE_SUCCESS:()=>Object(I.f)(Object(T.translate)("Thanks for confirming those details!")),SITE_DELETE:e=>{let t=e.siteId;return(e,n)=>{const s=Object(Rm.o)(n(),t);e(Object(I.f)(Object(T.translate)("%(siteDomain)s is being deleted.",{args:{siteDomain:s}}),{duration:5e3,id:"site-delete"}))}},SITE_DELETE_FAILURE:e=>{let t=e.error;return"active-subscriptions"===t.error?Object(I.b)(Object(T.translate)("You must cancel any active subscriptions prior to deleting your site."),{id:"site-delete",showDismiss:!1,button:Object(T.translate)("Manage Purchases"),href:vm.i}):Object(I.b)(t.message)},SITE_DELETE_RECEIVE:e=>{let t=e.siteId;return(e,n)=>{const s=Object(Rm.o)(n(),t);e(Object(I.f)(Object(T.translate)("%(siteDomain)s has been deleted.",{args:{siteDomain:s}}),{duration:5e3,id:"site-delete"}))}},SITE_MONITOR_SETTINGS_UPDATE_SUCCESS:()=>Object(I.f)(Object(T.translate)("Settings saved successfully!")),SITE_MONITOR_SETTINGS_UPDATE_FAILURE:()=>Object(I.f)(Object(T.translate)("There was a problem saving your changes. Please, try again.")),THEME_DELETE_FAILURE:e=>{let t=e.themeId;return Object(I.b)(Object(T.translate)("Problem deleting %(themeId)s. Check theme is not active.",{args:{themeId:t},context:"Themes: Theme delete failure"}))},THEME_DELETE_SUCCESS:e=>{let t=e.themeName;return Object(I.f)(Object(T.translate)("Deleted theme %(themeName)s.",{args:{themeName:t},context:"Themes: Theme delete confirmation"}),{duration:5e3})},THEME_ACTIVATE_FAILURE:e=>{let t=e.error;return Object(p.includes)(t.error,"theme_not_found")?Object(I.b)(Object(T.translate)("Theme not yet available for this site")):Object(I.b)(Object(T.translate)("Unable to activate theme. Contact support."))}};var km=e=>t=>n=>{const s=t(n);if(!Object(p.get)(n,"meta.notices.skip")&&Lm.hasOwnProperty(n.type)){const t=Lm[n.type](n);t&&e.dispatch(t)}return s},xm=n("./client/state/data-layer/utils.js"),Mm=n("./client/state/data-layer/handler-registry.js"),Fm=n("./client/lib/wp/browser.js");const Gm=o()("calypso:data-layer:remove-duplicate-gets"),Vm=new Map,qm=e=>"GET"===Object(p.get)(e,"method","").toUpperCase(),Hm=e=>{let t=e.path,n=e.apiNamespace,s=e.apiVersion,i=e.query;return JSON.stringify([t,n,s,Object(p.sortBy)(Object(p.toPairs)(i),p.head)])},Qm=(e,t)=>{const n=Math.round(e*Math.pow(2,t-1)/2),s=n+Object(p.random)(0,n);return Object(p.random)(e,3*s)};var Bm=n("./client/state/data-layer/wpcom-http/pipeline/retry-on-failure/policies.js");const Ym=[function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qm;return t=>{const n=t.nextError,s=t.originalRequest,i=t.store.dispatch;if(!n)return t;if(!(e=>"GET"===Object(p.get)(e,"method","").toUpperCase())(s))return t;const r=s.options,o=(void 0===r?{}:r).retryPolicy,a=void 0===o?Bm.a:o,c=a.delay,l=a.maxAttempts,u=a.name,d=Object(p.get)(s,"meta.dataLayer.retryCount",0)+1;return"NO_RETRY"===u||d>l?t:(setTimeout(()=>i(Object(p.merge)(s,{meta:{dataLayer:{retryCount:d}}})),e(c,d)),Z()({},t,{shouldAbort:!0}))}}(),e=>{const t=e.originalRequest;if(!qm(t))return e;const n=Hm(t),s=Vm.get(n);if(!s)return Gm("applyDuplicatesHandler has entered an impossible state! A HTTP request is exiting the http pipeline without having entered it. There must be a bug somewhere"),e;Vm.delete(n);const i={failures:Object(p.unionWith)(e.failures||[],s.failures,p.isEqual),successes:Object(p.unionWith)(e.successes||[],s.successes,p.isEqual)};return Z()({},e,i)}],Wm=[e=>{const t=e.nextRequest;if(!qm(t))return e;if(Object(p.get)(t,"meta.dataLayer.retryCount",0)>0)return e;const n=Hm(t),s=Vm.get(n),i=((e,t)=>({failures:Object(p.unionWith)(e.failures,Object(p.compact)([t.onFailure]),p.isEqual),successes:Object(p.unionWith)(e.successes,Object(p.compact)([t.onSuccess]),p.isEqual)}))(s||{failures:[],successes:[]},t);return Vm.set(n,i),s?Z()({},e,{nextRequest:null}):e}],Km=(e,t)=>!0!==e.shouldAbort?t(e):e,zm=(e,t)=>null!==e.nextRequest?t(e):e,Jm=(e=>(t,n,s,i,r)=>Object(p.pick)(e.reduce(Km,{originalRequest:t,store:n,originalData:s,originalError:i,originalHeaders:r,nextData:s,nextError:i,nextHeaders:r,failures:Object(p.compact)([t.onFailure]),successes:Object(p.compact)([t.onSuccess])}),["failures","nextData","nextError","nextHeaders","successes","shouldAbort"]))(Ym),Zm=(e=>(t,n)=>e.reduce(zm,{originalRequest:t,store:n,nextRequest:t}).nextRequest)(Wm),$m=(e,t)=>({meta:{dataLayer:{data:e,headers:t}}}),Xm=(e,t)=>({meta:{dataLayer:{error:e,headers:t}}});var e_={WPCOM_HTTP_REQUEST:[((e,t)=>(n,s)=>{let i=n.dispatch;const r=e(s,i);if(null===r)return;const o=r.body,a=r.formData,c=r.method,l=r.onProgress,u=r.path,d=r.query,m=void 0===d?{}:d,_=c.toUpperCase(),E=(e=>Object(p.get)({GET:Fm.a.req.get.bind(Fm.a.req),POST:Fm.a.req.post.bind(Fm.a.req)},e,null))(_)(...Object(p.compact)([{path:u,formData:a},Z()({},m),"POST"===_&&o,(e,n,s)=>{const o=t(r,{dispatch:i},n,e,s),a=o.failures,c=o.nextData,l=o.nextError,u=o.nextHeaders,d=o.shouldAbort,p=o.successes;return!0===d?null:l?a.forEach(e=>i(Object(Fe.d)(e,Xm(l,u)))):p.forEach(e=>i(Object(Fe.d)(e,$m(c,u))))}]));"POST"===_&&l&&(E.upload.onprogress=(e=>i(Object(Fe.d)(l,(e=>({meta:{dataLayer:{progress:{total:e.total,loaded:e.loaded}}}}))(e)))))})(Zm,Jm)]},t_=n("./node_modules/superagent/lib/client.js"),n_=n.n(t_);var s_={HTTP_REQUEST:[(e,t)=>{let n=e.dispatch;const s=t.url,i=t.method,r=t.headers,o=void 0===r?[]:r,a=t.queryParams,c=void 0===a?[]:a,l=t.body,u=t.withCredentials,d=t.onSuccess,p=t.onFailure;if(!(e=>e.every(e=>Array.isArray(e)&&2===e.length&&"string"==typeof e[0]&&"string"==typeof e[1]))(o)){const e=new Error("Not all headers were of an array pair: [ 'key', 'value' ]");return void n(Object(Fe.d)(p,Xm(e)))}const m=n_()(i,s);u&&m.withCredentials();const _=c.map(e=>{let t=Jo()(e,2),n=t[0],s=t[1];return encodeURIComponent(n)+"="+encodeURIComponent(s)}).join("&");_.length>0&&m.query(_),o.forEach(e=>{let t=Jo()(e,2),n=t[0],s=t[1];return m.set(n,s)}),m.accept("application/json"),l&&m.send(l),m.then(e=>n(Object(Fe.d)(d,$m(e))),e=>n(Object(Fe.d)(p,Xm(e))))}]};Object(Mm.b)("declarative resource loader",Ge.a),Object(Mm.b)("raw HTTP request loader",s_),Object(Mm.b)("WordPress API request loader",e_);var i_=(e=>t=>n=>s=>{const i=e(s.type);if(!i)return n(s);const r=s.meta;if(r){const e=r.dataLayer;if(e&&!0===e.doBypass)return n(s)}i.forEach(e=>e(t,s)),(e=>{const t=e.meta;if(!t)return!0;const n=t.dataLayer;return!n||!(n.data||n.error||n.headers||n.progress)})(s)&&n(Object(xm.a)(s))})(Mm.a);const r_=e=>(t,n)=>{const s=e(t,n);let i=t;return Object.assign({},s,{addReducer:function(e,t){i=i.addReducer(e,t),this.replaceReducer(i)},getCurrentReducer:function(){return i}})};var o_=n("./client/lib/detect-history-navigation/index.js");const a_=o()("calypso"),c_=e=>{a_("Starting Calypso. Let's do this."),we("Executing Calypso utils."),Object(M.a)()?document.documentElement.classList.add("touch"):document.documentElement.classList.add("notouch"),U(),ue(bm).then(t=>{const s=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:bm;const s="object"==typeof window,i="object"==typeof window&&"function"==typeof window.Audio,r=[ke.a,i_,km,s&&n("./client/state/happychat/middleware.js").default,s&&n("./client/state/happychat/middleware-calypso.js").default,s&&n("./client/state/analytics/middleware.js").analyticsMiddleware,s&&n("./client/state/lib/middleware.js").default,i&&n("./client/state/audio/middleware.js").default,ym].filter(Boolean),o=[r_,s&&window.app&&window.app.isDebug&&Om,Ge.b,Object(xe.a)(...r),s&&window.app&&window.app.isDebug&&Sm,s&&window.devToolsExtension&&window.devToolsExtension()].filter(Boolean);return Object(xe.e)(t,e,Object(xe.d)(...o))}(t,bm);le(s),De(e,s),((e,t)=>{we("Executing Calypso configure Redux store."),Object(x.a)(t),e.get()&&(t.dispatch(ye(e.get())),e.on("change",()=>{t.dispatch(ye(e.get()))})),f.a.isEnabled("network-connection")&&n.e(148).then(n.bind(null,"./client/lib/network-connection/index.js")).then(function(e){(e=>e.init(t))(e.default)}),Object(X.setSupportSessionReduxStore)(t),Object(fe.e)(t),e.get()&&f.a.isEnabled("push-notifications")&&t.dispatch(Object(Se.a)())})(e,s),Le(e,s),o_.a.start(),c.a.start({decodeURLComponents:!1})})};window.AppBoot=(()=>{const e=Object(R.default)();e.initialized?c_(e):e.once("change",()=>c_(e))})},"./client/components/animate/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r);n("./client/components/animate/style.scss");const a=e=>{let t=e.type,n=e.children;return i.a.createElement("div",{className:"animate__".concat(t)},n)};a.propTypes={type:o.a.oneOf(["appear","fade-in"])},t.a=a},"./client/components/animate/style.scss":function(e,t,n){},"./client/components/async-load/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a),l=n("./node_modules/lodash/lodash.js");n("./client/components/async-load/style.scss");class u extends r.Component{constructor(){super(...arguments),i()(this,"componentDidMount",()=>{this.mounted=!0,this.require()}),this.state={require:null,component:null}}componentWillReceiveProps(e){this.mounted&&this.props.require!==e.require&&this.setState({component:null})}componentDidUpdate(e){this.props.require!==e.require&&this.require()}componentWillUnmount(){this.mounted=!1}require(){const e=this.props.require;e(t=>{this.mounted&&this.props.require===e&&this.setState({component:t})})}render(){if(this.state.component){const e=Object(l.omit)(this.props,["placeholder","require"]);return o.a.createElement(this.state.component,e)}return this.props.placeholder}}i()(u,"propTypes",{placeholder:c.a.node,require:c.a.func.isRequired}),i()(u,"defaultProps",{placeholder:o.a.createElement("div",{className:"async-load__placeholder"})})},"./client/components/async-load/style.scss":function(e,t,n){},"./client/components/badge/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a);n("./client/components/badge/style.scss");class l extends o.a.Component{render(){const e=this.props.type;return o.a.createElement("div",{className:"badge badge--".concat(e)},this.props.children)}}i()(l,"propTypes",{type:c.a.oneOf(["warning","success"]).isRequired}),i()(l,"defaultProps",{type:"warning"})},"./client/components/badge/style.scss":function(e,t,n){},"./client/components/banner/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/classnames/index.js"),d=n.n(u),p=n("./node_modules/lodash/lodash.js"),m=n("./client/components/gridicon/index.jsx"),_=n("./client/lib/plans/index.js"),E=n("./client/lib/plans/constants.js"),b=n("./client/lib/url/index.js"),g=n("./client/state/analytics/actions.js"),h=n("./client/state/ui/selectors.js"),f=n("./client/components/button/index.jsx"),S=n("./client/components/card/index.jsx"),O=n("./client/blocks/dismissible-card/index.jsx"),j=n("./client/components/plans/plan-icon/index.jsx"),T=n("./client/my-sites/plan-price/index.jsx"),y=n("./client/lib/analytics/track-component-view/index.jsx");n("./client/components/banner/style.scss");class I extends r.Component{constructor(){super(...arguments),i()(this,"handleClick",e=>{const t=this.props,n=t.event,s=t.feature,i=t.onClick;n&&this.props.recordTracksEvent("calypso_banner_cta_click",{cta_name:n,cta_feature:s,cta_size:"regular"}),i(e)}),i()(this,"handleDismiss",e=>{const t=this.props,n=t.event,s=t.feature,i=t.onDismiss;n&&this.props.recordTracksEvent("calypso_banner_dismiss",{cta_name:n,cta_feature:s}),i(e)})}getHref(){const e=this.props,t=e.feature,n=e.href,s=e.plan,i=e.siteSlug;if(!n&&i){const e="/plans/".concat(i);return t||s?Object(b.a)({feature:t,plan:s},e):e}return n}getIcon(){const e=this.props,t=e.icon,n=e.plan;return n&&!t?o.a.createElement("div",{className:"banner__icon-plan"},o.a.createElement(j.a,{plan:n})):o.a.createElement("div",{className:"banner__icons"},o.a.createElement("div",{className:"banner__icon"},o.a.createElement(m.a,{icon:t||"info-outline",size:18})),o.a.createElement("div",{className:"banner__icon-circle"},o.a.createElement(m.a,{icon:t||"info-outline",size:18})))}getContent(){const e=this.props,t=e.callToAction,n=e.forceHref,s=e.description,i=e.event,r=e.feature,a=e.list,c=e.price,l=e.title,u=e.target,d=Array.isArray(c)?c:[c];return o.a.createElement("div",{className:"banner__content"},i&&o.a.createElement(y.a,{eventName:"calypso_banner_cta_impression",eventProperties:{cta_name:i,cta_feature:r,cta_size:"regular"}}),o.a.createElement("div",{className:"banner__info"},o.a.createElement("div",{className:"banner__title"},l),s&&o.a.createElement("div",{className:"banner__description"},s),Object(p.size)(a)>0&&o.a.createElement("ul",{className:"banner__list"},a.map((e,t)=>o.a.createElement("li",{key:t},o.a.createElement(m.a,{icon:"checkmark",size:18}),e)))),(t||c)&&o.a.createElement("div",{className:"banner__action"},1===Object(p.size)(d)&&o.a.createElement(T.a,{rawPrice:d[0]}),2===Object(p.size)(d)&&o.a.createElement("div",{className:"banner__prices"},o.a.createElement(T.a,{rawPrice:d[0],original:!0}),o.a.createElement(T.a,{rawPrice:d[1],discounted:!0})),t&&(n?o.a.createElement(f.a,{compact:!0,primary:!0,target:u},t):o.a.createElement(f.a,{compact:!0,href:this.getHref(),onClick:this.handleClick,primary:!0,target:u},t))))}render(){const e=this.props,t=e.callToAction,n=e.className,s=e.forceHref,i=e.disableHref,r=e.dismissPreferenceName,a=e.dismissTemporary,c=e.plan,l=d()("banner",n,{"has-call-to-action":t},{"is-upgrade-blogger":c&&Object(_.m)(c)},{"is-upgrade-personal":c&&Object(_.r)(c)},{"is-upgrade-premium":c&&Object(_.t)(c)},{"is-upgrade-business":c&&Object(_.n)(c)},{"is-upgrade-ecommerce":c&&Object(_.o)(c)},{"is-jetpack-plan":c&&Object(_.B)(c,{group:E.Xb})},{"is-wpcom-plan":c&&Object(_.B)(c,{group:E.Yb})},{"is-dismissible":r});return r?o.a.createElement(O.a,{className:l,preferenceName:r,temporary:a,onClick:this.handleDismiss},this.getIcon(),this.getContent()):o.a.createElement(S.a,{className:l,href:!i&&!t||s?this.getHref():null,onClick:t&&!s?null:this.handleClick},this.getIcon(),this.getContent())}}i()(I,"propTypes",{callToAction:c.a.string,className:c.a.string,description:c.a.node,forceHref:c.a.bool,disableHref:c.a.bool,dismissPreferenceName:c.a.string,dismissTemporary:c.a.bool,event:c.a.string,feature:c.a.string,href:c.a.string,icon:c.a.string,list:c.a.arrayOf(c.a.string),onClick:c.a.func,onDismiss:c.a.func,plan:c.a.string,price:c.a.oneOfType([c.a.number,c.a.arrayOf(c.a.number)]),siteSlug:c.a.string,target:c.a.string,title:c.a.string.isRequired}),i()(I,"defaultProps",{forceHref:!1,disableHref:!1,dismissTemporary:!1,onClick:p.noop,onDismiss:p.noop});t.a=Object(l.b)((e,t)=>({siteSlug:t.disableHref?null:Object(h.f)(e)}),{recordTracksEvent:g.i})(I)},"./client/components/banner/style.scss":function(e,t,n){},"./client/components/community-translator/constants.js":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return o});const s="wpcom",i="https://translate.wordpress.com",r={de_formal:"formal"},o="enable_translator"},"./client/components/community-translator/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return m}),n.d(t,"e",function(){return _}),n.d(t,"c",function(){return b});var s=n("./node_modules/superagent/lib/client.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/user-settings/index.js"),a=n("./client/lib/viewport/index.js"),c=n("./client/components/community-translator/constants.js"),l=n("./client/lib/i18n-utils/browser.js");function u(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a.getSetting("language"),t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o.a.getSetting("locale_variant");return!Object(a.e)()&&(!(!e||!Object(l.b)(e))&&!(t&&!Object(l.b)(t)))}function d(){return!(!o.a.getSettings()||!o.a.getOriginalSetting(c.a))&&!!u()}function p(e,t){return i.a.post(e).withCredentials().send(t).then(e=>e.body).catch(e=>{throw e})}function m(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.b+"/api",s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.c;return(arguments.length>4&&void 0!==arguments[4]?arguments[4]:p)("".concat(n,"/translations/-query-by-originals"),["project=".concat(s),"&locale_slug=".concat(e.parentLangSlug||e.langSlug),"&translation_set_slug=".concat(c.d[e.langSlug]||"default"),"&original_strings=".concat(encodeURIComponent(JSON.stringify([t])))].join("")).then(e=>E(Object(r.head)(e)))}function _(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:c.b+"/api",i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:c.c;return(arguments.length>5&&void 0!==arguments[5]?arguments[5]:p)("".concat(s,"/translations/-new"),["project=".concat(i),"&locale_slug=".concat(n.parentLangSlug||n.langSlug),"&translation_set_slug=".concat(c.d[n.langSlug]||"default"),...Object.keys(t).map(n=>t[n]&&"&translation[".concat(e,"][]=").concat(encodeURIComponent(t[n])))].join("")).then(e=>E(e))}function E(e){const t=Object(r.find)(e.translations,{original_id:e.original_id});return{originalId:e.original_id,comment:e.original_comment,translatedSingular:Object(r.get)(t,"translation_0",""),translatedPlural:Object(r.get)(t,"translation_1",""),lastModified:Object(r.get)(t,"date_modified","")}}function b(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:c.c;if(!e||!t)return null;const s=c.b+"/projects",i=t.parentLangSlug||t.langSlug,r=c.d[t.langSlug]||"default";return"".concat(s,"/").concat(n,"/").concat(i,"/").concat(r,"?filters[original_id]=").concat(e)}},"./client/components/count/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/prop-types/index.js"),u=n.n(l),d=n("./node_modules/classnames/index.js"),p=n.n(d),m=n("./packages/i18n-calypso/dist/esm/index.js"),_=n("./node_modules/lodash/lodash.js"),E=n("./client/lib/format-number-compact/index.js");n("./client/components/count/style.scss");const b=e=>{let t=e.count,n=e.compact,s=e.numberFormat,r=e.primary,a=o()(e,["count","compact","numberFormat","primary"]);return c.a.createElement("span",i()({className:p()("count",{"is-primary":r})},Object(_.omit)(a,["translate","moment"])),n&&Object(E.a)(t)||s(t))};b.propTypes={count:u.a.number.isRequired,numberFormat:u.a.func,primary:u.a.bool,compact:u.a.bool},b.defaultProps={primary:!1,compact:!1},t.a=Object(m.localize)(b)},"./client/components/count/style.scss":function(e,t,n){},"./client/components/data/document-head/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/lodash/lodash.js"),u=n("./client/state/document-head/selectors.js"),d=n("./client/state/document-head/actions.js"),p=n("./client/components/translatable/proptype.js");class m extends a.Component{constructor(){super(...arguments),i()(this,"setFormattedTitle",Object(l.debounce)(e=>{document.title=e}))}componentWillMount(){const e=this.props,t=e.title,n=e.unreadCount;void 0!==this.props.title&&this.props.setTitle(t),void 0!==this.props.unreadCount&&this.props.setUnreadCount(n),void 0!==this.props.link&&this.props.setLink(this.props.link),void 0!==this.props.meta&&this.props.setMeta(this.props.meta)}componentDidMount(){this.setFormattedTitle(this.props.formattedTitle)}componentWillReceiveProps(e){void 0!==e.title&&this.props.title!==e.title&&this.props.setTitle(e.title),void 0!==e.unreadCount&&this.props.unreadCount!==e.unreadCount&&this.props.setUnreadCount(e.unreadCount),void 0===e.link||Object(l.isEqual)(this.props.link,e.link)||this.props.setLink(e.link),void 0===e.meta||Object(l.isEqual)(this.props.meta,e.meta)||this.props.setMeta(e.meta),e.formattedTitle!==this.props.formattedTitle&&this.setFormattedTitle(e.formattedTitle)}componentWillUnmount(){this.setFormattedTitle.cancel()}render(){return null}}m.propTypes={title:p.a,unreadCount:o.a.number,link:o.a.array,meta:o.a.array,setTitle:o.a.func.isRequired,setLink:o.a.func.isRequired,setMeta:o.a.func.isRequired,setUnreadCount:o.a.func.isRequired},t.a=Object(c.b)(e=>({formattedTitle:Object(u.b)(e)}),{setTitle:d.c,setLink:d.a,setMeta:d.b,setUnreadCount:d.d})(m)},"./client/components/data/query-jetpack-plugins/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),l=n("./node_modules/lodash/lodash.js"),u=n("./client/state/plugins/installed/actions.js"),d=n("./client/state/plugins/installed/selectors.js");class p extends a.Component{componentWillMount(){this.props.siteIds&&!this.props.isRequestingForSites&&this.props.fetchPlugins(this.props.siteIds)}componentWillReceiveProps(e){Object(l.isEqual)(e.siteIds,this.props.siteIds)||this.refresh(e.isRequestingForSites,e.siteIds)}refresh(e,t){e||this.props.fetchPlugins(t)}render(){return null}}i()(p,"propTypes",{siteIds:o.a.arrayOf(o.a.oneOfType([o.a.string,o.a.number]).isRequired).isRequired,isRequestingForSites:o.a.bool,fetchPlugins:o.a.func}),t.a=Object(c.b)((e,t)=>({isRequestingForSites:Object(d.h)(e,t.siteIds)}),{fetchPlugins:u.b})(p)},"./client/components/data/query-post-counts/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/prop-types/index.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),a=n("./client/lib/wp/browser.js");var c=n("./client/state/posts/counts/selectors.js");class l extends r.Component{componentWillMount(){this.request(this.props)}componentWillReceiveProps(e){this.props.siteId===e.siteId&&this.props.type===e.type||this.request(e)}request(e){e.requesting||e.requestPostCounts(e.siteId,e.type)}render(){return null}}l.propTypes={siteId:i.a.number.isRequired,type:i.a.string.isRequired,requesting:i.a.bool,requestPostCounts:i.a.func};t.a=Object(o.b)((e,t)=>{const n=t.siteId,s=t.type;return{requesting:Object(c.d)(e,n,s)}},{requestPostCounts:function(e,t){return n=>(n({type:"POST_COUNTS_REQUEST",postType:t,siteId:e}),a.a.undocumented().site(e).postCounts({type:t}).then(s=>{n(function(e,t,n){return{type:"POST_COUNTS_RECEIVE",siteId:e,postType:t,counts:n}}(e,t,s.counts)),n({type:"POST_COUNTS_REQUEST_SUCCESS",siteId:e,postType:t})}).catch(s=>{n({type:"POST_COUNTS_REQUEST_FAILURE",siteId:e,postType:t,error:s})}))}})(l)},"./client/components/data/query-posts/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),i=n("./node_modules/react-pure-render/shallowEqual.js"),r=n.n(i),o=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/redux/es/redux.js"),c=n("./node_modules/debug/src/browser.js"),l=n.n(c),u=n("./client/state/posts/selectors.js"),d=n("./client/state/posts/actions.js");const p=l()("calypso:query-posts");t.a=Object(o.b)((e,t)=>{const n=t.siteId,s=t.postId,i=t.query;return{requestingPost:n&&s&&Object(u.u)(e,n,s),requestingPosts:Object(u.s)(e,n,i)}},e=>Object(a.b)({requestSitePosts:d.h,requestAllSitesPosts:d.f,requestSitePost:d.g},e))(class extends s.Component{componentWillMount(){this.request(this.props)}componentWillReceiveProps(e){this.props.siteId===e.siteId&&this.props.postId===e.postId&&r()(this.props.query,e.query)||this.request(e)}request(e){const t=!!e.siteId,n=!!e.postId;t?(n||e.requestingPosts||(p("Request post list for site %d using query %o",e.siteId,e.query),e.requestSitePosts(e.siteId,e.query)),n&&!e.requestingPost&&(p("Request single post for site %d post %d",e.siteId,e.postId),e.requestSitePost(e.siteId,e.postId))):e.requestingPosts||(p("Request post list for all sites using query %o",e.query),e.requestAllSitesPosts(e.query))}render(){return null}})},"./client/components/data/query-preferences/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/prop-types/index.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),a=n("./client/state/preferences/selectors.js"),c=n("./client/state/preferences/actions.js");class l extends r.Component{componentWillMount(){this.props.fetchingPreferences||this.props.fetchPreferences()}render(){return null}}l.propTypes={fetchingPreferences:i.a.bool,fetchPreferences:i.a.func},l.defaultProps={fetchPreferences:()=>{},fetchingPreferences:!1},t.a=Object(o.b)(e=>({fetchingPreferences:Object(a.d)(e)}),{fetchPreferences:c.a})(l)},"./client/components/data/query-reader-post/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),l=n("./client/state/reader/posts/actions.js"),u=n("./client/state/reader/posts/selectors.js"),d=n("./client/reader/post-key.js");class p extends a.Component{constructor(){var e;super(...arguments),e=this,i()(this,"maybeFetch",function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e.props;!Object(d.a)(t.postKey)||t.post&&"minimal"!==t.post._state||e.props.fetchPost(t.postKey)})}componentDidMount(){this.maybeFetch()}componentWillReceiveProps(e){this.maybeFetch(e)}render(){return null}}i()(p,"propTypes",{postKey:o.a.object.isRequired}),t.a=Object(c.b)((e,t)=>({post:Object(u.b)(e,t.postKey)}),{fetchPost:l.a})(p)},"./client/components/data/query-reader-site/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/prop-types/index.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/redux/es/redux.js"),c=n("./client/state/reader/sites/selectors.js"),l=(n("./node_modules/lodash/lodash.js"),n("./client/state/data-layer/wpcom-http/actions.js")),u=n("./client/state/data-layer/wpcom-http/utils.js"),d=n("./client/state/data-layer/utils.js");const p=["ID","name","title","URL","icon","is_following","is_jetpack","description","is_private","feed_ID","feed_URL","capabilities","prefer_feed","subscribers_count","options","subscription","is_blocked"];var m=n("./client/state/data-layer/wpcom-http/pipeline/retry-on-failure/policies.js"),_=n("./client/state/data-layer/handler-registry.js");function E(e){return{type:"READER_SITE_REQUEST",payload:{ID:e}}}Object(_.b)("state/data-layer/wpcom/read/sites/index.js",{READER_SITE_REQUEST:[Object(u.a)({fetch:function(e){return Object(l.a)({apiVersion:"1.1",method:"GET",path:"/read/sites/".concat(e.payload.ID),query:{fields:p.join(","),options:["is_mapped_domain","unmapped_url","is_redirect"].join(",")},retryPolicy:Object(m.b)()},e)},onSuccess:function(e,t){return Object(d.a)({type:"READER_SITE_REQUEST_SUCCESS",payload:t})},onError:function(e,t){return Object(d.a)(function(e,t){return{type:"READER_SITE_REQUEST_FAILURE",payload:e.payload,error:t}}(e,t))}})]});class b extends r.Component{componentWillMount(){this.props.shouldSiteBeFetched&&this.props.requestSite(this.props.siteId)}componentWillReceiveProps(e){e.shouldSiteBeFetched&&this.props.siteId!==e.siteId&&e.requestSite(e.siteId)}render(){return null}}b.propTypes={siteId:i.a.number,shouldSiteBeFetched:i.a.bool,requestSite:i.a.func},b.defaultProps={requestSite:()=>{}};t.a=Object(o.b)((e,t)=>{const n=t.siteId;return{shouldSiteBeFetched:Object(c.c)(e,n)}},e=>Object(a.b)({requestSite:E},e))(b)},"./client/components/data/query-site-connection-status/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n("./node_modules/react-redux/es/index.js"),l=n("./client/state/selectors/is-requesting-site-connection-status.js"),u=n("./client/lib/wp/browser.js");class d extends a.Component{componentWillMount(){this.request(this.props)}componentWillReceiveProps(e){this.props.siteId!==e.siteId&&this.request(e)}request(e){!e.requestingSiteConnectionStatus&&e.siteId&&e.requestConnectionStatus(e.siteId)}render(){return null}}i()(d,"propTypes",{siteId:o.a.number,requestingSiteConnectionStatus:o.a.bool,requestConnectionStatus:o.a.func});t.a=Object(c.b)((e,t)=>({requestingSiteConnectionStatus:Object(l.a)(e,t.siteId)}),{requestConnectionStatus:e=>t=>(t({type:"SITE_CONNECTION_STATUS_REQUEST",siteId:e}),u.a.undocumented().testConnectionJetpack(e).then(n=>{t({type:"SITE_CONNECTION_STATUS_RECEIVE",siteId:e,status:n.connected}),t({type:"SITE_CONNECTION_STATUS_REQUEST_SUCCESS",siteId:e})}).catch(n=>{t({type:"SITE_CONNECTION_STATUS_REQUEST_FAILURE",siteId:e,error:n})}))})(d)},"./client/components/data/query-sites/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/prop-types/index.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n("./node_modules/react-redux/es/index.js"),a=n("./node_modules/lodash/lodash.js"),c=n("./client/state/sites/selectors.js"),l=n("./client/state/sites/actions.js"),u=n("./client/state/preferences/selectors.js"),d=n("./client/state/selectors/get-primary-site-id.js");class p extends r.Component{componentWillMount(){this.requestAll(this.props),this.requestPrimary(this.props),this.requestRecent(this.props),this.requestSingle(this.props)}componentWillReceiveProps(e){e.siteId!==this.props.siteId&&this.requestSingle(e),e.primaryAndRecent&&e.primarySiteId!==this.props.primarySiteId&&this.requestPrimary(e),e.primaryAndRecent&&!Object(a.isEqual)(e.recentSiteIds,this.props.recentSiteIds)&&this.requestRecent(e)}requestAll(e){e.allSites&&!e.requestingSites&&e.requestSites()}requestPrimary(e){if(e.primaryAndRecent&&!e.hasAllSitesList){const t=e.primarySiteId,n=e.isRequestingPrimarySite;t&&!n&&e.requestSite(t)}}requestRecent(e){if(e.primaryAndRecent&&!e.hasAllSitesList){const t=e.recentSiteIds,n=e.isRequestingRecentSites,s=e.primarySiteId;t&&t.length&&!n&&Object(a.forEach)(Object(a.without)(t,s),e.requestSite)}}requestSingle(e){e.siteId&&!e.requestingSite&&e.requestSite(e.siteId)}render(){return null}}p.propTypes={allSites:i.a.bool,primaryAndRecent:i.a.bool,siteId:i.a.oneOfType([i.a.number,i.a.string]),requestingSites:i.a.bool,requestingSite:i.a.bool,requestSites:i.a.func,requestSite:i.a.func},p.defaultProps={allSites:!1,primaryAndRecent:!1,requestSites:()=>{},requestSite:()=>{}},t.a=Object(o.b)((e,t)=>{let n=t.siteId;const s=Object(d.a)(e),i=Object(u.b)(e,"recentSites"),r=Object(a.without)(Object(u.b)(e,"recentSites"),s);return{primarySiteId:s,recentSiteIds:i,hasAllSitesList:Object(c.A)(e),requestingSites:Object(c.P)(e),requestingSite:Object(c.O)(e,n),isRequestingPrimarySite:Object(c.O)(e,s),isRequestingRecentSites:Object(a.some)(r,t=>Object(c.O)(e,t))}},{requestSites:l.f,requestSite:l.e})(p)},"./client/components/dialog/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a),l=n("./node_modules/react/index.js"),u=n.n(l),d=n("./node_modules/lodash/lodash.js"),p=n("./client/components/root-child/index.jsx"),m=n("./node_modules/react-modal/lib/index.js"),_=n.n(m),E=n("./node_modules/classnames/index.js"),b=n.n(E);class g extends l.Component{constructor(){super(...arguments),o()(this,"_onButtonClick",e=>{e.onClick?e.onClick(this._close.bind(this,e.action)):this._close(e.action)}),o()(this,"_close",e=>{this.props.onDialogClose&&this.props.onDialogClose(e)})}render(){const e=this.props,t=e.additionalClassNames,n=e.isBackdropVisible,s=e.baseClassName,i=e.isFullScreen,r=e.shouldCloseOnEsc,o=s+"__content",a=b()(s,"card",t),c=b()(s+"__backdrop",{"is-full-screen":!!i,"is-hidden":!n});return u.a.createElement(_.a,{isOpen:this.props.isVisible,onRequestClose:this._close,closeTimeoutMS:this.props.leaveTimeout,contentLabel:this.props.label,appElement:document.getElementById("wpcom"),overlayClassName:c,className:a,htmlOpenClassName:"ReactModal__Html--open",role:"dialog",shouldCloseOnEsc:r},u.a.createElement("div",{className:b()(this.props.className,o),tabIndex:"-1"},this.props.children),this._renderButtonsBar())}_renderButtonsBar(){const e=this.props.baseClassName+"__action-buttons";return this.props.buttons?u.a.createElement("div",{className:e},this.props.buttons.map(this._renderButton,this)):null}_renderButton(e,t){if(u.a.isValidElement(e))return u.a.cloneElement(e,{key:"dialog-button-"+t});const n=this._getButtonClasses(e),s=this._onButtonClick.bind(this,e);return u.a.createElement("button",{key:e.action,className:n,"data-e2e-button":e.action,"data-tip-target":"dialog-base-action-".concat(e.action),onClick:s,disabled:!!e.disabled},u.a.createElement("span",{className:this.props.baseClassName+"__button-label"},e.label))}_getButtonClasses(e){let t=e.className||"button";return(e.isPrimary||1===this.props.buttons.length)&&(t+=" is-primary"),e.additionalClassNames&&(t+=" "+e.additionalClassNames),t}}o()(g,"propTypes",{additionalClassNames:c.a.oneOfType([c.a.object,c.a.string]),autoFocus:c.a.bool,baseClassName:c.a.string,buttons:c.a.array,className:c.a.string,isBackdropVisible:c.a.bool,isFullScreen:c.a.bool,isVisible:c.a.bool,label:c.a.string,leaveTimeout:c.a.number,onDialogClose:c.a.func,shouldCloseOnEsc:c.a.bool}),o()(g,"defaultProps",{baseClassName:"dialog",isBackdropVisible:!0,isFullScreen:!0,autoFocus:!0,label:""});var h=g;class f extends l.Component{constructor(){super(...arguments),o()(this,"checkOnClosed",e=>{null===e&&Object(d.defer)(this.props.onClosed)}),o()(this,"onDialogClose",e=>{this.props.onClose&&this.props.onClose(e)})}render(){return u.a.createElement(p.a,null,u.a.createElement(h,i()({},this.props,{ref:this.checkOnClosed,key:"dialog",onDialogClose:this.onDialogClose})))}}o()(f,"propTypes",{isVisible:c.a.bool,baseClassName:c.a.string,leaveTimeout:c.a.number,onClose:c.a.func,onClosed:c.a.func,shouldCloseOnEsc:c.a.bool}),o()(f,"defaultProps",{isVisible:!1,leaveTimeout:200,onClosed:d.noop});t.a=f},"./client/components/embed-container/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return j});var s=n("./node_modules/react/index.js"),i=n.n(s),r=n("./node_modules/react-dom/index.js"),o=n.n(r),a=n("./node_modules/lodash/lodash.js"),c=n("./client/lib/load-script/index.js"),l=n("./node_modules/debug/src/browser.js");const u=n.n(l)()("calypso:components:embed-container"),d={'blockquote[class^="instagram-"]':function e(t){u("processing instagram for",t);if("undefined"!=typeof instgrm){try{window.instgrm.Embeds.process()}catch(e){}return}g("https://platform.instagram.com/en_US/embeds.js",e.bind(null,t))},'blockquote[class^="twitter-"], a[class^="twitter-"]':function e(t){u("processing twitter for",t);if("undefined"!=typeof twttr){try{window.twttr.widgets.load(t)}catch(e){}return}g("https://platform.twitter.com/widgets.js",e.bind(null,t))},"fb\\:post, [class^=fb-]":function(e){if(u("processing facebook for",e),"undefined"!=typeof fb)return;g("https://connect.facebook.net/en_US/sdk.js#xfbml=1&version=v2.2",a.noop)},"[class^=tumblr-]":function(e){if(u("processing tumblr for",e),h)return;function t(){Object(a.forEach)(document.querySelectorAll('script[src="https://secure.assets.tumblr.com/post.js"]'),function(e){e.parentNode.removeChild(e)}),h=!1}h=!0,setTimeout(function(){Object(c.a)("https://secure.assets.tumblr.com/post.js",t)},30)},".jetpack-slideshow":function(e){u("processing slideshow for",e),window.jetpackSlideshowSettings={spinner:m.SPINNER},O||(O=!0,function(e){const t=Object(a.assign)(document.createElement("link"),{rel:"stylesheet",type:"text/css",href:e});document.head.appendChild(t)}(m.CSS));const t=e.parentNode.getElementsByClassName("jetpack-slideshow-noscript");Object(a.forEach)(t,e=>{e.classList.add("hidden")}),window.jQuery&&window.jQuery.prototype.cycle?S():window.jQuery&&!window.jQuery.prototype.cycle?g(m.CYCLE_JS,()=>{S()}):Object(c.b)(m.CYCLE_JS,()=>{S()})},".embed-reddit":function(e){u("processing reddit for ",e),g("https://embed.redditmedia.com/widgets/platform.js",a.noop)}},p="?v=".concat(Math.floor((new Date).getTime()/864e6)),m={CSS:"https://s0.wp.com/wp-content/mu-plugins/shortcodes/css/slideshow-shortcode.css".concat(p),CYCLE_JS:"https://s0.wp.com/wp-content/mu-plugins/shortcodes/js/jquery.cycle.min.js".concat(p),JS:"https://s0.wp.com/wp-content/mu-plugins/shortcodes/js/slideshow-shortcode.js".concat(p),SPINNER:"https://s0.wp.com/wp-content/mu-plugins/shortcodes/img/slideshow-loader.gif".concat(p)};function _(e){Object(a.forOwn)(d,(t,n)=>{const s=e.querySelectorAll(n);Object(a.forEach)(Object(a.filter)(s,E),t)})}function E(e){return!e.hasAttribute("data-wpcom-embed-processed")&&(e.setAttribute("data-wpcom-embed-processed","1"),!0)}const b={};function g(e,t){let n=b[e];n||(n=new Promise(function(t,n){Object(c.a)(e,function(e){e?n(e):t()})}),b[e]=n),n.then(t,function(t){u("error loading "+e,t),b[e]=null})}let h;function f(){window.jQuery("body").trigger("post-load")}function S(){window.JetpackSlideshow&&f(),g(m.JS,()=>{f()})}let O=document.head.querySelector('link[href="'.concat(m.CSS,'"]'));class j extends s.PureComponent{componentDidMount(){_(o.a.findDOMNode(this))}componentDidUpdate(){_(o.a.findDOMNode(this))}render(){return i.a.Children.only(this.props.children)}}},"./client/components/emojify/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return b});var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(a),l=n("./node_modules/prop-types/index.js"),u=n.n(l),d=n("./node_modules/react/index.js"),p=n.n(d),m=n("./node_modules/classnames/index.js"),_=n.n(m),E=n("./node_modules/twemoji/2/esm.js");n("./client/components/emojify/style.scss");class b extends d.PureComponent{constructor(e){super(e),c()(this,"parseEmoji",()=>{const e=this.props,t=e.imgClassName,n=e.twemojiUrl;E.default.parse(this.emojified,{base:n,size:"72x72",className:t,callback:function(e,t){return-1===["a9","ae","2122","2194","2660","2663","2665","2666"].indexOf(e)&&"".concat(t.base,t.size,"/",e,t.ext)}})}),this.setRef=this.setRef.bind(this)}componentDidMount(){this.parseEmoji()}componentDidUpdate(){this.parseEmoji()}setRef(e){this.emojified=e}render(){const e=this.props,t=e.children,n=e.className,s=(e.imgClassName,e.tagName),r=(e.twemojiUrl,o()(e,["children","className","imgClassName","tagName","twemojiUrl"])),a=_()(n,"emojify");return p.a.createElement(s,i()({className:a,ref:this.setRef},r),t)}}c()(b,"propTypes",{imgClassName:u.a.string,tagName:u.a.string,twemojiUrl:u.a.string}),c()(b,"defaultProps",{imgClassName:"emojify__emoji",tagName:"div"})},"./client/components/emojify/style.scss":function(e,t,n){},"./client/components/empty-content/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./client/components/button/index.jsx");n("./client/components/empty-content/style.scss");class p extends a.Component{primaryAction(){return"string"!=typeof this.props.action?this.props.action:this.props.actionURL||this.props.actionCallback?c.a.createElement(d.a,{primary:!0,className:"empty-content__action",onClick:this.props.actionCallback,href:this.props.actionURL,target:this.props.actionTarget,onMouseEnter:this.props.actionHoverCallback,onTouchStart:this.props.actionHoverCallback},this.props.action):void 0}secondaryAction(){return"string"!=typeof this.props.secondaryAction?this.props.secondaryAction:this.props.secondaryActionURL||this.props.secondaryActionCallback?c.a.createElement(d.a,{className:"empty-content__action button",onClick:this.props.secondaryActionCallback,href:this.props.secondaryActionURL,target:this.props.secondaryActionTarget},this.props.secondaryAction):void 0}render(){const e=this.props.action&&this.primaryAction(),t=this.props.secondaryAction&&this.secondaryAction(),n=this.props.illustration&&c.a.createElement("img",{src:this.props.illustration,alt:"",width:this.props.illustrationWidth,className:"empty-content__illustration"});return c.a.createElement("div",{className:u()("empty-content",this.props.className,{"is-compact":this.props.isCompact,"has-title-only":this.props.title&&!this.props.line})},n,this.props.title?c.a.createElement("h2",{className:"empty-content__title"},this.props.title):null,this.props.line?c.a.createElement("h3",{className:"empty-content__line"},this.props.line):null,e,t,this.props.children)}}i()(p,"propTypes",{title:o.a.oneOfType([o.a.string,o.a.array]),illustration:o.a.string,illustrationWidth:o.a.number,line:o.a.oneOfType([o.a.string,o.a.array]),action:o.a.oneOfType([o.a.string,o.a.element]),actionURL:o.a.string,actionCallback:o.a.func,actionTarget:o.a.string,actionHoverCallback:o.a.func,secondaryAction:o.a.oneOfType([o.a.string,o.a.element]),secondaryActionURL:o.a.string,secondaryActionCallback:o.a.func,secondaryActionTarget:o.a.string,className:o.a.string,isCompact:o.a.bool}),i()(p,"defaultProps",{title:"You haven't created any content yet.",illustration:"/calypso/images/illustrations/illustration-empty-results.svg",isCompact:!1}),t.a=p},"./client/components/empty-content/style.scss":function(e,t,n){},"./client/components/external-link/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./node_modules/lodash/lodash.js"),p=n("./client/components/gridicon/index.jsx");n("./client/components/external-link/style.scss");class m extends r.Component{render(){const e=u()("external-link",this.props.className,{"icon-first":!!this.props.showIconFirst},{"has-icon":!!this.props.icon}),t=Object(d.assign)({},Object(d.omit)(this.props,"icon","iconSize","showIconFirst","iconClassName"),{className:e,rel:"external"});t.target&&(t.rel=t.rel.concat(" noopener noreferrer"));const n=o.a.createElement(p.a,{className:this.props.iconClassName,icon:"external",size:this.props.iconSize});return o.a.createElement("a",t,this.props.icon&&this.props.showIconFirst&&n,this.props.children,this.props.icon&&!this.props.showIconFirst&&n)}}i()(m,"defaultProps",{iconSize:18,showIconFirst:!1}),i()(m,"propTypes",{className:c.a.string,href:c.a.string,onClick:c.a.func,icon:c.a.bool,iconSize:c.a.number,target:c.a.string,showIconFirst:c.a.bool,iconClassName:c.a.string}),t.a=m},"./client/components/external-link/style.scss":function(e,t,n){},"./client/components/forms/form-button/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(a),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./packages/i18n-calypso/dist/esm/index.js"),p=n("./node_modules/lodash/lodash.js"),m=n("./node_modules/react/index.js"),_=n.n(m),E=n("./client/components/button/index.jsx");class b extends _.a.Component{constructor(){super(...arguments),c()(this,"getDefaultButtonAction",()=>this.props.isSubmitting?this.props.translate("Saving…"):this.props.translate("Save Settings"))}render(){const e=this.props,t=e.children,n=e.className,s=e.isPrimary,r=o()(e,["children","className","isPrimary"]),a=u()(n,"form-button");return _.a.createElement(E.a,i()({},Object(p.omit)(r,["isSubmitting","moment","numberFormat","translate"]),{primary:s,className:a}),m.Children.count(t)?t:this.getDefaultButtonAction())}}c()(b,"defaultProps",{isSubmitting:!1,isPrimary:!0,type:"submit"}),t.a=Object(d.localize)(b)},"./client/components/forms/form-buttons-bar/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/classnames/index.js"),u=n.n(l);t.a=(e=>{let t=e.className,n=e.children,s=o()(e,["className","children"]);return c.a.createElement("div",i()({},s,{className:u()(t,"form-buttons-bar")}),n)})},"./client/components/forms/form-fieldset/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/classnames/index.js"),u=n.n(l);t.a=(e=>{let t=e.className,n=e.children,s=o()(e,["className","children"]);return c.a.createElement("fieldset",i()({},s,{className:u()(t,"form-fieldset")}),n)})},"./client/components/forms/form-password-input/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return E});var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./client/components/gridicon/index.jsx"),u=n("./node_modules/classnames/index.js"),d=n.n(u),p=n("./node_modules/lodash/lodash.js"),m=n("./client/components/forms/form-text-input/index.jsx"),_=n("./client/lib/viewport/index.js");class E extends c.a.Component{constructor(){super(...arguments),o()(this,"state",{hidePassword:!0}),o()(this,"togglePasswordVisibility",()=>{this.setState({hidePassword:!this.state.hidePassword})}),o()(this,"focus",()=>{this.refs.textField.focus()})}componentDidMount(){Object(_.e)()?this.state={hidePassword:!1}:this.state={hidePassword:!0}}hidden(){return!!this.props.hideToggle||(this.props.submitting||this.state.hidePassword)}render(){const e=d()({"form-password-input__toggle":!0,"form-password-input__toggle-visibility":!this.props.hideToggle});return c.a.createElement("div",{className:"form-password-input"},c.a.createElement(m.a,i()({},Object(p.omit)(this.props,"hideToggle","submitting"),{autoComplete:"off",ref:"textField",type:this.hidden()?"password":"text"})),c.a.createElement("span",{className:e,onClick:this.togglePasswordVisibility},this.hidden()?c.a.createElement(l.a,{icon:"not-visible"}):c.a.createElement(l.a,{icon:"visible"})))}}o()(E,"displayName","FormPasswordInput")},"./client/components/forms/form-text-input/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return _});var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/prop-types/index.js"),u=n.n(l),d=n("./node_modules/classnames/index.js"),p=n.n(d),m=n("./node_modules/lodash/lodash.js");class _ extends a.PureComponent{constructor(){super(...arguments),this.selectOnFocus=this.selectOnFocus.bind(this)}focus(){this.refs.textField.focus()}selectOnFocus(e){this.props.selectOnFocus&&e.target.select()}render(){const e=this.props.inputRef,t=Object(m.omit)(this.props,"isError","isValid","selectOnFocus","inputRef"),n=p()("form-text-input",this.props.className,{"is-error":this.props.isError,"is-valid":this.props.isValid});return c.a.createElement("input",i()({type:"text"},t,{ref:e||"textField",className:n,onClick:this.selectOnFocus}))}}o()(_,"propTypes",{isError:u.a.bool,isValid:u.a.bool,selectOnFocus:u.a.bool,className:u.a.string})},"./client/components/global-notices/container.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n("./node_modules/react/index.js"),i=n.n(s),r=n("./node_modules/classnames/index.js"),o=n.n(r);n("./client/components/global-notices/style.scss");function a(e){let t=e.id,n=e.className,s=e.children;return i.a.createElement("div",{id:t,className:o()("global-notices",n)},s)}},"./client/components/global-notices/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),a=n("./node_modules/create-react-class/index.js"),c=n.n(a),l=n("./node_modules/prop-types/index.js"),u=n.n(l),d=n("./node_modules/react/index.js"),p=n.n(d),m=n("./client/components/notice/index.jsx"),_=n("./client/components/notice/notice-action.jsx"),E=n("./client/components/global-notices/container.jsx"),b=n("./client/notices/index.js"),g=n("./client/lib/mixins/data-observe/index.js"),h=n("./node_modules/react-redux/es/index.js"),f=n("./client/state/notices/selectors.js"),S=n("./client/state/notices/actions.js");const O=c()({displayName:"GlobalNotices",mixins:[Object(g.a)("notices")],propTypes:{id:u.a.string,notices:u.a.oneOfType([u.a.object,u.a.array]),removeNotice:u.a.func.isRequired,storeNotices:u.a.array.isRequired},getDefaultProps:()=>({id:"overlay-notices",notices:Object.freeze([])}),removeNoticeStoreNotice:e=>()=>{e&&b.a.removeNotice(e)},removeReduxNotice(e,t){return n=>{t&&t(n),this.props.removeNotice(e)}},render(){let e=(this.props.notices[this.props.id]||[]).map(function(e,t){return p.a.createElement(m.b,{key:"notice-old-"+t,status:e.status,duration:e.duration||null,text:e.text,isCompact:e.isCompact,onDismissClick:this.removeNoticeStoreNotice(e),showDismiss:e.showDismiss},e.button&&p.a.createElement(_.a,{href:e.href,onClick:e.onClick},e.button))},this);return(e=e.concat(this.props.storeNotices.map(function(e){let t=e.button,n=e.href,s=e.noticeId,r=e.onClick,a=e.onDismissClick,c=o()(e,["button","href","noticeId","onClick","onDismissClick"]);return p.a.createElement(m.b,i()({},c,{key:"notice-".concat(s),onDismissClick:this.removeReduxNotice(s,a)}),t&&p.a.createElement(_.a,{href:n,onClick:r},t))},this))).length?p.a.createElement(E.a,{id:this.props.id},e):null}});t.a=Object(h.b)(e=>({storeNotices:Object(f.b)(e)}),{removeNotice:S.e})(O)},"./client/components/global-notices/style.scss":function(e,t,n){},"./client/components/gravatar/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a),l=n("./node_modules/url/url.js"),u=n.n(l),d=n("./node_modules/qs/lib/index.js"),p=n("./node_modules/react-redux/es/index.js"),m=n("./node_modules/lodash/lodash.js"),_=n("./node_modules/classnames/index.js"),E=n.n(_),b=n("./client/lib/safe-image-url/index.js"),g=n("./client/state/current-user/gravatar-status/selectors.js");n("./client/components/gravatar/style.scss");class h extends r.Component{constructor(){super(...arguments),i()(this,"onError",()=>this.setState({failedToLoad:!0})),this.state={failedToLoad:!1}}getResizedImageURL(e){const t=this.props.imgSize;e=e||"https://www.gravatar.com/avatar/0";const n=u.a.parse(e),s=Object(d.parse)(n.query);return/^([-a-zA-Z0-9_]+\.)*(gravatar.com)$/.test(n.hostname)?(s.s=t,s.d="mm"):s.resize=t+","+t,n.search=Object(d.stringify)(s),u.a.format(n)}render(){const e=this.props,t=e.alt,n=e.title,s=e.size,i=e.tempImage,r=e.user;if(!r)return o.a.createElement("span",{className:"gravatar is-placeholder",style:{width:s,height:s}});if(this.state.failedToLoad&&!i)return o.a.createElement("span",{className:"gravatar is-missing"});const a=t||r.display_name||r.name,c=i||this.getResizedImageURL(Object(b.a)(r.avatar_URL)),l=E()("gravatar",this.props.className);return o.a.createElement("img",{alt:a,title:n,className:l,src:c,width:s,height:s,onError:this.onError})}}i()(h,"propTypes",{user:c.a.object,size:c.a.number,imgSize:c.a.number,tempImage:c.a.oneOfType([c.a.string,c.a.bool])}),i()(h,"defaultProps",{imgSize:96,size:32}),t.a=Object(p.b)((e,t)=>({tempImage:Object(g.a)(e,Object(m.get)(t,"user.ID",!1))}))(h)},"./client/components/gravatar/style.scss":function(e,t,n){},"./client/components/image/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(a),l=n("./node_modules/react/index.js"),u=n.n(l),d=n("./node_modules/classnames/index.js"),p=n.n(d);class m extends l.Component{constructor(){super(...arguments),c()(this,"state",{isError:!1}),c()(this,"handleError",()=>{this.setState({isError:!0})})}componentWillReceiveProps(e){e.src!==this.props.src&&this.setState({isError:!1})}render(){const e=this.props,t=e.className,n=o()(e,["className"]),s=p()(t,{image:!0,"is-error":this.state.isError});return u.a.createElement("img",i()({onError:this.handleError,className:s},n))}}c()(m,"defaultProps",{className:""})},"./client/components/localized-moment/context.js":function(e,t,n){"use strict";n.d(t,"b",function(){return E}),n.d(t,"a",function(){return _});var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/moment/moment.js"),l=n.n(c),u=n("./node_modules/debug/src/browser.js"),d=n.n(u),p=n("./client/state/selectors/get-current-locale-slug.js");const m=d()("calypso:localized-moment"),_=o.a.createContext(l.a);const E=Object(a.b)(e=>({currentLocale:Object(p.a)(e)}))(class extends o.a.Component{constructor(){super(...arguments),i()(this,"state",{moment:l(),momentLocale:l.a.locale()})}async checkAndLoad(e){const t=this.props.currentLocale;if(t!==e){if("en"===t)this.loadingLocalePromise=Promise.resolve();else{m("Loading moment locale for %s",t);try{this.loadingLocalePromise=n("./node_modules/moment/locale lazy recursive ^\\.\\/.*$ include: \\.js$")("./".concat(t)),await this.loadingLocalePromise}catch(e){return void m("Failed to load moment locale for %s",t,e)}m("Loaded moment locale for %s",t)}t===this.props.currentLocale&&(l.a.locale()!==t&&l.a.locale(t),this.setState({momentLocale:t}))}}componentDidMount(){this.checkAndLoad(l.a.locale())}componentDidUpdate(e){this.checkAndLoad(e.currentLocale)}render(){return o.a.createElement(_.Provider,{value:this.state},this.props.children)}})},"./client/components/notice/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return E});var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./node_modules/lodash/lodash.js"),p=n("./packages/i18n-calypso/dist/esm/index.js"),m=n("./client/components/gridicon/index.jsx"),_=n("./client/components/screen-reader-text/index.js");class E extends a.Component{constructor(){super(...arguments),i()(this,"dismissTimeout",null)}componentDidMount(){this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}componentWillUnmount(){this.dismissTimeout&&clearTimeout(this.dismissTimeout)}componentDidUpdate(){clearTimeout(this.dismissTimeout),this.props.duration>0&&(this.dismissTimeout=setTimeout(this.props.onDismissClick,this.props.duration))}getIcon(){let e;switch(this.props.status){case"is-info":e="info";break;case"is-success":e="checkmark";break;case"is-error":case"is-warning":e="notice";break;default:e="info"}return e}render(){const e=this.props,t=e.children,n=e.className,s=e.icon,i=e.isCompact,r=e.isLoading,o=e.onDismissClick,a=e.showDismiss,l=void 0===a?!i:a,d=e.status,p=e.text,E=e.translate,b=u()("notice",d,n,{"is-compact":i,"is-loading":r,"is-dismissable":l});return c.a.createElement("div",{className:b},c.a.createElement("span",{className:"notice__icon-wrapper"},c.a.createElement(m.a,{className:"notice__icon",icon:s||this.getIcon(),size:24})),c.a.createElement("span",{className:"notice__content"},c.a.createElement("span",{className:"notice__text"},p||t)),p?t:null,l&&c.a.createElement("span",{tabIndex:"0",className:"notice__dismiss",onClick:o},c.a.createElement(m.a,{icon:"cross",size:24}),c.a.createElement(_.a,null,E("Dismiss"))))}}i()(E,"defaultProps",{className:"",duration:0,icon:null,isCompact:!1,isLoading:!1,onDismissClick:d.noop,status:null,text:null}),i()(E,"propTypes",{className:o.a.string,duration:o.a.number,icon:o.a.string,isCompact:o.a.bool,isLoading:o.a.bool,onDismissClick:o.a.func,showDismiss:o.a.bool,status:o.a.oneOf(["is-error","is-info","is-success","is-warning","is-plain"]),text:o.a.oneOfType([o.a.arrayOf(o.a.oneOfType([o.a.string,o.a.node])),o.a.oneOfType([o.a.string,o.a.node])]),translate:o.a.func.isRequired}),t.b=Object(p.localize)(E)},"./client/components/notice/notice-action.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return u});var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./client/components/gridicon/index.jsx");class u extends c.a.Component{render(){const e={className:"notice__action",href:this.props.href,onClick:this.props.onClick};return this.props.external&&(e.target="_blank",e.rel="noopener noreferrer"),c.a.createElement("a",e,c.a.createElement("span",null,this.props.children),this.props.icon&&c.a.createElement(l.a,{icon:this.props.icon,size:24}),this.props.external&&c.a.createElement(l.a,{icon:"external",size:24}))}}i()(u,"displayName","NoticeAction"),i()(u,"propTypes",{href:o.a.string,onClick:o.a.func,external:o.a.bool,icon:o.a.string}),i()(u,"defaultProps",{external:!1})},"./client/components/plans/plan-icon/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var s=n("./node_modules/prop-types/index.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/classnames/index.js"),c=n.n(a),l=n("./client/lib/plans/constants.js"),u=n("./client/lib/plans/plans-list.js"),d=n("./client/lib/plans/index.js");n("./client/components/plans/plan-icon/style.scss");class p extends r.Component{getIcon(e){const t=this.props,n=t.plan,s=t.className,i=Object(d.i)(n),r=Object(d.B)(n,{group:l.Xb});return o.a.createElement("img",{src:"/calypso/images/plans/".concat(r?"jetpack":"wpcom","/plan-").concat(e,"-circle.svg"),className:c()("plan-icon","plan-icon__".concat(e),i,s)})}render(){const e=this.props.plan;return Object(d.m)(e)?this.getIcon("blogger"):Object(d.r)(e)?this.getIcon("personal"):Object(d.t)(e)?this.getIcon("premium"):Object(d.n)(e)?this.getIcon("business"):Object(d.o)(e)?this.getIcon("ecommerce"):this.getIcon("free")}}p.propTypes={classNames:i.a.string,plan:i.a.oneOf(Object.keys(u.a)).isRequired}},"./client/components/plans/plan-icon/style.scss":function(e,t,n){},"./client/components/popover/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/react-dom/index.js"),u=n.n(l),d=n("./node_modules/react-redux/es/index.js"),p=n("./node_modules/debug/src/browser.js"),m=n.n(p),_=n("./node_modules/classnames/index.js"),E=n.n(_),b=n("./node_modules/click-outside/build/index.js"),g=n.n(b),h=n("./node_modules/lodash/lodash.js"),f=n("./client/components/root-child/index.jsx"),S=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),O=n.n(S),j=n("./node_modules/bounding-client-rect/index.js"),T=n.n(j);const y=m()("calypso:popover:util");function I(){const e={};return e.top=window.scrollY,e.left=window.scrollX,e.width=window.innerWidth,e.height=window.innerHeight,e.right=e.left+e.width,e.bottom=e.top+e.height,y("viewport: %o",e),e}const R={top:"bottom",bottom:"top",left:"right",right:"left"},C={top:"right",left:"top",bottom:"left",right:"bottom"};let A=I();function v(){A=I()}let N=!1;const U=()=>{if(N)return y("window events already bound");N=!0,y("bind handlers to `resize` and `scroll` events"),window.addEventListener("resize",v,!0),window.addEventListener("scroll",v,!0)},w=()=>{if(!N)return y("window events are not bound");N=!1,y("unbind handlers to `resize` and `scroll` events"),window.removeEventListener("resize",v,!0),window.removeEventListener("scroll",v,!0)},P=(e,t,n)=>{const s=T()(n),i=t.clientHeight,r=t.clientWidth,o={top:s.top-i,bottom:A.height-s.bottom-i,left:s.left-r,right:A.width-s.right-r},a=e.split(/\s+/),c=O()(a,1)[0];let l=O()(a,2)[1];const u=function(e,t){const n=[e,R[e],C[e],R[C[e]]];let s,i=-1/0;for(let r=0,o=n.length;r<o;r++){const o=n[r],a=t[o];if(a>0)return o;a>i&&(i=a,s=e)}return s}(c,o);return l!==u&&l!==R[u]||(l=null),function(e,t,n,s,i,r){const o="top"===e||"bottom"===e,a=t?[o?"".concat(e," ").concat(t):"".concat(t," ").concat(e),e,o?"".concat(e," ").concat(R[t]):"".concat(R[t]," ").concat(e)]:[e,o?"".concat(e," ").concat(C[e]):"".concat(C[e]," ").concat(e),o?"".concat(e," ").concat(R[C[e]]):"".concat(R[C[e]]," ").concat(e)];let c,l=0;const u=i*r;for(let e=0,t=a.length;e<t;e++){const t=a[e],o=D(t,n,s),d=o.left+i,p=o.top+r,m=Math.min(o.top<A.top?p-A.top:A.bottom-o.top,r),_=Math.min(o.left<A.left?d-A.left:A.right-o.left,i),E=_*m;if(E===u)return t;E>l&&(l=E,c=t)}return c}(u,l,t,n,r,i)||e};function D(e,t,n,s){const i=T()(t);if(!i)throw new Error("could not get bounding client rect of Tip element");const r=i.width,o=i.height,a=T()(n);if(!a)throw new Error("could not get bounding client rect of `target`");const c=a.width,l=a.height,u=function(e,t){const n=t.body||t.getElementsByTagName("body")[0],s=t.documentElement||n.parentNode,i=s.clientTop||n.clientTop||0,r=s.clientLeft||n.clientLeft||0,o=window.pageYOffset||s.scrollTop,a=window.pageXOffset||s.scrollLeft;return{top:e.top+o-i,left:e.left+a-r}}(a,document);if(!u)throw new Error("could not determine page offset of `target`");let d={};switch(e){case"top":d={top:u.top-o,left:s&&s.left?u.left+s.left:u.left+c/2-r/2};break;case"bottom":d={top:u.top+l,left:s&&s.left?u.left+s.left:u.left+c/2-r/2};break;case"right":d={top:u.top+l/2-o/2,left:u.left+c};break;case"left":d={top:u.top+l/2-o/2,left:u.left-r};break;case"top left":d={top:u.top-o,left:u.left+c/2-r+15};break;case"top right":d={top:u.top-o,left:u.left+c/2-15};break;case"bottom left":d={top:u.top+l,left:u.left+c/2-r+15};break;case"bottom right":d={top:u.top+l,left:u.left+c/2-15};break;case"left top":d={top:u.top+l/2-o,left:u.left-r};break;case"left bottom":d={top:u.top+l/2,left:u.left-r};break;case"right top":d={top:u.top+l/2-o,left:u.left+c};break;case"right bottom":d={top:u.top+l/2,left:u.left+c};break;default:throw new Error('invalid position "'.concat(e,'"'))}return d}const L=function(e,t){const n=T()(t).width;return e.left=Math.max(0,Math.min(e.left,A.width-n)),e};var k=n("./client/state/selectors/is-rtl.js");const x=()=>{},M=m()("calypso:popover"),F=new Set;class G extends a.Component{constructor(e){super(e),i()(this,"isUpdatingPosition",!1),this.setPopoverId(e.id),this.setDOMBehavior=this.setDOMBehavior.bind(this),this.setPosition=this.setPosition.bind(this),this.onClickout=this.onClickout.bind(this),this.onKeydown=this.onKeydown.bind(this),this.onWindowChange=this.onWindowChange.bind(this),this.state={show:e.isVisible,left:-99999,top:-99999,positionClass:this.getPositionClass(e.position)}}componentDidMount(){this.state.show&&(this.bindEscKeyListener(),this.bindDebouncedReposition(),U())}componentWillReceiveProps(e){if(this.domContext=u.a.findDOMNode(e.context),!e.isVisible)return null;this.setPosition()}componentDidUpdate(e,t){const n=this.props.isVisible;return!t.show&&this.state.show&&(this.bindEscKeyListener(),this.bindDebouncedReposition(),U()),n!==e.isVisible&&(n?this.show():this.hide()),this.domContainer&&this.domContext&&n?void(this.isUpdatingPosition||(this.debug("requesting to update position after render completes"),requestAnimationFrame(()=>{F.has(this.id)&&this.domContainer&&this.domContext&&n?(this.setPosition(),this.isUpdatingPosition=!1):this.isUpdatingPosition=!1}),this.isUpdatingPosition=!0)):null}componentWillUnmount(){this.debug("unmounting .... "),this.unbindClickoutHandler(),this.unbindDebouncedReposition(),this.unbindEscKeyListener(),w(),F.delete(this.id),M("current popover instances: ",F.size)}bindEscKeyListener(){if(!this.props.closeOnEsc)return null;this.debug("adding escKey listener ..."),document.addEventListener("keydown",this.onKeydown,!0)}unbindEscKeyListener(){if(!this.props.closeOnEsc)return null;this.debug("unbinding `escKey` listener ..."),document.removeEventListener("keydown",this.onKeydown,!0)}onKeydown(e){if(27!==e.keyCode)return null;this.close(!0)}bindClickoutHandler(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.domContainer;return e?this._clickoutHandlerReference?(this.debug("clickout event already bound"),null):(this.debug("binding `clickout` event"),void(this._clickoutHandlerReference=g()(e,this.onClickout))):(this.debug("no element to bind clickout "),null)}unbindClickoutHandler(){this._clickoutHandlerReference&&(this.debug("unbinding `clickout` listener ..."),this._clickoutHandlerReference(),this._clickoutHandlerReference=null)}onClickout(e){let t=this.domContext&&this.domContext.contains&&!this.domContext.contains(e.target);if(this.props.ignoreContext&&t){const n=u.a.findDOMNode(this.props.ignoreContext);t=t&&n&&n.contains&&!n.contains(e.target)}t&&this.close()}bindDebouncedReposition(){window.addEventListener("scroll",this.onWindowChange,!0),window.addEventListener("resize",this.onWindowChange,!0)}unbindDebouncedReposition(){this.willReposition&&(window.cancelAnimationFrame(this.willReposition),this.willReposition=null),window.removeEventListener("scroll",this.onWindowChange,!0),window.removeEventListener("resize",this.onWindowChange,!0),this.debug("unbinding `debounce reposition` ...")}onWindowChange(){this.willReposition=window.requestAnimationFrame(this.setPosition)}setDOMBehavior(e){if(!e)return this.unbindClickoutHandler(),null;this.debug("setting DOM behavior"),this.bindClickoutHandler(e),this.domContainer=e,this.domContext=u.a.findDOMNode(this.props.context),this.setPosition()}getPositionClass(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.props.position;return"is-".concat(e.replace(/\s+/g,"-"))}adjustRtlPosition(e){if(this.props.isRtl)switch(e){case"top right":case"right top":return"top left";case"right":return"left";case"bottom right":case"right bottom":return"bottom left";case"bottom left":case"left bottom":return"bottom right";case"left":return"right";case"top left":case"left top":return"top right"}return e}computePosition(){if(!this.props.isVisible)return null;const e=this.domContainer,t=this.domContext,n=this.props,s=n.position,i=n.relativePosition;if(!e||!t)return this.debug("[WARN] no DOM elements to work"),null;let r=s;this.debug("position: %o",r),this.props.autoRtl&&(r=this.adjustRtlPosition(r),this.debug("RTL adjusted position: %o",r)),this.props.autoPosition&&(r=P(r,e,t),this.debug("suggested position: %o",r));const o=Object.assign({},L(D(r,e,t,i),e),{positionClass:this.getPositionClass(r)});return this.debug("updating reposition: ",o),o}debug(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];M("[%s] ".concat(e),this.id,...n)}setPopoverId(e){this.id=e||"pop__".concat(Object(h.uniqueId)()),F.add(this.id),this.debug("creating ..."),M("current popover instances: ",F.size)}setPosition(){let e;if(this.debug("updating position"),!(e=this.props.customPosition?Object.assign({positionClass:this.getPositionClass(this.constructor.defaultProps.position)},this.props.customPosition):this.computePosition()))return null;this.willReposition=null,this.setState(e)}getStylePosition(){const e=this.state;return{left:e.left,top:e.top}}show(){if(!this.props.showDelay)return this.setState({show:!0}),null;this.debug("showing in %o","".concat(this.props.showDelay,"ms")),this.clearShowTimer(),this._openDelayTimer=setTimeout(()=>{this.setState({show:!0})},this.props.showDelay)}hide(){this.unbindClickoutHandler(),this.unbindDebouncedReposition(),this.unbindEscKeyListener(),w(),this.setState({show:!1}),this.clearShowTimer()}clearShowTimer(){if(!this._openDelayTimer)return null;clearTimeout(this._openDelayTimer),this._openDelayTimer=null}close(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.props.isVisible)return this.debug("popover should be already closed"),null;this.props.onClose(e)}render(){if(!this.state.show)return this.debug("is hidden. return no render"),null;if(!this.props.context)return this.debug("No `context` to tie. return no render"),null;const e=E()("popover",this.props.className,this.state.positionClass);return this.debug("rendering ..."),c.a.createElement(f.a,{className:this.props.rootClassName},c.a.createElement("div",{style:this.getStylePosition(),className:e},c.a.createElement("div",{className:"popover__arrow"}),c.a.createElement("div",{ref:this.setDOMBehavior,className:"popover__inner"},this.props.children)))}}i()(G,"propTypes",{autoPosition:o.a.bool,autoRtl:o.a.bool,className:o.a.string,closeOnEsc:o.a.bool,id:o.a.string,ignoreContext:o.a.shape({getDOMNode:o.a.function}),isRtl:o.a.bool,isVisible:o.a.bool,position:o.a.oneOf(["top","top right","right","bottom right","bottom","bottom left","left","top left"]),rootClassName:o.a.string,showDelay:o.a.number,onClose:o.a.func,onShow:o.a.func,relativePosition:o.a.shape({left:o.a.number}),customPosition:o.a.shape({top:o.a.number,left:o.a.number,positionClass:o.a.oneOf(["top","right","bottom","left"])})}),i()(G,"defaultProps",{autoPosition:!0,autoRtl:!0,className:"",closeOnEsc:!0,isRtl:!1,isVisible:!1,position:"top",showDelay:0,onClose:x,onShow:x});t.a=Object(d.b)(e=>({isRtl:Object(k.a)(e)}))(G)},"./client/components/pulsing-dot/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n("./node_modules/classnames/index.js"),l=n.n(c);n("./client/components/pulsing-dot/style.scss");class u extends o.a.Component{constructor(){super(...arguments),i()(this,"timeout",null),i()(this,"state",{show:!1})}componentDidMount(){const e=this.props.delay;this.timeout=setTimeout(()=>{this.setState({show:!0})},e)}componentWillUnmount(){this.timeout&&clearTimeout(this.timeout)}render(){const e=this.props.active;if(!this.state.show)return null;const t=l()("pulsing-dot",{"is-active":e});return o.a.createElement("div",{className:t})}}u.propTypes={delay:a.number.isRequired},u.defaultProps={delay:0},t.a=u},"./client/components/pulsing-dot/style.scss":function(e,t,n){},"./client/components/root-child/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return m});var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react-dom/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a),l=n("./node_modules/react/index.js"),u=n.n(l),d=n("./node_modules/react-redux/es/index.js"),p=n("./client/components/localized-moment/context.js");class m extends u.a.Component{constructor(){super(...arguments),i()(this,"renderChildren",()=>{let e;e=this.props&&(Object.keys(this.props).length>1||!this.props.children)?u.a.createElement("div",this.props,this.props.children):this.props.children,this.context.store&&(e=u.a.createElement(d.a,{store:this.context.store},u.a.createElement(p.b,null,e))),o.a.render(e,this.container)})}componentDidMount(){this.container=document.createElement("div"),document.body.appendChild(this.container),this.renderChildren()}componentDidUpdate(){this.renderChildren()}componentWillUnmount(){this.container&&(o.a.unmountComponentAtNode(this.container),document.body.removeChild(this.container),delete this.container)}render(){return null}}i()(m,"contextTypes",{store:c.a.object})},"./client/components/screen-reader-text/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./node_modules/react/index.js"),i=n.n(s);n("./client/components/screen-reader-text/style.scss");function r(e){let t=e.children;return i.a.createElement("span",{className:"screen-reader-text"},t)}},"./client/components/screen-reader-text/style.scss":function(e,t,n){},"./client/components/search/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/prop-types/index.js"),u=n.n(l),d=n("./node_modules/classnames/index.js"),p=n.n(d),m=n("./node_modules/lodash/lodash.js"),_=n("./packages/i18n-calypso/dist/esm/index.js"),E=n.n(_),b=n("./client/components/gridicon/index.jsx"),g=n("./client/lib/analytics/index.js"),h=n("./client/components/spinner/index.jsx"),f=n("./client/lib/viewport/index.js"),S=n("./client/components/translatable/proptype.js");n("./client/components/search/style.scss");function O(e,t){switch(t.key){case" ":case"Enter":this[e](t)}}class j extends a.Component{constructor(e){super(e),o()(this,"setOpenIconRef",e=>this.openIcon=e),o()(this,"setSearchInputRef",e=>this.searchInput=e),o()(this,"setOverlayRef",e=>this.overlay=e),o()(this,"scrollOverlay",()=>{this.overlay&&window.requestAnimationFrame(()=>{this.overlay&&this.searchInput&&(this.overlay.scrollLeft=this.getScrollLeft(this.searchInput))})}),o()(this,"getScrollLeft",e=>{if(!e.createTextRange)return e.scrollLeft;const t=e.createTextRange(),n=window.getComputedStyle(e,void 0),s=parseFloat(n.paddingLeft),i=t.getBoundingClientRect();return e.getBoundingClientRect().left+e.clientLeft+s-i.left}),o()(this,"focus",()=>{setTimeout(()=>this.searchInput&&this.searchInput.focus(),0)}),o()(this,"blur",()=>this.searchInput.blur()),o()(this,"clear",()=>this.setState({keyword:""})),o()(this,"onBlur",e=>{this.props.onBlur&&this.props.onBlur(e),this.setState({hasFocus:!1})}),o()(this,"onChange",e=>{this.setState({keyword:e.target.value})}),o()(this,"openSearch",e=>{e.preventDefault(),this.setState({keyword:"",isOpen:!0}),g.default.ga.recordEvent(this.props.analyticsGroup,"Clicked Open Search")}),o()(this,"closeSearch",e=>{e.preventDefault(),this.props.disabled||(this.setState({keyword:"",isOpen:this.props.isOpen||!1}),this.searchInput.value="",this.searchInput.blur(),this.props.pinned&&this.openIcon.focus(),this.props.onSearchClose(e),g.default.ga.recordEvent(this.props.analyticsGroup,"Clicked Close Search"))}),o()(this,"keyUp",e=>{"Enter"===e.key&&Object(f.e)()&&this.blur(),this.props.pinned&&("Escape"===e.key&&this.closeSearch(e),this.scrollOverlay())}),o()(this,"keyDown",e=>{this.scrollOverlay(),"Escape"===e.key&&""===e.target.value&&this.closeSearch(e),this.props.onKeyDown(e)}),o()(this,"onFocus",()=>{if(!this.searchInput)return;const e=this.searchInput.value;e&&(this.searchInput.value="",this.searchInput.value=e),this.setState({hasFocus:!0}),this.props.onSearchOpen()}),this.instanceId=Object(m.uniqueId)(),this.state={keyword:e.initialValue||"",isOpen:!!e.isOpen,hasFocus:e.autoFocus},this.closeListener=O.bind(this,"closeSearch"),this.openListener=O.bind(this,"openSearch")}componentWillReceiveProps(e){e.onSearch===this.props.onSearch&&e.delaySearch===this.props.delaySearch||(this.onSearch=this.props.delaySearch?Object(m.debounce)(this.props.onSearch,this.props.delayTimeout):this.props.onSearch),e.isOpen&&this.setState({isOpen:e.isOpen}),this.props.value===e.value||!e.value&&""!==e.value||e.value===this.state.keyword||this.setState({keyword:e.value})}componentDidUpdate(e,t){this.scrollOverlay(),(this.state.isOpen&&!t.isOpen||this.props.autoFocus&&!e.autoFocus)&&this.focus(),this.state.keyword!==t.keyword&&(this.state.keyword?this.onSearch(this.state.keyword):(this.props.delaySearch&&this.onSearch.cancel(),this.props.onSearch(this.state.keyword)),this.props.onSearchChange(this.state.keyword))}componentDidMount(){this.onSearch=this.props.delaySearch?Object(m.debounce)(this.props.onSearch,this.props.delayTimeout):this.props.onSearch}render(){const e=this.state.keyword,t=this.props.placeholder||E.a.translate("Search…",{textOnly:!0}),n=this.props.inputLabel,s=this.props.pinned&&!this.state.isOpen,r=this.state.isOpen||!this.props.pinned||this.props.initialValue,o=this.props.disableAutocorrect&&{autoComplete:"off",autoCorrect:"off",spellCheck:"false"},a=p()(this.props.additionalClasses,this.props.dir,{"is-expanded-to-container":this.props.fitsContainer,"is-open":r,"is-searching":this.props.searching,"is-compact":this.props.compact,"has-focus":this.state.hasFocus,"has-open-icon":!this.props.hideOpenIcon,search:!0}),l=p()("search__input-fade",this.props.dir),u=p()("search__input",this.props.dir);return c.a.createElement("div",{dir:this.props.dir||null,className:a,role:"search"},c.a.createElement(h.a,null),c.a.createElement("div",{role:"button",className:"search__icon-navigation",ref:this.setOpenIconRef,onClick:s?this.openSearch:this.focus,tabIndex:s?"0":null,onKeyDown:s?this.openListener:null,"aria-controls":"search-component-"+this.instanceId,"aria-label":E.a.translate("Open Search",{context:"button label"})},!this.props.hideOpenIcon&&c.a.createElement(b.a,{icon:"search",className:"search__open-icon"})),c.a.createElement("div",{className:l},c.a.createElement("input",i()({type:"search",id:"search-component-"+this.instanceId,autoFocus:this.props.autoFocus,"aria-describedby":this.props.describedBy,"aria-label":n||E.a.translate("Search"),"aria-hidden":!r,className:u,placeholder:t,role:"searchbox",value:e,ref:this.setSearchInputRef,onChange:this.onChange,onKeyUp:this.keyUp,onKeyDown:this.keyDown,onMouseUp:this.props.onClick,onFocus:this.onFocus,onBlur:this.onBlur,disabled:this.props.disabled,autoCapitalize:"none",dir:this.props.dir,maxLength:this.props.maxLength,minLength:this.props.minLength},o)),this.props.overlayStyling&&this.renderStylingDiv()),this.closeButton())}renderStylingDiv(){return c.a.createElement("div",{className:"search__text-overlay",ref:this.setOverlayRef},this.props.overlayStyling(this.state.keyword))}closeButton(){return this.props.hideClose||!this.state.keyword&&!this.state.isOpen?null:c.a.createElement("div",{role:"button",className:"search__icon-navigation",onClick:this.closeSearch,tabIndex:"0",onKeyDown:this.closeListener,"aria-controls":"search-component-"+this.instanceId,"aria-label":E.a.translate("Close Search",{context:"button label"})},c.a.createElement(b.a,{icon:"cross",className:"search__close-icon"}))}}o()(j,"propTypes",{additionalClasses:u.a.string,initialValue:u.a.string,value:u.a.string,placeholder:S.a,pinned:u.a.bool,delaySearch:u.a.bool,delayTimeout:u.a.number,describedBy:u.a.string,onSearch:u.a.func.isRequired,onSearchChange:u.a.func,onSearchOpen:u.a.func,onSearchClose:u.a.func,analyticsGroup:u.a.string,overlayStyling:u.a.func,autoFocus:u.a.bool,disabled:u.a.bool,onKeyDown:u.a.func,onClick:u.a.func,disableAutocorrect:u.a.bool,onBlur:u.a.func,searching:u.a.bool,isOpen:u.a.bool,dir:u.a.oneOf(["ltr","rtl"]),fitsContainer:u.a.bool,maxLength:u.a.number,minLength:u.a.number,hideClose:u.a.bool,compact:u.a.bool,hideOpenIcon:u.a.bool,inputLabel:u.a.string}),o()(j,"defaultProps",{pinned:!1,delaySearch:!1,delayTimeout:300,autoFocus:!1,disabled:!1,describedBy:null,onSearchChange:m.noop,onSearchOpen:m.noop,onSearchClose:m.noop,onKeyDown:m.noop,onClick:m.noop,overlayStyling:void 0,disableAutocorrect:!1,searching:!1,isOpen:!1,dir:void 0,fitsContainer:!1,hideClose:!1,compact:!1,hideOpenIcon:!1}),t.a=j},"./client/components/search/style.scss":function(e,t,n){},"./client/components/seo/meta-title-editor/mappings.js":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var s=n("./node_modules/lodash/lodash.js");const i=(e,t)=>({type:"string",value:e.value+t.value}),r=Object(s.unary)(Object(s.partialRight)(s.map,e=>Object.assign({},{type:"string"===e.type?"string":Object(s.camelCase)(e.value)},"string"===e.type&&{value:e.value}))),o=Object(s.unary)(Object(s.flowRight)(Object(s.partialRight)(s.reduce,(e,t)=>{const n=Object(s.last)(e);return n&&"string"===n.type&&"string"===t.type?[...Object(s.initial)(e),i(n,t)]:[...e,t]},[]),Object(s.partialRight)(s.map,e=>({type:"string"===e.type?"string":"token",value:Object(s.get)(e,"value",Object(s.snakeCase)(e.type))})))),a=Object(s.flowRight)(Object(s.partialRight)(s.mapKeys,Object(s.rearg)(s.snakeCase,1)),Object(s.partialRight)(s.mapValues,o)),c=Object(s.flowRight)(Object(s.partialRight)(s.mapKeys,Object(s.rearg)(s.camelCase,1)),Object(s.partialRight)(s.mapValues,r))},"./client/components/site-selector/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a),l=n("./node_modules/react-dom/index.js"),u=n.n(l),d=n("./node_modules/react-redux/es/index.js"),p=n("./packages/i18n-calypso/dist/esm/index.js"),m=n("./node_modules/page/page.js"),_=n.n(m),E=n("./node_modules/classnames/index.js"),b=n.n(E),g=n("./node_modules/lodash/lodash.js"),h=n("./node_modules/dom-scroll-into-view/lib/index.js"),f=n.n(h),S=n("./node_modules/debug/src/browser.js"),O=n.n(S),j=n("./client/state/preferences/selectors.js"),T=n("./client/state/current-user/selectors.js"),y=n("./client/state/ui/selectors.js"),I=n("./client/state/sites/selectors.js"),R=n("./client/state/selectors/are-all-sites-single-user.js"),C=n("./client/state/selectors/get-sites.js"),A=n("./client/state/selectors/get-visible-sites.js"),v=n("./client/state/selectors/has-loaded-sites.js"),N=n("./client/blocks/all-sites/index.jsx"),U=n("./client/blocks/site/index.jsx"),w=n("./client/blocks/site/placeholder.jsx"),P=n("./client/components/search/index.jsx"),D=n("./client/components/gridicon/index.jsx"),L=n("./client/components/button/index.jsx"),k=n("./client/state/analytics/actions.js");var x=Object(d.b)(null,{recordTracksEvent:k.i})(Object(p.localize)(class extends r.Component{constructor(){super(...arguments),i()(this,"recordAddNewSite",()=>{this.props.recordTracksEvent("calypso_add_new_wordpress_click")})}getAddNewSiteUrl(){return"/jetpack/new/?ref=calypso-selector"}render(){const e=this.props.translate;return o.a.createElement("span",{className:"site-selector__add-new-site"},o.a.createElement(L.a,{borderless:!0,href:this.getAddNewSiteUrl(),onClick:this.recordAddNewSite},o.a.createElement(D.a,{icon:"add-outline"})," ",e("Add New Site")))}})),M=n("./node_modules/@babel/runtime/helpers/extends.js"),F=n.n(M);const G=(e,t,n)=>e.filter(e=>((e,t,n)=>n.some(n=>Object(g.get)(e,n,"").toLowerCase().indexOf(t)>-1))(e,t,n)),V=e=>({sites:Object(C.a)(e)});const q="ALL_SITES",H=O()("calypso:site-selector");class Q extends r.Component{constructor(){super(...arguments),i()(this,"state",{highlightedIndex:-1,showSearch:!1,isKeyboardEngaged:!1}),i()(this,"onSearch",e=>{this.props.searchSites(e),this.setState({highlightedIndex:e?0:-1,showSearch:!!e||this.state.showSearch,isKeyboardEngaged:!0})}),i()(this,"onKeyDown",e=>{const t=this.visibleSites.length;if(0===t||e.shiftKey)return;const n=this.computeHighlightedSite(),s=n.highlightedSiteId,i=n.highlightedIndex;let r=null;switch(e.key){case"ArrowUp":(r=i-1)<0&&(r=t-1);break;case"ArrowDown":(r=i+1)>=t&&(r=0);break;case"Enter":s&&(s===q?this.onSiteSelect(e,q):this.onSiteSelect(e,s))}null!==r&&(this.lastMouseHover=null,this.setState({highlightedIndex:r,isKeyboardEngaged:!0}))}),i()(this,"onSiteSelect",(e,t)=>{const n=this.props.onSiteSelect(t);if(this.props.onClose(e,t),!this.siteSelectorRef)return;const s=u.a.findDOMNode(this.siteSelectorRef);s&&(s.scrollTop=0),n||this.props.navigateToSite(t,this.props)}),i()(this,"onAllSitesSelect",e=>{this.onSiteSelect(e,q)}),i()(this,"onSiteHover",(e,t)=>{this.lastMouseHover!==t&&(H("".concat(t," hovered")),this.lastMouseHover=t)}),i()(this,"onAllSitesHover",()=>{this.lastMouseHover!==q&&(H("ALL_SITES hovered"),this.lastMouseHover=q)}),i()(this,"onMouseLeave",()=>{H("mouse left site selector - nothing hovered anymore"),this.lastMouseHover=null}),i()(this,"onMouseMove",e=>{e.pageX===this.lastMouseMoveX&&e.pageY===this.lastMouseMoveY||(this.lastMouseMoveY=e.pageY,this.lastMouseMoveX=e.pageX,this.state.isKeyboardEngaged&&this.setState({isKeyboardEngaged:!1}))}),i()(this,"setSiteSelectorRef",e=>this.siteSelectorRef=e)}componentDidUpdate(e,t){this.state.isKeyboardEngaged&&t.highlightedIndex!==this.state.highlightedIndex&&this.scrollToHighlightedSite()}scrollToHighlightedSite(){if(!this.siteSelectorRef)return;const e=u.a.findDOMNode(this.siteSelectorRef);if(!e)return;const t=e.querySelector(".site.is-highlighted, .site-selector .all-sites.is-highlighted");t&&f()(t,e,{onlyScrollIfNeeded:!0})}computeHighlightedSite(){let e,t;return this.state.isKeyboardEngaged?(H("using highlight from last keyboard interaction"),e=this.visibleSites[this.state.highlightedIndex],t=this.state.highlightedIndex):this.lastMouseHover?(H("restoring highlight from last mouse hover (".concat(this.lastMouseHover,")")),e=this.props.highlightedSiteId||this.lastMouseHover,t=this.visibleSites.indexOf(e)):(H("reseting highlight as mouse left site selector"),e=null,t=-1),{highlightedSiteId:e,highlightedIndex:t}}isSelected(e){const t=this.props.selected||this.props.selectedSite;return e===q&&null===t||t===e.ID||t===e.domain||t===e.slug}isHighlighted(e){return this.state.isKeyboardEngaged&&this.visibleSites.indexOf(e)===this.state.highlightedIndex}shouldShowGroups(){return this.props.groups}sitesToBeRendered(){let e;return e=this.props.sitesFound?this.props.sitesFound:this.props.visibleSites,this.props.filter&&(e=e.filter(this.props.filter)),this.props.hideSelected&&this.props.selected&&(e=e.filter(e=>e.slug!==this.props.selected)),e}shouldRenderRecentSites(){return this.props.showRecentSites&&this.shouldShowGroups()&&!this.props.sitesFound}renderAllSites(){if(!this.props.showAllSites||this.props.sitesFound||!this.props.allSitesPath)return null;this.visibleSites.push(q);const e=this.isHighlighted(q);return o.a.createElement(N.a,{key:"selector-all-sites",sites:this.props.sites,onSelect:this.onAllSitesSelect,onMouseEnter:this.onAllSitesHover,isHighlighted:e,isSelected:this.isSelected(q)})}renderRecentSites(e){if(!this.shouldRenderRecentSites())return null;const t=[];for(const n of this.props.recentSites){const s=Object(g.find)(e,{ID:n});s&&t.push(s)}if(Object(g.isEmpty)(t))return null;const n=t.map(this.renderSite,this);return o.a.createElement("div",{className:"site-selector__recent"},n)}renderSites(e){if(!this.props.hasAllSitesList)return o.a.createElement(w.a,{key:"site-placeholder"});if(this.shouldRenderRecentSites()){const t=this.props.recentSites;e=Object(g.filter)(e,e=>{let n=e.ID;return!Object(g.includes)(t,n)})}const t=e.map(this.renderSite,this);return t.length?t:o.a.createElement("div",{className:"site-selector__no-results"},this.props.translate("No sites found"))}renderSite(e){if(!e)return null;this.visibleSites.push(e.ID);const t=this.isHighlighted(e.ID);return o.a.createElement(U.a,{site:e,key:"site-"+e.ID,indicator:this.props.indicator,onSelect:this.onSiteSelect,onMouseEnter:this.onSiteHover,isHighlighted:t,isSelected:this.isSelected(e)})}render(){if(this.props.isPlaceholder)return o.a.createElement("div",{className:"site-selector"});const e=this.props.siteCount-this.props.visibleSiteCount,t=b()("site-selector","sites-list",this.props.className,{"is-large":this.props.siteCount>6||e>0||this.state.showSearch,"is-single":1===this.props.visibleSiteCount,"is-hover-enabled":!this.state.isKeyboardEngaged});this.visibleSites=[];const n=this.sitesToBeRendered();return o.a.createElement("div",{className:t,onMouseMove:this.onMouseMove,onMouseLeave:this.onMouseLeave},o.a.createElement(P.a,{ref:"siteSearch",onSearch:this.onSearch,delaySearch:!0,autoFocus:this.props.autoFocus,disabled:!this.props.hasLoadedSites,onSearchClose:this.props.onClose,onKeyDown:this.onKeyDown}),o.a.createElement("div",{className:"site-selector__sites",ref:this.setSiteSelectorRef},this.renderAllSites(),this.renderRecentSites(n),this.renderSites(n),e>0&&!this.props.sitesFound&&o.a.createElement("span",{className:"site-selector__hidden-sites-message"},this.props.translate("%(hiddenSitesCount)d more hidden site. {{a}}Change{{/a}}.{{br/}}Use search to access it.","%(hiddenSitesCount)d more hidden sites. {{a}}Change{{/a}}.{{br/}}Use search to access them.",{count:e,args:{hiddenSitesCount:e},components:{br:o.a.createElement("br",null),a:o.a.createElement("a",{href:"https://dashboard.wordpress.com/wp-admin/index.php?page=my-blogs&show=hidden",className:"site-selector__manage-hidden-sites",target:"_blank",rel:"noopener noreferrer"})}}))),this.props.showAddNewSite&&o.a.createElement(x,null))}}i()(Q,"propTypes",{isPlaceholder:c.a.bool,sites:c.a.array,siteBasePath:c.a.oneOfType([c.a.string,c.a.bool]),showAddNewSite:c.a.bool,showAllSites:c.a.bool,indicator:c.a.bool,autoFocus:c.a.bool,onClose:c.a.func,selected:c.a.oneOfType([c.a.number,c.a.string]),hideSelected:c.a.bool,filter:c.a.func,groups:c.a.bool,onSiteSelect:c.a.func,showRecentSites:c.a.bool,recentSites:c.a.array,selectedSite:c.a.object,visibleSites:c.a.arrayOf(c.a.object),allSitesPath:c.a.string,navigateToSite:c.a.func.isRequired}),i()(Q,"defaultProps",{sites:{},showAddNewSite:!1,showAllSites:!1,siteBasePath:!1,indicator:!1,hideSelected:!1,selected:null,onClose:g.noop,onSiteSelect:g.noop,groups:!1,autoFocus:!1});t.a=Object(g.flow)(p.localize,function(e){const t=e.displayName||e.name||"",n=Object(d.b)(V)(class extends r.Component{constructor(){super(...arguments),i()(this,"state",{term:null}),i()(this,"setSearchTerm",e=>this.setState({term:e}))}getSearchResults(){return this.state.term?G(this.props.sites,this.state.term.toLowerCase(),["name","URL"]):null}render(){return o.a.createElement(e,F()({},this.props,{searchSites:this.setSearchTerm,sitesFound:this.getSearchResults()}))}});return n.displayName="SearchSites(".concat(t,")"),n},Object(d.b)(e=>{const t=Object(T.b)(e),n=Object(g.get)(t,"visible_site_count",0);return{hasLoadedSites:Object(v.a)(e),sites:Object(C.a)(e),showRecentSites:Object(g.get)(t,"visible_site_count",0)>11,recentSites:Object(j.b)(e,"recentSites"),siteCount:Object(g.get)(t,"site_count",0),visibleSiteCount:n,selectedSite:Object(y.d)(e),visibleSites:Object(A.a)(e),allSitesSingleUser:Object(R.a)(e),hasAllSitesList:Object(I.A)(e)}},{navigateToSite:(e,t)=>{let n=t.allSitesPath,s=t.allSitesSingleUser,i=t.siteBasePath;return(t,r)=>{const o=r(),a=function(){const t=Object(I.k)(o,e);if(H("getPathnameForSite",e,t),e===q){const e=s?"/posts":"/posts/my",t=n.replace(/^\/posts\b(\/my)?/,e);return t.replace(/^\/stats\/insights\/?$/,"/stats/day")}if(i)return function(e){let t=i;const n=e.jetpack||e.single_user_site?"/posts":"/posts/my";if((t=t.replace(/^\/posts\b(\/my)?/,n)).match(/^\/stats\/(post|page)\//)&&(t="/stats"),t.match(/^\/domains\/manage\//)&&(t="/domains/manage"),t.match(/^\/email\//)&&(t="/email"),t.match(/^\/store\/stats\//)){const n=e.jetpack&&e.options&&e.options.woocommerce_is_active;n||(t="/stats/day")}return t}(t)+"/"+t.slug}();a&&_()(a)}}}))(Q)},"./client/components/sites-popover/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/lodash/lodash.js"),u=n("./node_modules/classnames/index.js"),d=n.n(u),p=n("./client/components/popover/index.jsx"),m=n("./client/lib/touch-detect/index.js"),_=n("./client/components/site-selector/index.jsx");class E extends c.a.Component{renderHeader(){return c.a.createElement("div",{className:"sites-popover__header"},this.props.header)}renderSiteSelector(){return c.a.createElement(_.a,{siteBasePath:"/post",onSiteSelect:this.props.onSiteSelect,showAddNewSite:!1,indicator:!1,autoFocus:!Object(m.a)(),groups:!0,onClose:this.props.onClose})}render(){const e=d()(this.props.className,"popover sites-popover",this.props.header&&"has-header");return c.a.createElement(p.a,{id:this.props.id,showDelay:this.props.showDelay,isVisible:this.props.visible,context:this.props.context,onClose:this.props.onClose,position:this.props.position,className:e},this.renderHeader(),this.renderSiteSelector())}}i()(E,"propTypes",{showDelay:o.a.number,context:o.a.object,visible:o.a.bool,onClose:o.a.func,position:o.a.string,id:o.a.string,groups:o.a.bool,className:o.a.string}),i()(E,"defaultProps",{visible:!1,onClose:l.noop,position:"bottom left",groups:!1,siteQuerystring:!1,className:""}),t.a=E},"./client/components/spinner/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/classnames/index.js"),u=n.n(l);n("./client/components/spinner/style.scss");class d extends a.PureComponent{render(){const e=u()("spinner",this.props.className),t={width:this.props.size,height:this.props.size,fontSize:this.props.size};return c.a.createElement("div",{className:e},c.a.createElement("div",{className:"spinner__outer",style:t},c.a.createElement("div",{className:"spinner__inner"})))}}i()(d,"propTypes",{className:o.a.string,size:o.a.number}),i()(d,"defaultProps",{size:20})},"./client/components/spinner/style.scss":function(e,t,n){},"./client/components/translatable/proptype.js":function(e,t,n){"use strict";t.a=function(e){function t(t,n,s,i,r){return i=i||"ANONYMOUS",void 0===n[s]?t?new Error("Required "+r+" `"+s+"` was not specified in `"+i+"`."):null:e(n,s,i,r)}const n=t.bind(null,!1);return n.isRequired=t.bind(null,!0),n}(function(e,t,n){n=n||"ANONYMOUS";const s=e[t];return null!=s?"string"==typeof s?null:"object"==typeof s&&"data"===s.type?null:"object"==typeof s&&"function"==typeof s.type&&"Translatable"===s.type.name?null:new Error("Invalid value for Translatable string in `"+n+"`. Please pass a translate() call."):null})},"./client/components/web-preview/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./client/components/async-load/index.jsx"),c=function(e){Promise.all([n.e(182),n.e(21),n.e(45),n.e(88),n.e(13),n.e(60)]).then(n.bind(null,"./client/components/web-preview/component.jsx")).then(function(t){e(t.default)})};t.a=(e=>e.showPreview?o.a.createElement(a.a,i()({},e,{require:c})):null)},"./client/controller/index.web.js":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),i=n.n(s),r=n("./node_modules/react-dom/index.js"),o=n.n(r),a=n("./node_modules/react-redux/es/index.js"),c=n("./node_modules/page/page.js"),l=n.n(c),u=n("./client/config/index.js"),d=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),p=n.n(d),m=n("./node_modules/prop-types/index.js"),_=n.n(m),E=n("./node_modules/lodash/lodash.js"),b=n("./node_modules/classnames/index.js"),g=n.n(b),h=n("./client/components/async-load/index.jsx"),f=n("./packages/i18n-calypso/dist/esm/index.js"),S=n("./client/state/analytics/actions.js"),O=n("./client/layout/masterbar/masterbar.jsx"),j=n("./client/layout/masterbar/item.jsx"),T=n("./client/components/sites-popover/index.jsx"),y=n("./client/lib/viewport/index.js"),I=n("./client/sections-helper.js"),R=n("./client/state/ui/selectors.js"),C=n("./client/state/current-user/selectors.js"),A=n("./client/layout/masterbar/drafts.jsx"),v=n("./client/state/selectors/is-rtl.js"),N=n("./client/components/translatable/proptype.js"),U=n("./client/state/selectors/get-editor-url.js"),w=n("./client/state/selectors/get-primary-site-id.js"),P=n("./client/lib/redux-bridge/index.js"),D=n("./client/state/ui/actions.js");class L extends i.a.Component{constructor(){super(...arguments),p()(this,"state",{isShowingPopover:!1}),p()(this,"postButtonRef",i.a.createRef()),p()(this,"toggleSitesPopover",()=>{this.setState(e=>({isShowingPopover:!e.isShowingPopover}))}),p()(this,"closeSitesPopover",()=>{this.setState({isShowingPopover:!1})}),p()(this,"onClick",e=>{if(this.props.hasMoreThanOneVisibleSite)return this.toggleSitesPopover(),void e.preventDefault()}),p()(this,"preloadPostEditor",()=>Object(I.c)("post-editor")),p()(this,"onSiteSelect",e=>{const t=Object(U.b)(Object(P.c)(),e,null,"post");return this.props.openEditor(t),!0})}getPopoverPosition(){const e=this.props.isRtl;return Object(y.e)()?"bottom":e?"bottom right":"bottom left"}renderPopover(){return this.state.isShowingPopover?i.a.createElement(T.a,{id:"popover__sites-popover-masterbar",visible:!0,groups:!0,context:this.postButtonRef.current,onClose:this.closeSitesPopover,onSiteSelect:this.onSiteSelect,position:this.getPopoverPosition(),isGutenbergOverride:!0}):null}render(){const e=g()(this.props.className);return i.a.createElement("div",{className:"masterbar__publish"},i.a.createElement(j.a,{ref:this.postButtonRef,url:this.props.editorUrl,icon:"create",onClick:this.onClick,isActive:this.props.isActive,tooltip:this.props.tooltip,className:e,preloadSection:this.preloadPostEditor},this.props.children,this.renderPopover()),i.a.createElement(A.a,null))}}p()(L,"propTypes",{isActive:_.a.bool,className:_.a.string,tooltip:N.a,hasMoreThanOneVisibleSite:_.a.bool,isRtl:_.a.bool});var k=Object(a.b)(e=>{const t=Object(R.e)(e)||Object(w.a)(e);return{hasMoreThanOneVisibleSite:Object(C.l)(e)>1,isRtl:Object(v.a)(e),editorUrl:Object(U.b)(e,t,null,"post")}},e=>({openEditor:t=>e(Object(S.k)(Object(S.i)("calypso_masterbar_write_button_clicked"),Object(D.b)(t)))}))(L),x=n("./node_modules/store/dist/store.modern.js"),M=n.n(x),F=n("./client/state/selectors/is-notifications-open.js");var G=(e=>t=>{const n=(e=>void 0===e.notificationsUnseenCount?null:e.notificationsUnseenCount)(t);if(null!==n)return n>0;const s=e(t);return null!==s?!!s.has_unseen_notes:null})(C.b),V=function(e){n.e(1).then(n.bind(null,"./apps/notifications/index.jsx")).then(function(t){e(t.default)})};class q extends s.Component{constructor(){super(...arguments),p()(this,"notificationLink",Object(s.createRef)()),p()(this,"state",{animationState:0}),p()(this,"checkToggleNotes",(e,t)=>{const n=!!e&&e.target,s=this.notificationLink.current;n&&s.contains(n)||(this.props.isNotificationsOpen||!0===t)&&this.toggleNotesFrame(e)}),p()(this,"toggleNotesFrame",e=>{e&&(e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()),this.props.toggleNotificationsPanel()}),p()(this,"setNotesIndicator",e=>{const t=M.a.get("wpnotes_unseen_count");let n=this.state.animationState;0===e?n=0:e>t&&(n=1-Math.abs(this.state.animationState)),M.a.set("wpnotes_unseen_count",e),this.setState({newNote:e>0,animationState:n})})}componentWillMount(){this.setState({newNote:this.props.hasUnseenNotifications})}componentWillReceiveProps(e){const t=e.isNotificationsOpen,n=e.recordOpening;!this.props.isNotificationsOpen&&t&&(n({unread_notifications:M.a.get("wpnotes_unseen_count")}),this.setNotesIndicator(0)),this.props.isNotificationsOpen&&!t&&(this.notificationLink.current.blur(),window.focus())}render(){const e=g()(this.props.className,{"is-active":this.props.isNotificationsOpen,"has-unread":this.state.newNote,"is-initial-load":-1===this.state.animationState});return i.a.createElement("div",{className:"masterbar__notifications",ref:this.notificationLink},i.a.createElement(j.a,{url:"/notifications",icon:"bell",onClick:this.toggleNotesFrame,isActive:this.props.isActive,tooltip:this.props.tooltip,className:e},this.props.children,i.a.createElement("span",{className:"masterbar__notifications-bubble",key:"notification-indicator-animation-state-"+Math.abs(this.state.animationState)})),i.a.createElement(h.a,{require:V,isShowing:this.props.isNotificationsOpen,checkToggle:this.checkToggleNotes,setIndicator:this.setNotesIndicator,placeholder:null}))}}p()(q,"propTypes",{isActive:_.a.bool,className:_.a.string,tooltip:N.a,isNotificationsOpen:_.a.bool});const H={toggleNotificationsPanel:D.j,recordOpening:Object(E.partial)(S.i,"calypso_notification_open")};var Q=Object(a.b)(e=>({isNotificationsOpen:Object(F.a)(e),hasUnseenNotifications:G(e)}),H)(q),B=n("./client/components/gravatar/index.jsx"),Y=n("./client/state/ui/editor/last-draft/actions.js"),W=n("./client/state/posts/selectors.js");function K(e){const t=z(e),n=J(e);return t&&n?Object(W.a)(e,t,n):null}function z(e){return e.ui.editor.lastDraft.siteId}function J(e){return e.ui.editor.lastDraft.postId}var Z=n("./client/state/ui/editor/selectors.js"),$=n("./client/lib/formatting/index.js"),X=n("./client/lib/analytics/index.js"),ee=n("./client/components/data/query-posts/index.jsx"),te=n("./client/blocks/site-icon/index.jsx");n("./client/my-sites/resume-editing/style.scss");class ne extends i.a.Component{constructor(){super(...arguments),p()(this,"trackAnalytics",()=>{X.default.ga.recordEvent("Master Bar","Resumed Editing"),X.default.mc.bumpStat("calypso_edit_via","masterbar_resume_editing")})}componentWillReceiveProps(e){"draft"!==Object(E.get)(e.draft,"status","draft")&&e.resetEditorLastDraft()}render(){const e=this.props,t=e.siteId,n=e.postId,s=e.requesting,r=e.draft,o=e.editPath,a=e.section,c=e.translate;if(!r||"post-editor"===a)return null;const l=g()("resume-editing",{"is-requesting":s});return i.a.createElement("a",{href:o,onClick:this.trackAnalytics,className:l},i.a.createElement(ee.a,{siteId:t,postId:n}),i.a.createElement("span",{className:"resume-editing__label"},c("Continue Editing")),i.a.createElement("span",{className:"resume-editing__post-title"},i.a.createElement(te.a,{size:16,siteId:t}),r.title?Object($.b)(r.title):c("Untitled")))}}p()(ne,"propTypes",{siteId:_.a.number,postId:_.a.number,requesting:_.a.bool,draft:_.a.object,editPath:_.a.string,section:_.a.string,translate:_.a.func});var se=Object(a.b)(e=>{const t=z(e),n=J(e);return{siteId:t,postId:n,requesting:t&&n&&Object(W.u)(e,t,n),draft:K(e),editPath:Object(Z.e)(e,t,n),section:Object(R.c)(e)}},{resetEditorLastDraft:Y.a})(Object(f.localize)(ne)),ie=n("./client/state/support/selectors.js"),re=n("./client/state/selectors/is-domain-only-site.js"),oe=n("./client/state/ui/layout-focus/actions.js"),ae=n("./client/state/sites/selectors.js"),ce=n("./client/lib/route/index.js"),le=n("./client/my-sites/domains/paths.js"),ue=function(e){n.e(126).then(n.bind(null,"./client/layout/masterbar/quick-language-switcher.jsx")).then(function(t){e(t.default)})};class de extends i.a.Component{constructor(){super(...arguments),p()(this,"clickMySites",()=>{this.props.recordTracksEvent("calypso_masterbar_my_sites_clicked"),this.props.setNextLayoutFocus("sidebar")}),p()(this,"clickReader",()=>{this.props.recordTracksEvent("calypso_masterbar_reader_clicked"),this.props.setNextLayoutFocus("content")}),p()(this,"clickMe",()=>{this.props.recordTracksEvent("calypso_masterbar_me_clicked")}),p()(this,"preloadMySites",()=>{Object(I.c)(this.props.domainOnlySite?"domains":"stats")}),p()(this,"preloadReader",()=>{Object(I.c)("reader")}),p()(this,"preloadMe",()=>{Object(I.c)("me")}),p()(this,"isActive",e=>e===this.props.section&&!this.props.isNotificationsShowing),p()(this,"wordpressIcon",()=>"horizon.wordpress.com"===Object(u.a)("hostname")?"my-sites-horizon":"my-sites")}renderMySites(){const e=this.props,t=e.domainOnlySite,n=e.hasMoreThanOneSite,s=e.siteSlug,r=e.translate,o=t?Object(le.i)(s):Object(ce.f)("day",s);return i.a.createElement(j.a,{url:o,tipTarget:"my-sites",icon:this.wordpressIcon(),onClick:this.clickMySites,isActive:this.isActive("sites"),tooltip:r("View a list of your sites and access their dashboards"),preloadSection:this.preloadMySites},r(n?"My Sites":"My Site",{comment:"Toolbar, must be shorter than ~12 chars"}))}render(){const e=this.props,t=e.domainOnlySite,n=e.translate;return!0===e.compact?i.a.createElement(O.a,null,this.renderMySites()):i.a.createElement(O.a,null,this.renderMySites(),i.a.createElement(j.a,{tipTarget:"reader",className:"masterbar__reader",url:"/",icon:"reader",onClick:this.clickReader,isActive:this.isActive("reader"),tooltip:n("Read the blogs and topics you follow"),preloadSection:this.preloadReader},n("Reader",{comment:"Toolbar, must be shorter than ~12 chars"})),(this.props.isSupportSession||u.a.isEnabled("quick-language-switcher"))&&i.a.createElement(h.a,{require:ue,placeholder:null}),u.a.isEnabled("resume-editing")&&i.a.createElement(se,null),!t&&i.a.createElement(k,{isActive:this.isActive("post"),className:"masterbar__item-new",tooltip:n("Create a New Post")},n("Write")),i.a.createElement(j.a,{tipTarget:"me",url:"/me",icon:"user-circle",onClick:this.clickMe,isActive:this.isActive("me"),className:"masterbar__item-me",tooltip:n("Update your profile, personal settings, and more"),preloadSection:this.preloadMe},i.a.createElement(B.a,{user:this.props.user,alt:"Me",size:18}),i.a.createElement("span",{className:"masterbar__item-me-label"},n("Me",{context:"Toolbar, must be shorter than ~12 chars"}))),i.a.createElement(Q,{isShowing:this.props.isNotificationsShowing,isActive:this.isActive("notifications"),className:"masterbar__item-notifications",tooltip:n("Manage your notifications")},i.a.createElement("span",{className:"masterbar__item-notifications-label"},n("Notifications",{comment:"Toolbar, must be shorter than ~12 chars"}))))}}p()(de,"propTypes",{user:_.a.object.isRequired,domainOnlySite:_.a.bool,section:_.a.oneOfType([_.a.string,_.a.bool]),setNextLayoutFocus:_.a.func.isRequired,siteSlug:_.a.string,hasMoreThanOneSite:_.a.bool,compact:_.a.bool});var pe=Object(a.b)(e=>{const t=Object(R.e)(e)||Object(w.a)(e);return{isNotificationsShowing:Object(F.a)(e),siteSlug:Object(ae.v)(e,t),domainOnlySite:Object(re.a)(e,t),hasMoreThanOneSite:Object(C.k)(e)>1,user:Object(C.b)(e),isSupportSession:Object(ie.a)(e)}},{setNextLayoutFocus:oe.c,recordTracksEvent:S.i})(Object(f.localize)(de)),me=n("./client/components/global-notices/index.jsx"),_e=n("./client/notices/index.js"),Ee=n("./client/components/pulsing-dot/index.jsx");n("./client/layout/offline-status/style.scss");var be=()=>i.a.createElement("span",{className:"offline-status"},i.a.createElement("svg",{className:"gridicon",height:18,width:18,xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24"},i.a.createElement("g",null,i.a.createElement("path",{d:"M12.736 3.184L7.834 12.57l5.106.035-2.592 7.904 7.265-10.502-5.65.083.773-6.906z"}))),"Offline"),ge=n("./client/components/data/query-preferences/index.jsx"),he=n("./client/components/data/query-sites/index.jsx"),fe=n("./client/state/selected-editor/actions.js");class Se extends s.Component{componentDidMount(){this.request()}componentDidUpdate(e){e.siteId!==this.props.siteId&&this.request()}request(){const e=this.props.siteId;e&&this.props.requestSelectedEditor(e)}render(){return null}}p()(Se,"propTypes",{siteId:_.a.number});var Oe=Object(a.b)(null,{requestSelectedEditor:fe.a})(Se);function je(e){return"OFFLINE"===e.application.connectionState}var Te=n("./client/state/selectors/is-site-automated-transfer.js"),ye=n("./client/state/happychat/selectors/is-happychat-open.js"),Ie=n("./node_modules/debug/src/browser.js"),Re=n.n(Ie),Ce=n("./client/state/ui/preview/actions.js");function Ae(e){return e.ui.preview.currentPreviewUrl}function ve(e){const t=Ne(e);return t?Object(ae.k)(e,t):null}function Ne(e){const t=Object(R.e)(e);return t||e.ui.preview.currentPreviewSiteId}var Ue=n("./client/state/ui/layout-focus/selectors.js"),we=n("./client/components/web-preview/index.jsx");const Pe=Re()("calypso:site-preview");class De extends s.Component{constructor(){super(...arguments),p()(this,"state",{previewCount:0}),p()(this,"previewCounter",0)}componentWillReceiveProps(e){this.props.selectedSiteId&&this.props.selectedSiteId!==e.selectedSiteId&&(this.previewCounter=0),!this.props.showPreview&&e.showPreview&&(Pe("forcing refresh"),this.previewCounter>0&&this.setState({previewCount:this.previewCounter}),this.previewCounter+=1)}getPreviewUrl(){if(!this.props.selectedSiteUrl&&!this.props.previewUrl)return Pe("no preview url and no site url were found for this site"),null;const e=Object(ce.a)({iframe:!0,theme_preview:!0,"frame-nonce":this.props.selectedSiteNonce,cachebust:this.state.previewCount},this.getBasePreviewUrl());return Pe("using this preview url",e),e}getBasePreviewUrl(){return this.props.previewUrl||this.props.selectedSiteUrl}render(){return this.props.selectedSite&&this.props.selectedSite.is_previewable?i.a.createElement(we.a,{className:this.props.className,previewUrl:this.getPreviewUrl(),externalUrl:this.getBasePreviewUrl(),showExternal:!0,showClose:!0,showPreview:this.props.showPreview,onClose:this.props.closePreview,showSEO:!this.props.isDomainOnlySite}):(Pe("a preview is not available for this site"),null)}}p()(De,"propTypes",{className:_.a.string,showPreview:_.a.bool,previewUrl:_.a.string,selectedSite:_.a.object,selectedSiteId:_.a.number,selectedSiteNonce:_.a.string,selectedSiteUrl:_.a.string,closePreview:_.a.func.isRequired});var Le=Object(a.b)(function(e){const t=Ne(e),n="https://"+Object(ae.v)(e,t);return{showPreview:"preview"===Object(Ue.a)(e),selectedSite:ve(e),selectedSiteId:t,selectedSiteUrl:n.replace(/::/g,"/"),selectedSiteNonce:Object(ae.r)(e,t,"frame_nonce")||"",previewUrl:Ae(e),isDomainOnlySite:Object(re.a)(e,t)}},{closePreview:Ce.a})(De),ke=n("./client/components/gridicon/index.jsx"),xe=n("./client/components/button/index.jsx"),Me=n("./client/components/dialog/index.jsx"),Fe=n("./client/components/external-link/index.jsx");const Ge=e=>{let t=e.post;return e.isLoading||!t?i.a.createElement("div",{className:"support-article-dialog__header is-placeholder"},i.a.createElement("h1",{className:"support-article-dialog__header-title is-placeholder"},"Post loading…")):i.a.createElement("div",{className:"support-article-dialog__header"},i.a.createElement("h1",{className:"support-article-dialog__header-title"},i.a.createElement(Fe.a,{className:"support-article-dialog__header-title-link",href:t.URL,target:"_blank",icon:!1},t.title)))};Ge.propTypes={post:_.a.object,isLoading:_.a.bool};var Ve=Ge;var qe=()=>i.a.createElement(i.a.Fragment,null,i.a.createElement("div",null,i.a.createElement("p",{className:"support-article-dialog__placeholder-text"}),i.a.createElement("p",{className:"support-article-dialog__placeholder-text"})),i.a.createElement("div",null,i.a.createElement("p",{className:"support-article-dialog__placeholder-text"}),i.a.createElement("p",{className:"support-article-dialog__placeholder-text"})),i.a.createElement("div",null,i.a.createElement("p",{className:"support-article-dialog__placeholder-text"}),i.a.createElement("p",{className:"support-article-dialog__placeholder-text"})),i.a.createElement("div",null,i.a.createElement("p",{className:"support-article-dialog__placeholder-text"}),i.a.createElement("p",{className:"support-article-dialog__placeholder-text"}))),He=n("./client/components/embed-container/index.jsx"),Qe=n("./client/components/emojify/index.jsx"),Be=n("./client/components/data/query-reader-post/index.jsx"),Ye=n("./client/components/data/query-reader-site/index.jsx"),We=n("./client/state/reader/posts/selectors.js"),Ke=n("./client/blocks/inline-help/constants.js"),ze=e=>Object(E.get)(e,"inlineSupportArticle.isVisible",!1),Je=n("./client/state/inline-support-article/actions.js");class Ze extends s.Component{getDialogButtons(){const e=this.props,t=e.postUrl,n=e.translate;return[t?i.a.createElement(xe.a,{href:t,target:"_blank",primary:!0},n("Visit Article")," ",i.a.createElement(ke.a,{icon:"external",size:12})):i.a.createElement(i.a.Fragment,null),i.a.createElement(xe.a,{onClick:this.props.closeSupportArticleDialog},n("Close",{textOnly:!0}))]}render(){const e=this.props,t=e.post,n=e.postId,s=e.isVisible,r=!t,o={blogId:Ke.h,postId:n},a=Object(E.get)(t,"site_ID");return i.a.createElement(Me.a,{additionalClassNames:"support-article-dialog",isVisible:s,buttons:this.getDialogButtons(),onCancel:this.props.closeSupportArticleDialog,onClose:this.props.closeSupportArticleDialog},i.a.createElement(Qe.a,null,a&&i.a.createElement(Ye.a,{siteId:+a}),r&&i.a.createElement(Be.a,{postKey:o}),i.a.createElement("article",{className:"support-article-dialog__story"},i.a.createElement(Ve,{post:t,isLoading:r}),r?i.a.createElement(qe,null):i.a.createElement(He.a,null,i.a.createElement("div",{className:"support-article-dialog__story-content",dangerouslySetInnerHTML:{__html:Object(E.get)(t,"content")}})))))}}p()(Ze,"propTypes",{closeSupportArticleDialog:_.a.func.isRequired,isVisible:_.a.bool,post:_.a.object,postId:_.a.number,postUrl:_.a.string,translate:_.a.func.isRequired});var $e=Object(E.flow)(Object(a.b)(e=>{const t=(e=>Object(E.get)(e,"inlineSupportArticle.postId"))(e),n=(e=>Object(E.get)(e,"inlineSupportArticle.postUrl"))(e),s=Object(We.b)(e,{blogId:Ke.h,postId:t});return{isVisible:ze(e),post:s,postId:t,postUrl:n}},{closeSupportArticleDialog:Je.a}),f.localize)(Ze),Xe=n("./client/state/selectors/get-current-route.js"),et=n("./client/components/data/document-head/index.jsx"),tt=n("./client/components/card/index.jsx"),nt=n("./client/state/preferences/selectors.js"),st=n("./client/state/preferences/actions.js"),it=n("./client/lib/analytics/track-component-view/index.jsx");const rt="post-editor",ot="notifications",at="reader",ct="stats",lt=[rt,ot,at,ct],ut=6048e5,dt=24192e5;function pt(e,t,n){return t?ot:n&&-1!==n.indexOf("/stats/activity/")?null:Object(E.includes)(lt,e)?e:null}const mt=(e,t)=>Object(E.get)(e,t,-1/0)>Date.now();var _t=n("./client/lib/version-compare/index.js");function Et(){return navigator&&/wp-(android|iphone)/.test(navigator.userAgent)}n("./client/blocks/app-banner/style.scss");const bt=/iPad|iPod|iPhone/i,gt=/Android (\d+(\.\d+)?(\.\d+)?)/i;class ht extends s.Component{constructor(){super(...arguments),p()(this,"stopBubblingEvents",e=>{e.stopPropagation()}),p()(this,"preventNotificationsClose",e=>{if(!e&&this.appBannerNode)return this.appBannerNode.removeEventListener("mousedown",this.stopBubblingEvents,!1),void this.appBannerNode.removeEventListener("touchstart",this.stopBubblingEvents,!1);e&&(this.appBannerNode=o.a.findDOMNode(e),this.appBannerNode.addEventListener("mousedown",this.stopBubblingEvents,!1),this.appBannerNode.addEventListener("touchstart",this.stopBubblingEvents,!1))}),p()(this,"dismiss",e=>{e.preventDefault();const t=this.props,n=t.currentSection,s=t.dismissedUntil;this.props.saveDismissTime(n,s)}),p()(this,"openApp",()=>{this.props.recordAppBannerOpen(this.props.currentSection)})}isVisible(){const e=this.props,t=e.dismissedUntil,n=e.currentSection;return this.isMobile()&&!Et()&&!mt(t,n)}isiOS(){return bt.test(this.props.userAgent)}isAndroid(){const e=gt.exec(this.props.userAgent),t=Object(E.get)(e,"1","0");return Object(_t.a)(t,"4.4",">=")}isMobile(){return this.isiOS()||this.isAndroid()}getDeepLink(){const e=this.props,t=e.currentRoute,n=e.currentSection;if(this.isAndroid())switch(n){case rt:return"intent://post/#Intent;scheme=wordpress;package=org.wordpress.android;end";case ot:return"intent://notifications/#Intent;scheme=wordpress;package=org.wordpress.android;end";case at:return"intent://read/#Intent;scheme=wordpress;package=org.wordpress.android;end";case ct:return"intent://stats/#Intent;scheme=wordpress;package=org.wordpress.android;end"}return this.isiOS()?function(e,t){const n="https://apps.wordpress.com/get?campaign=calypso-open-in-app",s=function(e,t){const n=null!==e&&"/"!==e;return encodeURIComponent((()=>{switch(t){case rt:return"/post";case ot:return"/notifications";case at:return n?e:"/read";case ct:return n?e:"/stats";default:return""}})())}(e,t);return s.length>0?"".concat(n,"#").concat(s):n}(t,n):null}render(){const e=this.props,t=e.translate,n=e.currentSection;if(e.fetchingPreferences)return null;if(!Object(E.includes)(lt,n))return null;if(!this.isVisible())return null;const s=function(e,t){switch(t){case rt:return{title:e("Rich mobile publishing."),copy:e("A streamlined editor with faster, simpler image uploading? Check and mate.")};case ot:return{title:e("Watch engagement happening."),copy:e("Is your new post a hit? With push notifications, see reactions as they roll in.")};case at:return{title:e("Read posts, even offline."),copy:e("Catch up with new posts on the go or save them to read offline.")};case ct:return{title:e("Stats at your fingertips."),copy:e("See your real-time stats anytime, anywhere.")};default:return{title:"",copy:""}}}(t,n),r=s.title,o=s.copy;return i.a.createElement(tt.a,{className:g()("app-banner","is-compact",n),ref:this.preventNotificationsClose},i.a.createElement(it.a,{eventName:"calypso_mobile_app_banner_impression",eventProperties:{page:n},statGroup:"calypso_mobile_app_banner",statName:"impression"}),i.a.createElement("div",{className:"app-banner__text-content"},i.a.createElement("div",{className:"app-banner__title"},i.a.createElement("span",null," ",r," ")),i.a.createElement("div",{className:"app-banner__copy"},i.a.createElement("span",null," ",o," "))),i.a.createElement("div",{className:"app-banner__buttons"},i.a.createElement(xe.a,{primary:!0,className:"app-banner__open-button",onClick:this.openApp,href:this.getDeepLink()},t("Open in app")),i.a.createElement(xe.a,{className:"app-banner__no-thanks-button",onClick:this.dismiss},t("No thanks"))))}}p()(ht,"propTypes",{saveDismissTime:_.a.func,translate:_.a.func,recordAppBannerOpen:_.a.func,userAgent:_.a.string,currentSection:_.a.string,dismissedUntil:_.a.object,fetchingPreferences:_.a.bool}),p()(ht,"defaultProps",{saveDismissTime:E.noop,translate:E.identity,recordAppBannerOpen:E.noop,userAgent:"undefined"!=typeof window?navigator.userAgent:""});const ft={recordAppBannerOpen:e=>Object(S.b)(Object(S.i)("calypso_mobile_app_banner_open",{page:e}),Object(S.a)("calypso_mobile_app_banner","banner_open")),saveDismissTime:(e,t)=>Object(S.k)(Object(S.b)(Object(S.i)("calypso_mobile_app_banner_dismiss",{page:e}),Object(S.a)("calypso_mobile_app_banner","banner_dismiss")),Object(st.b)("appBannerDismissTimes",function(e,t){const n=Date.now(),s=n+ut,i=n+dt;return Object(E.reduce)(lt,(n,r)=>(n[r]=r===e?i:Object(E.get)(t,r,-1/0)>s?Object(E.get)(t,r):s,n),{})}(e,t)))};var St=Object(a.b)(e=>{const t=Object(R.c)(e),n=Object(F.a)(e),s=Object(Xe.a)(e);return{dismissedUntil:Object(nt.b)(e,"appBannerDismissTimes"),currentSection:pt(t,n,s),currentRoute:s,fetchingPreferences:Object(nt.d)(e),siteId:Object(R.e)(e)}},ft)(Object(f.localize)(ht)),Ot=n("./node_modules/cookie/index.js"),jt=n.n(Ot),Tt=n("./client/lib/i18n-utils/browser.js"),yt=n("./client/lib/analytics/utils.js");const It=15552e3;class Rt extends s.Component{constructor(){super(...arguments),p()(this,"state",{showBanner:!0}),p()(this,"acknowledgeClicked",()=>{document.cookie=jt.a.serialize("sensitive_pixel_option","yes",{path:"/",maxAge:It}),this.props.recordCookieBannerOk(),this.setState({showBanner:!1})})}shouldShowBanner(){const e=jt.a.parse(document.cookie);return"yes"!==e.sensitive_pixel_option&&"no"!==e.sensitive_pixel_option&&(!Et()&&!!Object(yt.f)())}render(){if(!this.shouldShowBanner())return null;const e=this.props.translate,t=e("Our websites and dashboards use cookies. By continuing, you agree to their use. {{a}}Learn more{{/a}}, including how to control cookies.",{components:{a:i.a.createElement("a",{href:Object(Tt.j)("https://automattic.com/cookies")})}}),n={"is-compact":!0,"gdpr-banner":!0,"gdpr-banner__hiding":!this.state.showBanner};return this.props.recordCookieBannerView(),i.a.createElement(tt.a,{className:g()(n)},i.a.createElement("div",{className:"gdpr-banner__text-content"},Object($.d)(Object($.b)(t))),i.a.createElement("div",{className:"gdpr-banner__buttons"},i.a.createElement(xe.a,{className:"gdpr-banner__acknowledge-button",onClick:this.acknowledgeClicked},e("Got it!"))))}}p()(Rt,"propTypes",{recordCookieBannerOk:_.a.func,recordCookieBannerView:_.a.func,translate:_.a.func}),p()(Rt,"defaultProps",{recordCookieBannerOk:E.noop,recordCookieBannerView:E.noop,translate:E.identity});const Ct={recordCookieBannerOk:()=>Object(S.i)("a8c_cookie_banner_ok",{site:"Calypso"}),recordCookieBannerView:()=>Object(S.a)("cookie-banner-view","total,"+document.location.host.replace(/[^a-zA-Z0-9]/g,"-"))};var At=Object(a.b)(null,Ct)(Object(f.localize)(Rt)),vt=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),Nt=n.n(vt);const Ut=e=>{const t=(e=>Object(E.get)(e,["jitm","sitePathJITM",Object(R.c)(e)+Object(R.e)(e)],[]))(e);return 0===t.length?null:t[0]};var wt=n("./client/state/jitm/actions.js"),Pt=n("./client/components/banner/index.jsx");var Dt=Object(a.b)(e=>Nt()({currentSite:Object(R.d)(e),hasJitm:!!Ut(e)},Ut(e)),e=>({onDismiss:(t,n,s)=>()=>e(Object(wt.b)(t,n,s))}))(e=>{let t=e.currentSite,n=e.hasJitm,s=e.callToAction,r=e.description,o=e.featureClass,a=e.id,c=e.message,l=e.onDismiss;return n&&t&&i.a.createElement(Pt.a,{callToAction:s,title:c,description:r,disableHref:!0,dismissPreferenceName:o+"123",dismissTemporary:!0,onDismiss:l(t.ID,a,o),event:"jitm_nudge_click_".concat(a),href:"https://jetpack.com/redirect/?source=jitm-".concat(a,"&site=").concat(t.domain),target:"_blank"})}),Lt=n("./client/lib/keyboard-shortcuts/index.js"),kt=n("./client/lib/keyboard-shortcuts/key-bindings.js");var xt=Object(f.localize)(class extends i.a.Component{constructor(){super(...arguments),p()(this,"state",{showDialog:!1}),p()(this,"closeDialog",()=>{this.setState({showDialog:!1})}),p()(this,"toggleShowDialog",()=>{this.setState({showDialog:!this.state.showDialog})})}componentDidMount(){Lt.a.on("open-keyboard-shortcuts-menu",this.toggleShowDialog)}componentWillUnmount(){Lt.a.off("open-keyboard-shortcuts-menu",this.toggleShowDialog)}getShortcutsByCategory(){const e=kt.a,t=[{name:this.props.translate("List Navigation"),shortcuts:e.listNavigation,className:"keyboard-shortcuts__list-navigation",disabled:!0},{name:this.props.translate("Site Navigation"),shortcuts:e.siteNavigation,className:"keyboard-shortcuts__site-navigation"},{name:this.props.translate("Reader"),shortcuts:e.reader,className:"keyboard-shortcuts__reader",disabled:!0},{name:this.props.translate("Blog Posts and Pages"),shortcuts:e.blogPostsAndPages,className:"keyboard-shortcuts__blog-posts-and-pages",disabled:!0}];return u.a.isEnabled("devdocs")&&t.push({name:this.props.translate("Developer"),shortcuts:e.developer,className:"keyboard-shortcuts__developer"}),t.map(e=>{const t=g()("keyboard-shortcuts__category",e.className,{"keyboard-shortcuts__category-disabled":e.disabled});return i.a.createElement("li",{className:t,key:e.name},i.a.createElement("h3",null,e.name),i.a.createElement("ul",{className:"keyboard-shortcuts__list"},this.getShortcutList(e.shortcuts)))})}getShortcutList(e){return e.map(e=>{if(!e.description)return null;const t=e.description.keys.map((t,n)=>i.a.createElement("div",{className:"keyboard-shortcuts__key",key:e.eventName+n},t)),n=e.description.text(this.props.translate);return i.a.createElement("li",{key:e.eventName},i.a.createElement("div",{className:"keyboard-shortcuts__keys"},t),i.a.createElement("div",{className:"keyboard-shortcuts__description"},n))})}render(){return this.state.showDialog?i.a.createElement(Me.a,{isVisible:!0,additionalClassNames:"keyboard-shortcuts",onClose:this.closeDialog},i.a.createElement("h1",{className:"keyboard-shortcuts__title"},this.props.translate("Keyboard Shortcuts")),i.a.createElement("ul",{className:"keyboard-shortcuts__categories"},this.getShortcutsByCategory())):null}}),Mt=n("./client/lib/user/support-user-interop.js");var Ft=Object(a.b)(e=>({isSupportSession:Object(ie.a)(e)}))(class extends s.Component{constructor(){super(...arguments),p()(this,"onKeyboardShortcut",()=>{this.props.isSupportSession&&Object(Mt.rebootNormally)()})}componentDidMount(){Lt.a.on("exit-support-user",this.onKeyboardShortcut)}componentWillUnmount(){Lt.a.off("exit-support-user",this.onKeyboardShortcut)}render(){return null}}),Gt=n("./client/components/community-translator/utils.js"),Vt=n("./client/lib/e2e/index.js"),qt=n("./client/layout/body-section-css-class.js"),Ht=n("./client/jetpack-connect/persistence-utils.js"),Qt=n("./client/components/data/query-jetpack-plugins/index.jsx"),Bt=function(e){Promise.all([n.e(151),n.e(138)]).then(n.bind(null,"./client/layout/guided-tours/index.js")).then(function(t){e(t.default)})},Yt=function(e){n.e(27).then(n.bind(null,"./client/layout/nps-survey-notice/index.jsx")).then(function(t){e(t.default)})},Wt=function(e){n.e(68).then(n.bind(null,"./client/components/community-translator/index.jsx")).then(function(t){e(t.default)})},Kt=function(e){n.e(85).then(n.bind(null,"./client/layout/community-translator/launcher.jsx")).then(function(t){e(t.default)})},zt=function(e){n.e(111).then(n.bind(null,"./client/components/happychat/index.jsx")).then(function(t){e(t.default)})},Jt=function(e){Promise.all([n.e(21),n.e(23)]).then(n.bind(null,"./client/blocks/inline-help/index.jsx")).then(function(t){e(t.default)})};class Zt extends s.Component{componentDidMount(){u.a.isEnabled("me/account/color-scheme-picker")&&"undefined"!=typeof document&&this.props.colorSchemePreference&&document.querySelector("body").classList.add("is-".concat(this.props.colorSchemePreference))}componentDidUpdate(e){if(u.a.isEnabled("me/account/color-scheme-picker")&&e.colorSchemePreference!==this.props.colorSchemePreference&&"undefined"!=typeof document){const t=document.querySelector("body").classList;t.remove("is-".concat(e.colorSchemePreference)),t.add("is-".concat(this.props.colorSchemePreference))}}render(){const e=g()("layout","is-group-".concat(this.props.sectionGroup),"is-section-".concat(this.props.sectionName),"focus-".concat(this.props.currentLayoutFocus),{"is-add-site-page":"/jetpack/new"===this.props.currentRoute},{"is-support-session":this.props.isSupportSession},{"has-no-sidebar":!this.props.hasSidebar},{"has-chat":this.props.chatIsOpen},{"has-no-masterbar":this.props.masterbarIsHidden},{"is-jetpack-login":this.props.isJetpackLogin},{"is-jetpack-site":this.props.isJetpack},{"is-jetpack-mobile-flow":this.props.isJetpackMobileFlow}),t=g()({layout__loader:!0,"is-active":this.props.isLoading});return i.a.createElement("div",{className:e},i.a.createElement(qt.a,{group:this.props.sectionGroup,section:this.props.sectionName}),i.a.createElement(et.a,null),i.a.createElement(he.a,{primaryAndRecent:!0}),this.props.shouldQueryAllSites&&i.a.createElement(he.a,{allSites:!0}),i.a.createElement(ge.a,null),i.a.createElement(Oe,{siteId:this.props.siteId}),this.props.siteId&&i.a.createElement(Qt.a,{siteIds:[this.props.siteId]}),i.a.createElement(h.a,{require:Bt,placeholder:null}),u.a.isEnabled("nps-survey/notice")&&!Object(Vt.a)()&&i.a.createElement(h.a,{require:Yt,placeholder:null}),u.a.isEnabled("keyboard-shortcuts")?i.a.createElement(xt,null):null,i.a.createElement(pe,{section:this.props.sectionGroup,compact:"checkout"===this.props.sectionName}),u.a.isEnabled("support-user")&&i.a.createElement(Ft,null),i.a.createElement("div",{className:t},this.props.isLoading&&i.a.createElement(Ee.a,{delay:400,active:!0})),this.props.isOffline&&i.a.createElement(be,null),i.a.createElement("div",{id:"content",className:"layout__content"},u.a.isEnabled("jitms")&&i.a.createElement(Dt,null),i.a.createElement(me.a,{id:"notices",notices:_e.a.list}),i.a.createElement("div",{id:"secondary",className:"layout__secondary",role:"navigation"},this.props.secondary),i.a.createElement("div",{id:"primary",className:"layout__primary"},this.props.primary)),u.a.isEnabled("i18n/community-translator")?Object(Gt.d)()&&i.a.createElement(h.a,{require:Wt}):i.a.createElement(h.a,{require:Kt,placeholder:null}),"sites"===this.props.sectionGroup&&i.a.createElement(Le,null),u.a.isEnabled("happychat")&&this.props.chatIsOpen&&i.a.createElement(h.a,{require:zt}),!1,("jetpack-connect"!==this.props.sectionName||"/jetpack/new"===this.props.currentRoute)&&"/log-in/jetpack"!==this.props.currentRoute&&i.a.createElement(h.a,{require:Jt,placeholder:null}),i.a.createElement($e,null),i.a.createElement(St,null),u.a.isEnabled("gdpr-banner")&&i.a.createElement(At,null))}}p()(Zt,"displayName","Layout"),p()(Zt,"propTypes",{primary:_.a.element,secondary:_.a.element,focus:_.a.object,masterbarIsHidden:_.a.bool,isLoading:_.a.bool,isSupportSession:_.a.bool,isOffline:_.a.bool,sectionGroup:_.a.string,sectionName:_.a.string,colorSchemePreference:_.a.string});var $t=Object(a.b)(e=>{const t=Object(R.b)(e),n=Object(R.c)(e),s=Object(Xe.b)(e),i=Object(R.e)(e),r="/log-in/jetpack"===s,o=Object(ae.J)(e,i)&&!Object(Te.a)(e,i),a=o&&Object(E.startsWith)(s,"/checkout"),c=r||a,l="signup"===n||"jetpack-connect"===n,u="jetpack-connect"===n&&!!Object(Ht.g)();return{masterbarIsHidden:!Object(R.j)(e)||l||c,isJetpack:o,isJetpackLogin:r,isJetpackMobileFlow:u,isLoading:Object(R.h)(e),isSupportSession:Object(ie.a)(e),sectionGroup:t,sectionName:n,hasSidebar:Object(R.g)(e),isOffline:je(e),currentLayoutFocus:Object(Ue.a)(e),chatIsOpen:Object(ye.a)(e),colorSchemePreference:Object(nt.b)(e,"colorScheme"),currentRoute:s,siteId:i,shouldQueryAllSites:s&&"/jetpack/connect/authorize"!==s}})(Zt),Xt=n("./client/layout/logged-out.jsx"),en=n("./client/components/localized-moment/context.js"),tn=n("./client/lib/paths/index.js"),nn=n("./client/state/ui/language/actions.js");function sn(e,t){const n=Object(C.b)(e.store.getState());e.params.lang?e.lang=e.params.lang:n&&(e.lang=n.localeSlug),e.store.dispatch(Object(nn.a)(e.lang||Object(u.a)("i18n_default_locale_slug"))),t()}var rn=n("./client/state/immediate-login/selectors.js");n.d(t,"a",function(){return on}),n.d(t,"c",function(){return an}),n.d(t,"b",function(){return ln}),n.d(t,"d",function(){return un}),n.d(t,"e",function(){return dn}),n.d(t,"f",function(){return pn}),n.d(t,"g",function(){return sn});const on=e=>{let t=e.store,n=e.primary,s=e.secondary,r=e.redirectUri;const o=t.getState(),c=Object(C.n)(o)?i.a.createElement($t,{primary:n,secondary:s}):i.a.createElement(Xt.a,{primary:n,secondary:s,redirectUri:r});return i.a.createElement(a.a,{store:t},i.a.createElement(en.b,null,c))},an=(cn=on,(e,t)=>{const n=e.store,s=e.primary,r=e.secondary;e.isServerSide&&Object(C.b)(e.store.getState())||(e.layout=i.a.createElement(cn,{store:n,primary:s,secondary:r,redirectUri:e.originalUrl})),t()});var cn;function ln(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];l()(e,...n,mn)}function un(e,t){Object(C.n)(e.store.getState())?l.a.redirect("/"):t()}function dn(e,t){const n=e.store.getState();if(!Object(C.n)(n)){const t={isNative:u.a.isEnabled("login/native-login-links"),redirectTo:e.path},s=Object(rn.a)(n);s&&(t.emailAddress=s);const i=Object(rn.b)(n);return i&&(t.locale=i),void(window.location=Object(tn.a)(t))}t()}function pn(e){o.a.render(e.layout,document.getElementById("wpcom"))}function mn(e){o.a.hydrate(e.layout,document.getElementById("wpcom"))}},"./client/jetpack-connect/persistence-utils.js":function(e,t,n){"use strict";n.d(t,"i",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"c",function(){return m}),n.d(t,"d",function(){return _}),n.d(t,"g",function(){return E});var s=n("./node_modules/cookie/index.js"),i=n.n(s),r=n("./client/state/jetpack-connect/constants.js"),o=n("./client/lib/url/index.js");const a=e=>{document.cookie=i.a.serialize("jetpack_connect_selected_plan",e,{path:"/"})},c=()=>{document.cookie=i.a.serialize("jetpack_connect_selected_plan","",{path:"/"})},l=()=>{return i.a.parse(document.cookie).jetpack_connect_selected_plan},u=e=>{const t={maxAge:r.e,path:"/"};document.cookie=i.a.serialize("jetpack_connect_session_url",Object(o.l)(e),t)},d=e=>{return i.a.parse(document.cookie).jetpack_connect_session_url===Object(o.l)(e)},p=e=>{document.cookie=i.a.serialize("jetpack_sso_approved",e,{maxAge:300,path:"/"})},m=e=>{const t=i.a.parse(document.cookie);return e===parseInt(t.jetpack_sso_approved,10)},_=e=>{document.cookie=i.a.serialize("jetpack_connect_mobile_redirect",e,{path:"/"})},E=()=>{return i.a.parse(document.cookie).jetpack_connect_mobile_redirect}},"./client/layout/body-section-css-class.js":function(e,t,n){"use strict";n.d(t,"a",function(){return c});var s=n("./node_modules/react/index.js"),i=n.n(s);const r=e=>(function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n!==t&&(n&&document.body.classList.remove(e(n)),t&&document.body.classList.add(e(t)))}),o=r(e=>"is-group-".concat(e)),a=r(e=>"is-section-".concat(e));class c extends i.a.Component{componentDidMount(){o(this.props.group),a(this.props.section)}componentDidUpdate(e){o(this.props.group,e.group),a(this.props.section,e.section)}render(){return null}}},"./client/layout/logged-out.jsx":function(e,t,n){"use strict";var s=n("./node_modules/react/index.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/classnames/index.js"),c=n.n(a),l=n("./node_modules/react-redux/es/index.js"),u=n("./node_modules/lodash/lodash.js"),d=n("./client/components/global-notices/index.jsx"),p=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),m=n.n(p),_=n("./packages/i18n-calypso/dist/esm/index.js"),E=n("./client/config/index.js"),b=n("./client/layout/masterbar/masterbar.jsx"),g=n("./client/layout/masterbar/item.jsx"),h=n("./client/components/wordpress-logo/index.jsx");class f extends s.PureComponent{render(){return i.a.createElement("svg",{className:this.props.className,width:this.props.width,height:this.props.height,viewBox:"0 0 1007.7 172.4",xmlns:"http://www.w3.org/2000/svg"},i.a.createElement("g",{fill:"#FFF"},i.a.createElement("path",{d:"M84.18,3.7a82,82,0,1,0,82,82A82.09,82.09,0,0,0,84.18,3.7Zm-73.72,82a73.48,73.48,0,0,1,6.38-30L52,152.05A73.72,73.72,0,0,1,10.46,85.7Zm73.72,73.73a73.77,73.77,0,0,1-20.83-3L85.47,92.15l22.66,62.08a6.44,6.44,0,0,0,.53,1A73.52,73.52,0,0,1,84.18,159.43ZM94.34,51.13c4.43-.23,8.43-.7,8.43-.7,4-.47,3.51-6.31-.46-6.07,0,0-12,.93-19.65.93-7.25,0-19.42-.93-19.42-.93-4-.24-4.44,5.83-.47,6.07,0,0,3.76.47,7.73.7L82,82.6,65.85,131,39,51.13c4.44-.23,8.43-.7,8.43-.7,4-.47,3.51-6.31-.47-6.07,0,0-11.94.93-19.64.93-1.39,0-3,0-4.75-.09A73.7,73.7,0,0,1,134,31.33c-.32,0-.63-.06-1-.06-7.25,0-12.38,6.31-12.38,13.09,0,6.07,3.5,11.21,7.24,17.29,2.8,4.91,6.07,11.21,6.07,20.33q0,9.47-5.61,23.83L121,130.38Zm26.9,98.29,22.52-65.11c4.21-10.51,5.6-18.92,5.6-26.4a55.93,55.93,0,0,0-.49-7.58,73.73,73.73,0,0,1-27.63,99.09Z"}),i.a.createElement("path",{d:"M728,88.75c0-4.41,4.77-6.12,9.92-6.12a59.43,59.43,0,0,1,16.16,2.56v-12A59.58,59.58,0,0,0,736.85,71c-14,0-23.76,6.61-23.76,17.39,0,20.94,28.9,15.55,28.9,25.72,0,5-4.53,6.36-11.15,6.36-4.65,0-12.12-1.81-17.51-3.68v11.88a48.73,48.73,0,0,0,17,3.44c13.6,0,26.58-4,26.58-18.62,0-20.2-28.9-14.94-28.9-24.73M804.23,101c0-13.59,7.47-18.25,16.29-18.25a48.26,48.26,0,0,1,16.22,3.31V73.81A47.22,47.22,0,0,0,820.27,71c-19.23,0-31.11,11.75-31.11,30.74,0,18,8.58,30.37,30.25,30.37a53.71,53.71,0,0,0,18.06-3.31v-12c-6.61,2.57-11.69,3.55-16.22,3.55-9.55,0-17-4.41-17-19.35M388.56,82h-.49V72.46H374.6v58.17h14.45V96c4.53-8.57,10-11.39,19.23-11.39h1.47V72a38.81,38.81,0,0,0-3.92-.25c-7.84,0-13.23,3.07-17.27,10.29m181.29,0h-.49V72.46H555.89v58.17h14.45V96c4.53-8.57,10-11.39,19.23-11.39H591V72a38.55,38.55,0,0,0-3.92-.25c-7.84,0-13.23,3.07-17.27,10.29M988,71c-6.24,0-13.35,3.43-19.84,7.71l-1.71,1.11c-3.06-6.49-9.19-8.82-15.92-8.82-6.25,0-13.35,3.18-19.84,7.47v-6H917v58.17h14.58V88.87c5.38-3.55,11.14-5.76,15.3-5.76,4.78,0,7.72,2.57,7.72,10.78v36.74h14.45V89c5.39-3.55,11.15-5.88,15.31-5.88,4.77,0,7.71,2.57,7.71,10.78v36.74h14.45V90.46C1006.52,79.19,999.79,71,988,71M876,120.46c-9.43,0-14.45-6.12-14.45-18.86s5-18.86,14.45-18.86,14.33,6.13,14.33,18.86-4.9,18.86-14.33,18.86M876,71c-20,0-29.39,12.86-29.39,30.61S856,132.1,876,132.1s29.4-12.74,29.4-30.5S895.8,71,876,71M675.42,88.75c0-4.41,4.78-6.12,9.92-6.12a59.45,59.45,0,0,1,16.17,2.56v-12A59.65,59.65,0,0,0,684.24,71c-14,0-23.75,6.61-23.75,17.39,0,20.94,28.9,15.55,28.9,25.72,0,5-4.54,6.36-11.15,6.36-4.65,0-12.12-1.81-17.51-3.68v11.88a48.73,48.73,0,0,0,17,3.44c13.6,0,26.58-4,26.58-18.62,0-20.2-28.91-14.94-28.91-24.73m-62.7,6.36c.86-8.08,5.27-13.22,12.49-13.22,7.72,0,10,6.12,10,13.22ZM625.34,71c-18.62,0-28.29,14.45-28.29,30.25,0,21.67,11.38,30.86,29.86,30.86a69.17,69.17,0,0,0,21.45-3.31v-12c-6.06,2.22-11.54,3.56-17.41,3.56-10.77,0-18-2.94-18.35-15.67h37.23a69.26,69.26,0,0,0,.49-8.57c0-12.25-6.49-25.11-25-25.11m-108.6,19.1H505.28V60.7h11.46c9.31,0,14,5.15,14,14.33s-4.28,15.06-14,15.06m-.12-41.51H489.85v82.05h15.43V102.09h11.34c17.51,0,30.25-9.43,30.25-27.06s-12.74-26.45-30.25-26.45m-59.1,65.27c-4.65,4.29-9.06,6.61-13.71,6.61-8,0-13.11-5.26-13.11-17.63,0-13.35,6.37-20.33,17.39-20.33a26.89,26.89,0,0,1,9.43,1.84Zm0-41.51A52.7,52.7,0,0,0,446.62,71c-20,0-30.86,13.35-30.86,32.82s10.9,28.29,23.76,28.29a31.84,31.84,0,0,0,18.73-6.86v5.39H472v-82H457.52Zm-124,48.12c-9.43,0-14.45-6.12-14.45-18.86s5-18.86,14.45-18.86,14.33,6.13,14.33,18.86-4.9,18.86-14.33,18.86m0-49.47c-20,0-29.39,12.86-29.39,30.61s9.43,30.5,29.39,30.5S363,119.36,363,101.6,353.4,71,333.56,71m432.92,59.64H781V115.69h-14.5Zm-475.39-82L274.74,111.4,258.39,48.58H241.88L245.73,62l-14.39,51.49L215.68,48.58H199.81l22.31,82.05h17.3l13.36-43.87,12.52,43.87h17.29l23.42-82Z"})))}}m()(f,"displayName","WordPressWordmark"),m()(f,"defaultProps",{width:150,height:25,className:"wpcom-wordmark"}),m()(f,"propTypes",{width:o.a.number,height:o.a.number,className:o.a.string});var S=n("./client/lib/route/index.js"),O=n("./client/state/selectors/get-current-query-arguments.js"),j=n("./client/state/selectors/get-current-route.js"),T=n("./client/lib/paths/index.js"),y=n("./client/lib/domains/utils.js");class I extends s.PureComponent{renderLoginItem(){const e=this.props,t=e.currentQuery,n=e.currentRoute,s=e.sectionName,r=e.translate,o=e.redirectUri;if(Object(u.includes)(["login","jetpack-onboarding"],s))return null;let a=null;o?a=o:n&&(a=t?Object(S.a)(t,n):n);const c="jetpack-connect"===s;let l=Object(T.a)({emailAddress:c&&Object(u.get)(t,"user_email",!1),isJetpack:c,isNative:E.a.isEnabled("login/native-login-links"),locale:Object(_.getLocaleSlug)(),redirectTo:a});return t&&t.partner_id&&(l=Object(S.a)({partner_id:t.partner_id},l)),i.a.createElement(g.a,{url:l},r("Log In",{context:"Toolbar",comment:"Should be shorter than ~12 chars"}))}renderSignupItem(){const e=this.props,t=e.currentQuery,n=e.currentRoute,s=e.sectionName,r=e.translate;if(Object(u.includes)(["signup","jetpack-onboarding"],s))return null;if(Object(u.startsWith)(n,"/jetpack/connect/authorize"))return null;if(Object(u.startsWith)(n,"/jetpack/new"))return null;const o=Object(u.get)(t,"redirect_to","");if(Object(y.e)(o))return null;let a=Object(E.a)("signup_url");const c=Object(u.get)(t,"signup_flow");return Object(u.startsWith)(n,"/log-in/jetpack")?a=Object(u.includes)(Object(u.get)(t,"redirect_to"),"/jetpack/connect/authorize")&&Object(u.includes)(Object(u.get)(t,"redirect_to"),"_wp_nonce")?t.redirect_to:"/jetpack/new":"jetpack-connect"===s?a="/jetpack/new":c&&(a+="/"+c),i.a.createElement(g.a,{url:a},r("Sign Up",{context:"Toolbar",comment:"Should be shorter than ~12 chars"}))}render(){const e=this.props.title;return i.a.createElement(b.a,null,i.a.createElement(g.a,{className:"masterbar__item-logo"},i.a.createElement(h.a,{className:"masterbar__wpcom-logo"}),i.a.createElement(f,{className:"masterbar__wpcom-wordmark"})),i.a.createElement(g.a,{className:"masterbar__item-title"},e),i.a.createElement("div",{className:"masterbar__login-links"},this.renderSignupItem(),this.renderLoginItem()))}}m()(I,"propTypes",{redirectUri:o.a.string,sectionName:o.a.string,title:o.a.string,currentQuery:o.a.oneOfType([o.a.bool,o.a.object]),currentRoute:o.a.string,userSiteCount:o.a.number}),m()(I,"defaultProps",{sectionName:"",title:""});var R=Object(l.b)(e=>({currentQuery:Object(O.a)(e),currentRoute:Object(j.a)(e)}))(Object(_.localize)(I)),C=n("./client/notices/index.js"),A=n("./client/components/gridicon/index.jsx"),v=n("./client/lib/i18n-utils/browser.js"),N=n("./client/lib/oauth2-clients.js");n("./client/layout/masterbar/crowdsignal.scss");var U=Object(_.localize)(class extends s.Component{componentDidMount(){0===Object(u.filter)(Array.from(document.head.childNodes),e=>"link"===e.nodeName.toLowerCase()&&"https://fonts.googleapis.com/css?family=Muli:400,600"===e.href).length&&document.head.appendChild(Object(u.tap)(document.createElement("link"),e=>{e.type="text/css",e.rel="stylesheet",e.href="https://fonts.googleapis.com/css?family=Muli:400,600"}))}render(){const e=this.props,t=e.oauth2Client,n=e.translate;return i.a.createElement("header",{className:"masterbar masterbar__crowdsignal"},i.a.createElement("nav",{className:"masterbar__crowdsignal-nav-wrapper"},i.a.createElement("ul",{className:"masterbar__crowdsignal-nav"},i.a.createElement("li",{className:"masterbar__crowdsignal-nav-item"},i.a.createElement("a",{href:"https://crowdsignal.com",className:"masterbar__crowdsignal-link"},i.a.createElement("img",{className:"masterbar__crowdsignal-client-logo",src:t.icon,alt:t.title}))),i.a.createElement("li",{className:"masterbar__crowdsignal-nav-item masterbar__crowdsignal-nav-text"},i.a.createElement("p",{className:"masterbar__crowdsignal-text"},i.a.createElement("span",null,n("{{span}}%(product)s is {{/span}}built by the people behind WordPress.com",{args:{product:t.title},components:{span:i.a.createElement("span",{className:"masterbar__crowdsignal-wide-screen-only"})}})))),i.a.createElement("li",{className:"masterbar__crowdsignal-nav-item"},i.a.createElement("a",{href:"https://wordpress.com",className:"masterbar__crowdsignal-link"},i.a.createElement(h.a,{size:40,className:"masterbar__crowdsignal-wordpress-logo"}))))))}});n("./client/layout/masterbar/oauth-client.scss");const w=e=>{let t=e.oauth2Client;return i.a.createElement("header",{className:"masterbar masterbar__oauth-client"},i.a.createElement("nav",null,i.a.createElement("ul",{className:"masterbar__oauth-client-main-nav"},i.a.createElement("li",{className:"masterbar__oauth-client-current"},t.icon&&i.a.createElement("div",{className:"masterbar__oauth-client-logo"},i.a.createElement("img",{src:t.icon,alt:t.title}))),Object(N.b)(t)&&i.a.createElement("li",{className:"masterbar__oauth-client-close"},i.a.createElement("a",{href:"https://woocommerce.com"},"Cancel ",i.a.createElement("span",null,"X"))),!Object(N.b)(t)&&i.a.createElement("li",{className:"masterbar__oauth-client-wpcc-sign-in"},i.a.createElement("a",{href:Object(v.j)("https://wordpress.com/"),className:"masterbar__oauth-client-wpcom",target:"_self"},i.a.createElement(A.a,{icon:"my-sites",size:24}),"WordPress.com")))))},P=e=>{let t=e.oauth2Client;return Object(N.a)(t)?i.a.createElement(U,{oauth2Client:t}):i.a.createElement(w,{oauth2Client:t})};P.displayName="OauthClientMasterbar",P.propTypes={oauth2Client:o.a.object};var D=P,L=n("./client/state/ui/oauth2-clients/selectors.js"),k=n("./client/state/ui/selectors.js"),x=n("./client/layout/body-section-css-class.js");const M=e=>"devdocs"===e.name&&!Object(u.includes)(e.paths,"/devdocs/start"),F=e=>{let t=e.currentRoute,n=e.isJetpackLogin,s=e.masterbarIsHidden,r=e.oauth2Client,o=e.primary,a=e.secondary,l=e.section,p=e.redirectUri,m=e.useOAuth2Layout;const _=Object(u.get)(l,"group",null),E=Object(u.get)(l,"name",null),b={["is-group-"+_]:_,["is-section-"+E]:E,"is-add-site-page":"/jetpack/new"===t,"focus-content":!0,"has-no-sidebar":!M(l),"has-no-masterbar":s,"is-jetpack-login":n};let g=null;return m&&r&&r.name?(b.dops=!0,b[r.name]=!0,Object(N.a)(r)&&(b["has-no-masterbar"]=!1),g=i.a.createElement(D,{oauth2Client:r})):g=i.a.createElement(R,{title:l.title,sectionName:l.name,redirectUri:p}),i.a.createElement("div",{className:c()("layout",b)},i.a.createElement(x.a,{group:_,section:E}),g,i.a.createElement("div",{id:"content",className:"layout__content"},i.a.createElement(d.a,{id:"notices",notices:C.a.list}),i.a.createElement("div",{id:"primary",className:"layout__primary"},o),i.a.createElement("div",{id:"secondary",className:"layout__secondary"},a)))};F.displayName="LayoutLoggedOut",F.propTypes={primary:o.a.element,secondary:o.a.element,currentRoute:o.a.string,masterbarIsHidden:o.a.bool,section:o.a.oneOfType([o.a.bool,o.a.object]),redirectUri:o.a.string,showOAuth2Layout:o.a.bool};t.a=Object(l.b)(e=>{const t=Object(k.a)(e),n=Object(j.b)(e),s="/log-in/jetpack"===n,i="/log-in/jetpack"===n,r="signup"===t.name||"jetpack-connect"===t.name;return{currentRoute:n,isJetpackLogin:s,masterbarIsHidden:!Object(k.j)(e)||r||i,section:t,oauth2Client:Object(L.a)(e),useOAuth2Layout:Object(L.c)(e)}})(F)},"./client/layout/masterbar/crowdsignal.scss":function(e,t,n){},"./client/layout/masterbar/drafts.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/extends.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a),l=n("./node_modules/react/index.js"),u=n.n(l),d=n("./node_modules/react-redux/es/index.js"),p=n("./packages/i18n-calypso/dist/esm/index.js"),m=n("./client/components/async-load/index.jsx"),_=n("./client/components/data/query-post-counts/index.jsx"),E=n("./client/components/button/index.jsx"),b=n("./client/components/count/index.jsx"),g=n("./client/state/analytics/actions.js"),h=n("./client/state/ui/selectors.js"),f=n("./client/state/posts/counts/selectors.js"),S=function(e){n.e(56).then(n.bind(null,"./client/layout/masterbar/drafts-popover.jsx")).then(function(t){e(t.default)})};const O=e=>u.a.createElement(m.a,o()({},e,{require:S,placeholder:null}));class j extends l.Component{constructor(){super(...arguments),i()(this,"state",{showDrafts:!1}),i()(this,"preloaded",!1),i()(this,"preload",()=>{this.preloaded||(n.e(56).then(n.bind(null,"./client/layout/masterbar/drafts-popover.jsx")),this.preloaded=!0)}),i()(this,"toggleDrafts",()=>{this.setState(e=>({showDrafts:!e.showDrafts}))}),i()(this,"closeDrafts",()=>{this.setState({showDrafts:!1})}),i()(this,"draftClicked",()=>{this.props.recordTracksEvent("calypso_masterbar_draft_selected"),this.closeDrafts()}),i()(this,"newDraftClicked",()=>{this.props.recordTracksEvent("calypso_masterbar_drafts_new_draft_clicked"),this.closeDrafts()}),i()(this,"seeAllDraftsClicked",()=>{this.props.recordTracksEvent("calypso_masterbar_drafts_see_all_drafts_clicked"),this.closeDrafts()}),i()(this,"setDraftsRef",e=>{this.draftsRef=e})}renderButton(){return this.props.selectedSiteId&&this.props.draftCount?u.a.createElement(E.a,{compact:!0,borderless:!0,className:"masterbar__toggle-drafts",title:this.props.translate("Latest Drafts"),onClick:this.toggleDrafts,onTouchStart:this.preload,onMouseEnter:this.preload,ref:this.setDraftsRef},u.a.createElement(b.a,{count:this.props.draftCount})):null}renderPopover(){return this.state.showDrafts?u.a.createElement(O,{siteId:this.props.selectedSiteId,draftCount:this.props.draftCount,context:this.draftsRef,closeDrafts:this.closeDrafts,draftClicked:this.draftClicked,newDraftClicked:this.newDraftClicked,seeAllDraftsClicked:this.seeAllDraftsClicked}):null}render(){return this.props.selectedSiteId?u.a.createElement("div",{className:"masterbar__drafts"},u.a.createElement(_.a,{siteId:this.props.selectedSiteId,type:"post"}),this.renderButton(),this.renderPopover()):null}}i()(j,"propTypes",{selectedSiteId:c.a.number}),t.a=Object(d.b)(e=>{const t=Object(h.e)(e);return{selectedSiteId:t,draftCount:Object(f.a)(e,t,"post","draft")}},{recordTracksEvent:g.i})(Object(p.localize)(j))},"./client/layout/masterbar/item.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/prop-types/index.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/classnames/index.js"),u=n.n(l),d=n("./node_modules/lodash/lodash.js"),p=n("./client/components/gridicon/index.jsx"),m=n("./client/components/translatable/proptype.js");class _ extends a.Component{constructor(){super(...arguments),i()(this,"_preloaded",!1),i()(this,"preload",()=>{!this._preloaded&&Object(d.isFunction)(this.props.preloadSection)&&(this._preloaded=!0,this.props.preloadSection())})}render(){const e=u()("masterbar__item",this.props.className,{"is-active":this.props.isActive});return c.a.createElement("a",{"data-tip-target":this.props.tipTarget,href:this.props.url,onClick:this.props.onClick,title:this.props.tooltip,className:e,onTouchStart:this.preload,onMouseEnter:this.preload},!!this.props.icon&&c.a.createElement(p.a,{icon:this.props.icon,size:24}),c.a.createElement("span",{className:"masterbar__item-content"},this.props.children))}}i()(_,"propTypes",{url:o.a.string,onClick:o.a.func,tooltip:m.a,icon:o.a.string,className:o.a.string,isActive:o.a.bool,preloadSection:o.a.func}),i()(_,"defaultProps",{icon:"",onClick:d.noop}),t.a=_},"./client/layout/masterbar/masterbar.jsx":function(e,t,n){"use strict";var s=n("./node_modules/prop-types/index.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r);n("./client/layout/masterbar/style.scss");const a=e=>{let t=e.children;return o.a.createElement("header",{id:"header",className:"masterbar"},t)};a.propTypes={children:i.a.node.isRequired},t.a=a},"./client/layout/masterbar/oauth-client.scss":function(e,t,n){},"./client/layout/masterbar/style.scss":function(e,t,n){},"./client/layout/offline-status/style.scss":function(e,t,n){},"./client/lib/abtest/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return O}),n.d(t,"b",function(){return j}),n.d(t,"d",function(){return T}),n.d(t,"c",function(){return y}),n.d(t,"e",function(){return A});var s=n("./node_modules/debug/src/browser.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/store/dist/store.modern.js"),a=n.n(o),c=n("./packages/i18n-calypso/dist/esm/index.js"),l=n.n(c),u=n("./node_modules/moment/moment.js"),d=n.n(u),p=n("./client/lib/abtest/active-tests.js"),m=n("./client/lib/analytics/index.js"),_=n("./client/lib/user/index.js"),E=n("./client/lib/wp/browser.js"),b=n("./client/lib/abtest/utility.js"),g=n("./client/lib/i18n-utils/utils.js");const h=i()("calypso:abtests"),f=Object(_.default)();function S(e,t){if(!(this instanceof S))return new S(e,t);this.init(e,t)}const O=function(e){return new S(e,arguments.length>1&&void 0!==arguments[1]&&arguments[1]).getVariationAndSetAsNeeded()},j=e=>new S(e).getVariation(),T=()=>a.a.get(b.a)||{},y=()=>Object(r.keys)(p.a).map(S),I=()=>f&&!1!==f.get(),R=Object(g.d)(),C=e=>-1!==R.indexOf(e);S.prototype.init=function(e,t){if(!/^[A-Za-z\d]+$/.test(e))throw new Error('The test name "'+e+'" should be camel case');const n=p.a[e];if(!n)throw new Error("No A/B test configuration data found for "+e);const s=n.variations,i=void 0!==n.assignmentMethod?n.assignmentMethod:"default",o=Object(r.keys)(s);if(!s||0===o.length)throw new Error("No A/B test variations found for "+e);if(!n.defaultVariation)throw new Error("No default variation found for "+e);if(!Object(r.includes)(o,n.defaultVariation))throw new Error("A default variation is specified for "+e+" but it is not part of the variations");if(this.localeTargets=["en"],n.localeTargets)if("any"===n.localeTargets)this.localeTargets=!1;else{if(!Object(r.isArray)(n.localeTargets)||!Object(r.every)(n.localeTargets,C))throw new Error('localeTargets can be either "any" or an array of one or more valid language slugs');this.localeTargets=n.localeTargets}const a=n.datestamp;if(this.name=e,this.datestamp=a,this.startDate=(e=>{const t=d()(e,"YYYYMMDD");if(!t.isValid())throw new Error("The date "+e+" should be in the YYYYMMDD format");return t})(a),this.variationDetails=s,this.defaultVariation=n.defaultVariation,this.variationNames=o,this.assignmentMethod=i,this.experimentId=e+"_"+a,n.countryCodeTargets){if(!1===t)throw new Error("Test config has countryCodeTargets, but no geoLocation passed to abtest function");this.countryCodeTargets=n.countryCodeTargets,this.geoLocation=t}this.allowExistingUsers=!0===n.allowExistingUsers},S.prototype.getVariationAndSetAsNeeded=function(){const e=this.getSavedVariation(this.experimentId);if(!this.hasTestStartedYet())return h("%s: Test will start on %s.",this.experimentId,this.datestamp),e||this.defaultVariation;if(e&&Object(r.includes)(this.variationNames,e))return h('%s: existing variation: "%s"',this.experimentId,e),e;if(!this.isEligibleForAbTest())return h("%s: User is ineligible to participate in A/B test",this.experimentId),this.defaultVariation;const t=this.assignVariation();return this.saveVariation(t),h('%s: new variation: "%s"',this.experimentId,t),t},S.prototype.getVariation=function(){return this.getSavedVariation(this.experimentId)};const A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n="undefined"!=typeof navigator?navigator:{},s=n.language||n.userLanguage||"en",i=n.languages&&n.languages.length?n.languages[0]:"en",r=l.a.getLocaleSlug()||"en",o=new RegExp("^("+e.join("|")+")","i"),a=f.get().localeSlug||"en";return I()&&!a.match(o)?(h("%s: User has a %s locale",t,a),!1):I()||s.match(o)?I()||i.match(o)?!(!I()&&!r.match(o))||(h("%s: Logged-out user has the %s locale in session",t,a),!1):(h("%s: Logged-out user has a %s navigator.languages primary preference",t,a),!1):(h("%s: Logged-out user has a %s navigator.language preference",t,a),!1)};S.prototype.isEligibleForAbTest=function(){return a.a.enabled?!(this.localeTargets&&!A(this.localeTargets,this.experimentId))&&(this.countryCodeTargets&&-1===this.countryCodeTargets.indexOf(this.geoLocation)?(h("%s: geoLocation is %s, test targets: %s",this.experimentId,this.geoLocation,this.countryCodeTargets.join(", ")),!1):this.hasBeenInPreviousSeriesTest()?(h("%s: User has been in a previous series test",this.experimentId),!1):!(this.hasRegisteredBeforeTestBegan()&&!this.allowExistingUsers)||(h("%s: User was registered before the test began",this.experimentId),!1)):(h("%s: Local storage is not enabled",this.experimentId),!1)},S.prototype.hasTestStartedYet=function(){return d()().isAfter(this.startDate)},S.prototype.hasBeenInPreviousSeriesTest=function(){const e=Object(r.keys)(T());let t;return Object(r.some)(e,function(e){return t=e.substring(0,e.length-"_YYYYMMDD".length),e!==this.experimentId&&t===this.name}.bind(this))},S.prototype.hasRegisteredBeforeTestBegan=function(){return f&&f.get()&&d()(f.get().date).isBefore(this.startDate)},S.prototype.getSavedVariation=function(){return T()[this.experimentId]||null},S.prototype.assignVariation=function(){let e,t,n=0;const s=Object(r.get)(f,"data.ID"),i=Object(r.reduce)(this.variationDetails,(e,t)=>e+t,0);for(e in t="userId"!==this.assignmentMethod||isNaN(+s)?Math.random()*i:Number(f.data.ID)%i,this.variationDetails)if(t<(n+=this.variationDetails[e]))return e},S.prototype.recordVariation=function(e){m.default.tracks.recordEvent("calypso_abtest_start",{abtest_name:this.experimentId,abtest_variation:e})},S.prototype.saveVariation=function(e){I()?this.saveVariationOnBackend(e):this.recordVariation(e),this.saveVariationInLocalStorage(e)},S.prototype.saveVariationOnBackend=function(e){E.a.undocumented().saveABTestData(this.experimentId,e,function(t){t?h("%s: Error saving variation %s: %s",this.experimentId,e,t):h("%s: Variation saved successfully: %s.",this.experimentId,e)}.bind(this))},S.prototype.saveVariationInLocalStorage=function(e){const t=T();t[this.experimentId]=e,a.a.set(b.a,t)}},"./client/lib/ads/utils.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"d",function(){return a}),n.d(t,"c",function(){return c});var s=n("./client/lib/site/utils.js"),i=n("./client/lib/products-values/index.js");function r(e){if(e){if(a(e))return!0;const t=e.jetpack&&(Object(i.L)(e.plan)||Object(i.j)(e.plan));return e.options&&(e.options.wordads||t)&&Object(s.g)("manage_options",e)}return!1}function o(e){return r(e)||c(e)}function a(e){return!(e.jetpack||!Object(i.j)(e.plan)&&!Object(i.L)(e.plan)||!Object(s.g)("activate_wordads",e))}function c(e){return!(!e||e.options.wordads||Object(i.j)(e.plan)||Object(i.L)(e.plan))}},"./client/lib/analytics/ad-tracking.js":function(e,t,n){"use strict";n.d(t,"i",function(){return be}),n.d(t,"l",function(){return ge}),n.d(t,"k",function(){return he}),n.d(t,"d",function(){return fe}),n.d(t,"e",function(){return Se}),n.d(t,"j",function(){return Oe}),n.d(t,"a",function(){return je}),n.d(t,"h",function(){return Te}),n.d(t,"c",function(){return ye}),n.d(t,"b",function(){return Ie}),n.d(t,"g",function(){return Re}),n.d(t,"f",function(){return Ce});var s=n("./node_modules/cookie/index.js"),i=n.n(s),r=n("./node_modules/debug/src/browser.js"),o=n.n(r),a=n("./node_modules/lodash/lodash.js"),c=n("./node_modules/uuid/index.js"),l=n("./client/config/index.js"),u=n("./client/lib/products-values/index.js"),d=n("./client/lib/user/index.js"),p=n("./client/lib/load-script/index.js"),m=n("./client/lib/analytics/utils.js"),_=n("./client/utils.js"),E=n("./node_modules/superagent/lib/client.js"),b=n.n(E);const g=o()("calypso:analytics:ad-tracking"),h=Object(d.default)(),f=!0,S=!0,O=!0,j=!0,T=!0,y=!0,I=!0,R=!0,C=!0,A=!0,v=!0,N=!0,U=!0,w=!0,P=!0,D=!1,L=!1,k=!1,x=86400;let M=0;const F="https://connect.facebook.net/en_US/fbevents.js",G="https://www.googleadservices.com/pagead/conversion_async.js",V="https://www.googletagmanager.com/gtag/js?id=",q="https://bat.bing.com/bat.js",H="https://static.criteo.net/js/ld/ld.js",Q=Object(l.a)("google_adwords_conversion_id"),B=Object(l.a)("google_adwords_conversion_id_jetpack"),Y=Object(l.a)("google_adwords_signup_conversion_id"),W="https://sp.analytics.yahoo.com/spp.pl?a=10000&.yp=10014088&ec=wordpresspurchase",K="https://sp.analytics.yahoo.com/spp.pl?a=10000&.yp=10014088",z="https://data.adxcel-ec2.com/pixel/?ad_log=referer&action=purchase&pixid=7efc5994-458b-494f-94b3-31862eee9e26",J="https://d.turn.com/r/dd/id/L21rdC84MTYvY2lkLzE3NDc0MzIzNDgvdC8yL2NhdC8zMjE4NzUwOQ",Z="https://tags.w55c.net/rs?id=cab35a3a79dc4173b8ce2c47adad2cea&t=marketing",$="https://tags.w55c.net/rs?id=d239e9cb6d164f7299d2dbf7298f930a&t=marketing",X="https://tags.w55c.net/rs?id=d299eef42f2d4135a96d0d40ace66f3a&t=checkout",ee="https://static.ads-twitter.com/uwt.js",te="https://snap.licdn.com/li.lms-analytics/insight.min.js",ne="https://a.quora.com/qevents.js",se="https://amplify.outbrain.com/cp/obtp.js",ie="https://cdn.nanigans.com/NaN_tracker.js",re="https://s.pinimg.com/ct/core.js",oe={bingInit:"4074038",facebookInit:"823166884443641",facebookJetpackInit:"919484458159593",googleConversionLabel:"MznpCMGHr2MQ1uXz_AM",googleConversionLabelJetpack:"0fwbCL35xGIQqv3svgM",googleSignupConversionLabel:"zKK-CKPG7ocBENbl8_wD",criteo:"31321",quantcast:"p-3Ma3jHaQMB_bS",twitterPixelId:"nvzbs",dcmFloodlightAdvertiserId:"6355556",linkedInPartnerId:"195308",quoraPixelId:"420845cb70e444938cf0728887a74ca1",outbrainAdvId:"00f0f5287433c2851cc0cb917c7ff0465e",nanigansAppId:"653793",wpcomFloodlightGtag:"DC-6355556",wpcomGoogleAdsGtag:"AW-946162814",wpcomGoogleAdsGtagRegistration:"AW-946162814/_6cKCK6miZYBEP6YlcMD",wpcomGoogleAdsGtagSignup:"AW-946162814/5-NnCKy3xZQBEP6YlcMD",wpcomGoogleAdsGtagAddToCart:"AW-946162814/MF4yCNi_kZYBEP6YlcMD",wpcomGoogleAdsGtagPurchase:"AW-946162814/taG8CPW8spQBEP6YlcMD",jetpackGoogleAdsGtag:"AW-937115306",jetpackGoogleAdsGtagAddToCart:"AW-937115306/BrwBCIWziZYBEKr97L4D",jetpackGoogleAdsGtagPurchase:"AW-937115306/87huCM-P7ZMBEKr97L4D",pinterestInit:"2612678247224"},ae="dcmsid",ce=1800,le={NOT_LOADED:0,LOADING:1,LOADED:2};let ue=le.NOT_LOADED;const de=[];function pe(e){if(!i.a.parse(document.cookie).country_code){const t=(new Date).getTime();return b.a.get("https://public-api.wordpress.com/geo/?v="+t).then(t=>{document.cookie=i.a.serialize("country_code",t.body.country_short,{path:"/",maxAge:21600}),e()}).catch(e=>{document.cookie=i.a.serialize("country_code","unknown",{path:"/",maxAge:21600}),g("refreshGeoIpCountryCookieGdpr Error: ",e)}),!0}return!1}"undefined"!=typeof window&&(O&&function(){if(window.fbq)return;const e=window.fbq=function(){e.callMethod?e.callMethod.apply(e,arguments):e.queue.push(arguments)};window._fbq||(window._fbq=e);window._fbq.disablePushState=!0,e.push=e,e.loaded=!0,e.version="2.0",e.queue=[]}(),j&&!window.uetq&&(window.uetq=[]),D&&!window.criteo_q&&(window.criteo_q=[]),R&&!window._qevents&&(window._qevents=[]),y&&(Pe(),window.gtag("config",oe.wpcomGoogleAdsGtag)),I&&(Pe(),window.gtag("config",oe.jetpackGoogleAdsGtag)),f&&(Pe(),window.gtag("config",oe.wpcomFloodlightGtag)),C&&function(){if(window.twq)return;const e=window.twq=function(){e.exe?e.exe.apply(e,arguments):e.queue.push(arguments)};e.version="1.1",e.queue=[]}(),v&&(window._linkedin_data_partner_id||(window._linkedin_data_partner_id=oe.linkedInPartnerId)),k&&function(){if(window.qp)return;const e=window.qp=function(){e.qp?e.qp.apply(e,arguments):e.queue.push(arguments)};e.queue=[]}(),N&&function(){const e=window.obApi=function(){e.dispatch?e.dispatch.apply(e,arguments):e.queue.push(arguments)};e.version="1.0",e.loaded=!0,e.marketerId=oe.outbrainAdvId,e.queue=[]}(),w&&function(){if(!window.pintrk){window.pintrk=function(){window.pintrk.queue.push(Array.prototype.slice.call(arguments))};const e=window.pintrk;e.queue=[],e.version="3.0"}}());let me=!1;const _e=Object(_.b)(p.a);async function Ee(e){if(g("loadTrackingScripts: state is ".concat(ue)),de.push(e),le.LOADING===ue)return void g("loadTrackingScripts: [LOADING] enqueue and return",e);if(le.NOT_LOADED!==ue)return void g("loadTrackingScripts: [ERROR] unexpected state ".concat(ue));g("loadTrackingScripts: [NOT_LOADED] enqueue and load",e),ue=le.LOADING;const t=[];O&&t.push(F),S&&t.push(G);const n=[y&&oe.wpcomGoogleAdsGtag,I&&oe.jetpackGoogleAdsGtag,f&&oe.wpcomFloodlightGtag].filter(e=>!1!==e);n.length>0&&t.push(V+n[0]),j&&t.push(q),D&&t.push(H),R&&t.push(("https:"===document.location.protocol?"https://secure":"http://edge")+".quantserve.com/quant.js"),C&&t.push(ee),v&&t.push(te),k&&t.push(ne),N&&t.push(se),w&&t.push(re);let s=!1;for(const e of t){try{await _e(e)}catch(e){s=!0,g("loadTrackingScripts: [Load Error] a tracking script failed to load: ",e)}g("loadTrackingScripts: [Loaded]",e)}if(!s){if(g("loadTrackingScripts: load done"),O&&(h.get()?function(){const e=Object(m.c)(h),t=e?{em:e}:{};g("initFacebookAdvancedMatching:",t),window.fbq("init",oe.facebookInit,t),window.fbq("set","autoConfig",!1,oe.facebookJetpackInit),window.fbq("init",oe.facebookJetpackInit,t)}():(window.fbq("init",oe.facebookInit),window.fbq("set","autoConfig",!1,oe.facebookJetpackInit),window.fbq("init",oe.facebookJetpackInit))),j){const e={ti:oe.bingInit,q:window.uetq};"undefined"!=typeof UET&&(window.uetq=new UET(e))}if(C&&window.twq("init",oe.twitterPixelId),k&&window.qp("init",oe.quoraPixelId),w){const e=Object(m.c)(h),t=e?{em:e}:{};window.pintrk("load","2612678247224",t)}g("loadTrackingScripts: init done"),g("loadTrackingScripts: dataLayer:",JSON.stringify(window.dataLayer,null,2)),ue=le.LOADED,de.forEach(e=>e()),g("loadTrackingScripts: event queue done",de)}}function be(e){if(pe(be.bind(null,e)))return;if(!Object(m.e)())return void g("retarget: [Skipping] ad tracking is not allowed",e);if(le.LOADED!==ue)return void Ee(be.bind(null,e));if(g("retarget:",e),R){const e={qacct:oe.quantcast,event:"refresh"};g("retarget: [Quantcast]",e),window._qevents.push(e)}if(O){const e=["trackSingle",oe.facebookInit,"PageView"];g("retarget: [Facebook]",e),window.fbq(...e)}if(j&&(g("retarget: [Bing]"),window.uetq.push("pageLoad")),y){const t=["config",oe.wpcomGoogleAdsGtag,{page_path:e}];g("retarget: [Google Ads] WPCom",t),window.gtag(...t)}if(I){const t=["config",oe.jetpackGoogleAdsGtag,{page_path:e}];g("retarget: [Google Ads] Jetpack",t),window.gtag(...t)}if(S){const e={google_conversion_id:Q,google_remarketing_only:!0};g("retarget: [AdWords]",e),window.google_trackConversion&&window.google_trackConversion(e)}!function(e){if(!Object(m.e)()||!f)return;const t=function(){const e=i.a.parse(document.cookie)[ae];if(e)return g("Floodlight: Existing session: "+e),e;const t=Object(c.v4)().replace(new RegExp("-","g"),"");return g("Floodlight: New session: "+t),t}();document.cookie=i.a.serialize(ae,t,{maxAge:ce}),g("retarget: recordPageViewInFloodlight: wpvisit"),ve({session_id:t,u6:e,u7:t,send_to:"DC-6355556/wordp0/wpvisit+per_session"}),g("retarget: recordPageViewInFloodlight: wppv"),ve({u6:e,u7:t,send_to:"DC-6355556/wordp0/wppv+standard"})}(e),w&&(g("retarget: [Pinterest]"),window.pintrk("page"));const t=Date.now()/1e3;if(t>=M+x){if(M=t,N){const e=["track","PAGE_VIEW"];g("retarget: [Outbrain] [rate limited]",e),window.obApi(...e)}if(U){const e=Z;g("retarget: [Icon Media] [rate limited]",e),(new Image).src=e}if(C){const e=["track","PageView"];g("retarget: [Twitter] [rate limited]",e),window.twq(...e)}if(T){const e=K;g("retarget: [Yahoo Gemini] [rate limited]",e),(new Image).src=e}if(k){const e=["track","ViewContent"];g("retarget: [Quora] [rate limited]",e),window.qp(...e)}}g("retarget: dataLayer:",JSON.stringify(window.dataLayer,null,2))}function ge(e,t){window.fbq&&window.fbq("trackSingleCustom",oe.facebookInit,e,t)}function he(e){window.google_trackConversion&&window.google_trackConversion({google_conversion_id:Q,google_custom_params:e,google_remarketing_only:!0})}function fe(){if(!pe(fe.bind(null)))if(Object(m.e)())if(le.LOADED===ue){if(y){const e=["event","conversion",{send_to:oe.wpcomGoogleAdsGtagRegistration}];g("recordRegistration: [Google Ads Gtag]",e),window.gtag(...e)}if(O){const e=["trackSingle",oe.facebookInit,"Lead"];g("recordRegistration: [Facebook]",e),window.fbq(...e)}if(j){const e={ec:"registration"};g("recordRegistration: [Bing]",e),window.uetq.push(e)}if(f&&(g("recordRegistration: [Floodlight]"),ve({send_to:"DC-6355556/wordp0/regis0+unique"})),w){const e=["track","lead"];g("recordRegistration: [Pinterest]",e),window.pintrk(...e)}g("recordRegistration: dataLayer:",JSON.stringify(window.dataLayer,null,2))}else Ee(fe.bind(null));else g("recordRegistration: [Skipping] ad tracking is not allowed")}function Se(e){if(pe(Se.bind(null,e)))return;if(!Object(m.e)())return void g("recordSignup: [Skipping] ad tracking is disallowed");if(le.LOADED!==ue)return void Ee(Se.bind(null,e));const t={is_signup:!0,currency:"USD",total_cost:0,products:[{is_signup:!0,product_id:e,product_slug:e,product_name:e,currency:"USD",volume:1,cost:0}]},n="s_"+Object(c.v4)().replace(/-/g,""),s=h.get(),i=s?Object(m.d)(s.ID):0,r=Object(m.a)(t.total_cost,t.currency);if(S&&window.google_trackConversion){const s={google_conversion_id:Y,google_conversion_label:oe.googleSignupConversionLabel,google_conversion_value:t.total_cost,google_conversion_currency:t.currency,google_custom_params:{product_slug:e,user_id:i,order_id:n},google_remarketing_only:!1};g("recordSignup: [AdWords]",s),window.google_trackConversion(s)}if(y){const e=["event","conversion",{send_to:oe.wpcomGoogleAdsGtagSignup,value:t.total_cost,currency:t.currency,transaction_id:n}];g("recordSignup: [Google Ads Gtag]",e),window.gtag(...e)}if(j)if(null!==r){const e={ec:"signup",gv:r};g("recordSignup: [Bing]",e),window.uetq.push(e)}else g("recordSignup: [Bing] currency not supported, dropping WPCom pixel");if(O){const e=["trackSingle",oe.facebookInit,"Subscribe",{product_slug:t.products.map(e=>e.product_slug).join(", "),value:t.total_cost,currency:t.currency,user_id:i,order_id:n}];g("recordSignup: [Facebook]",e),window.fbq(...e)}if(f&&(g("recordSignup: [Floodlight]"),ve({send_to:"DC-6355556/wordp0/signu1+unique"})),R){const e={qacct:oe.quantcast,labels:"_fp.event.WordPress Signup,_fp.pcat."+t.products.map(e=>e.product_slug).join(" "),orderid:n,revenue:r,event:"refresh"};g("recordSignup: [Quantcast]",e),window._qevents.push(e)}if(U&&(g("recordSignup: [Icon Media]",$),(new Image).src=$),w){const e=["track","signup",{value:t.total_cost,currency:t.currency}];g("recordSignup: [Pinterest]",e),window.pintrk(...e)}if(C){const e=["track","Signup",{}];g("recordSignup: [Twitter]",e),window.twq(...e)}g("recordSignup: dataLayer:",JSON.stringify(window.dataLayer,null,2))}function Oe(){Object(m.e)()&&D&&function(){if(!Object(m.e)()||!D)return;const e=["viewItem",{item:"1"}];g("recordPlansViewInCriteo:",e),Ue(...e)}()}function je(e){if(pe(je.bind(null,e)))return;if(!Object(m.e)())return void g("recordAddToCart: [Skipping] ad tracking is not allowed");if(le.LOADED!==ue)return void Ee(je.bind(null,e));const t=u.a.isJetpackPlan(e);if(g(t?"recordAddToCart: [Jetpack]":"recordAddToCart: [WPCom]",e),!t&&y){const e=["event","conversion",{send_to:oe.wpcomGoogleAdsGtagAddToCart}];g("recordAddToCart: [Google Ads Gtag] WPCom",e),window.gtag(...e)}if(t&&I){const e=["event","conversion",{send_to:oe.jetpackGoogleAdsGtagAddToCart}];g("recordAddToCart: [Google Ads Gtag] Jetpack",e),window.gtag(...e)}if(O){const n=["trackSingle",t?oe.facebookJetpackInit:oe.facebookInit,"AddToCart",{product_slug:e.product_slug,free_trial:Boolean(e.free_trial)}];g("recordAddToCart: [Facebook]",n),window.fbq(...n)}if(j){const t={ec:"addtocart",el:e.product_slug};g("recordAddToCart: [Bing]",t),window.uetq.push(t)}if(f&&(g("recordAddToCart: [Floodlight]"),ve({u2:e.product_name,send_to:"DC-6355556/wordp0/addto0+standard"})),D){const t=["viewItem",{item:e.product_id}];g("recordAddToCart: [Criteo]",t),Ue(...t)}if(w){const t=["track","addtocart",{value:e.cost,currency:e.currency,line_items:[{product_name:e.product_name,product_id:e.product_slug}]}];g("recordAddToCart: [Pinterest]",t),window.pintrk(...t)}g("recordAddToCart: dataLayer:",JSON.stringify(window.dataLayer,null,2))}function Te(e){D&&function(e){if(!Object(m.e)()||!D)return;if(e.is_signup)return;const t=["viewBasket",{currency:e.currency,item:Ne(e)}];g("recordViewCheckoutInCriteo:",t),Ue(...t)}(e)}function ye(e,t){if(pe(ye.bind(null,e,t)))return;if(!Object(m.e)())return void g("recordOrder: [Skipping] ad tracking is not allowed");if(le.LOADED!==ue)return void Ee(ye.bind(null,e,t));if(e.is_signup)return;if(e.total_cost<.01)return void g("recordOrder: [Skipping] total cart cost is less than 0.01");const n=Object(m.a)(e.total_cost,e.currency);g("recordOrder: ga ecommerce plugin load"),window.ga("require","ecommerce");const s=function(e){const t=0===e.products.length?0:e.products.map(e=>u.a.isJetpackPlan(e)?e.cost:0).reduce((e,t)=>e+t),n=e.total_cost-t,s=e.products.filter(e=>!u.a.isJetpackPlan(e)),i=e.products.filter(e=>u.a.isJetpackPlan(e));return{wpcomProducts:s,jetpackProducts:i,containsWpcomProducts:0!==s.length,containsJetpackProducts:0!==i.length,jetpackCost:t,wpcomCost:n,jetpackCostUSD:Object(m.a)(t,e.currency),wpcomCostUSD:Object(m.a)(n,e.currency)}}(e);if(g("recordOrder: wpcomJetpackCartInfo:",s),function(e,t,n){if(!Object(m.e)())return void g("recordOrderInGoogleAds: skipping as ad tracking is disallowed");if(I&&n.containsJetpackProducts){const s=["event","conversion",{send_to:oe.jetpackGoogleAdsGtagPurchase,value:n.jetpackCost,currency:e.currency,transaction_id:t}];g("recordOrderInGoogleAds: Record Jetpack Purchase",s),window.gtag(...s)}if(y&&n.containsWpcomProducts){const s=["event","conversion",{send_to:oe.wpcomGoogleAdsGtagPurchase,value:n.wpcomCost,currency:e.currency,transaction_id:t}];g("recordOrderInGoogleAds: Record WPCom Purchase",s),window.gtag(...s)}}(e,t,s),function(e,t,n){if(!Object(m.e)()||!O)return;if(e.total_cost<.01)return void g("recordOrderInFacebook: skipping due to a 0-value cart.");const s=h.get(),i=s?Object(m.d)(s.ID):0;if(n.containsWpcomProducts){const s=["trackSingle",oe.facebookInit,"Purchase",{product_slug:n.wpcomProducts.map(e=>e.product_slug).join(", "),value:n.wpcomCost,currency:e.currency,user_id:i,order_id:t}];g("recordOrderInFacebook: WPCom",s),window.fbq(...s)}if(n.containsJetpackProducts){const s=["trackSingle",oe.facebookJetpackInit,"Purchase",{product_slug:n.jetpackProducts.map(e=>e.product_slug).join(", "),value:n.jetpackCost,currency:e.currency,user_id:i,order_id:t}];g("recordOrderInFacebook: Jetpack",s),window.fbq(...s)}}(e,t,s),function(e,t,n){if(!Object(m.e)()||!f)return;g("recordOrderInFloodlight: record purchase"),g("recordOrderInFloodlight:"),ve({value:e.total_cost,transaction_id:t,u1:e.total_cost,u2:e.products.map(e=>e.product_name).join(", "),u3:e.currency,send_to:"DC-6355556/wpsal0/wpsale+transactions"}),n.containsWpcomProducts&&(g("recordOrderInFloodlight: WPCom"),ve({value:n.wpcomCost,transaction_id:t,u1:n.wpcomCost,u2:n.wpcomProducts.map(e=>e.product_name).join(", "),u3:e.currency,send_to:"DC-6355556/wpsal0/purch0+transactions"}));n.containsJetpackProducts&&(g("recordOrderInFloodlight: Jetpack"),ve({value:n.jetpackCost,transaction_id:t,u1:n.jetpackCost,u2:n.jetpackProducts.map(e=>e.product_name).join(", "),u3:e.currency,send_to:"DC-6355556/wpsal0/purch00+transactions"}))}(e,t,s),function(e,t,n){if(!Object(m.e)()||!j)return;if(n.containsWpcomProducts)if(null!==n.wpcomCostUSD){const e={ec:"purchase",gv:n.wpcomCostUSD};g("recordOrderInBing: record WPCom purchase",e),window.uetq.push(e)}else g("recordOrderInBing: currency ".concat(e.currency," not supported, dropping WPCom pixel"));if(n.containsJetpackProducts)if(null!==n.jetpackCostUSD){const e={ec:"purchase",gv:n.jetpackCostUSD,el:"jetpack"};g("recordOrderInBing: record Jetpack purchase",e),window.uetq.push(e)}else g("recordOrderInBing: currency ".concat(e.currency," not supported, dropping Jetpack pixel"))}(e,0,s),function(e,t,n){if(!Object(m.e)()||!R)return;if(n.containsWpcomProducts)if(null!==n.wpcomCostUSD){const e={qacct:oe.quantcast,labels:"_fp.event.Purchase Confirmation,_fp.pcat."+n.wpcomProducts.map(e=>e.product_slug).join(" "),orderid:t.toString(),revenue:n.wpcomCostUSD.toString(),event:"refresh"};g("recordOrderInQuantcast: record WPCom purchase",e),window._qevents.push(e)}else g("recordOrderInQuantcast: currency ".concat(e.currency," not supported, dropping WPCom pixel"));if(n.containsJetpackProducts)if(null!==n.jetpackCostUSD){const e={qacct:oe.quantcast,labels:"_fp.event.Purchase Confirmation,_fp.pcat."+n.jetpackProducts.map(e=>e.product_slug).join(" "),orderid:t.toString(),revenue:n.jetpackCostUSD.toString(),event:"refresh"};g("recordOrderInQuantcast: record Jetpack purchase",e),window._qevents.push(e)}else g("recordOrderInQuantcast: currency ".concat(e.currency," not supported, dropping Jetpack pixel"))}(e,t,s),function(e,t){if(!Object(m.e)()||!P)return;const n=e.products.filter(e=>e.cost>=.01);if(0===n.length)return void g("recordOrderInNanigans: Skip cart because it has ONLY <0.01 products");g("recordOrderInNanigans: Record purchase");const s=n.map(e=>100*e.cost),i={sku:n.map(e=>e.product_slug),qty:n.map(()=>1),currency:e.currency,unique:t},r=["purchase","main",s,i];me||(!function(){const e=Object(m.c)(h);window.NaN_api=[[oe.nanigansAppId,e||""]],me=!0,g("Nanigans setup: ",window.NaN_api)}(),_e(ie));g("Nanigans push:",r),window.NaN_api.push(r)}(e,t),function(e,t){if(!Object(m.e)()||!D)return;const n=["trackTransaction",{id:t,currency:e.currency,item:Ne(e)}];g("recordOrderInCriteo:",n),Ue(...n)}(e,t),function(e,t){if(!Object(m.e)())return void g("recordOrderInGoogleAnalytics: skipping as ad tracking is disallowed");const n={id:t,affiliation:"WordPress.com",revenue:e.total_cost,currency:e.currency};g("recordOrderInGoogleAnalytics: ga ecommerce add transaction",n),window.ga("ecommerce:addTransaction",n)}(e,t),e.products.forEach(e=>{!function e(t,n){if(!Object(m.e)())return void g("recordProduct: [Skipping] ad tracking is not allowed");if(le.LOADED!==ue)return void Ee(e.bind(null,t,n));const s=u.a.isJetpackPlan(t);g(s?"Recording Jetpack purchase":"Recording purchase",t);const i=h.get();const r=i?Object(m.d)(i.ID):0;try{const e={currency:t.currency,id:n,name:t.product_slug,price:t.cost,sku:t.product_slug,quantity:1};if(g("recordProduct: ga ecommerce add item",e),window.ga("ecommerce:addItem",e),S&&window.google_trackConversion){let e,i;s?(e=B,i=oe.googleConversionLabelJetpack):(e=Q,i=oe.googleConversionLabel),window.google_trackConversion({google_conversion_id:e,google_conversion_label:i,google_conversion_value:t.cost,google_conversion_currency:t.currency,google_custom_params:{product_slug:t.product_slug,user_id:r,order_id:n},google_remarketing_only:!1})}}catch(e){g("Unable to save purchase tracking data",e)}}(e,t)}),g("recordOrder: ga ecommerce send"),window.ga("ecommerce:send"),A&&(g("recordOrder: [Experian]",J),(new Image).src=J),T){const e=W+(null!==n?"&gv="+n:"");g("recordOrder: [Yahoo Gemini]",e),(new Image).src=e}if(L&&(g("recordOrder: [Pandora]",z),(new Image).src=z),k){const e=["track","Generic"];g("recordOrder: [Quora]",e),window.qp(...e)}if(U){const s=e.products.map(e=>e.product_slug).join(","),i=X+"&tx=".concat(t,"&sku=").concat(s,"&price=").concat(n);g("recordOrder: [Icon Media]",i),(new Image).src=i}if(C){const n=["track","Purchase",{value:e.total_cost.toString(),currency:e.currency,content_name:e.products.map(e=>e.product_name).join(","),content_type:"product",content_ids:e.products.map(e=>e.product_slug),num_items:e.products.length,order_id:t}];g("recordOrder: [Twitter]",n),window.twq(...n)}if(w){const t=["track","checkout",{value:e.total_cost,currency:e.currency,line_items:e.products.map(e=>({product_name:e.product_name,product_id:e.product_slug,product_price:e.price}))}];g("recordOrder: [Pinterest]",t),window.pintrk(...t)}g("recordOrder: dataLayer:",JSON.stringify(window.dataLayer,null,2))}function Ie(){Object(m.e)()&&f&&(g("recordAliasInFloodlight: Aliasing anonymous user id with WordPress.com user id"),g("recordAliasInFloodlight:"),ve({send_to:"DC-6355556/wordp0/alias0+standard"}))}function Re(){Object(m.e)()&&f&&(g("recordSignupStartInFloodlight:"),ve({send_to:"DC-6355556/wordp0/pre-p0+unique"}))}function Ce(){Object(m.e)()&&f&&(g("recordSignupCompletionInFloodlight:"),ve({send_to:"DC-6355556/wordp0/signu0+unique"}))}function Ae(){const e={},t=h.get();t&&(e.u4=Object(m.d)(t.ID));const n=i.a.parse(document.cookie).tk_ai;return n&&(e.u5=n),e}function ve(e){if(!Object(m.e)()||!f)return;const t=Object(a.assign)(Ae(),{allow_custom_scripts:!0}),n=["event","conversion",Object(a.assign)({},t,e)];g("recordParamsInFloodlightGtag:",n),window.gtag(...n)}function Ne(e){return e.products.map(e=>({id:e.product_id,price:e.cost,quantity:e.volume}))}function Ue(e,t){if(!Object(m.e)()||!D)return void g("recordInCriteo: [Skipping] ad tracking is not allowed");if(le.LOADED!==ue)return void Ee(Ue.bind(null,e,t));const n=[];n.push({event:"setAccount",account:oe.criteo}),n.push({event:"setSiteType",type:we()});const s=Object(m.c)(h);s&&n.push({event:"setEmail",email:[s]});const i=Object(a.clone)(t);i.event=e,n.push(i),g("recordInCriteo: "+e,Object(a.cloneDeep)(n)),window.criteo_q.push(...n)}function we(){return/iPad/.test(navigator.userAgent)?"t":/Mobile|iP(hone|od)|Android|BlackBerry|IEMobile|Silk/.test(navigator.userAgent)?"m":"d"}function Pe(){window.dataLayer&&window.gtag||(window.dataLayer=window.dataLayer||[],window.gtag=function(){window.dataLayer.push(arguments)},window.gtag("js",new Date))}},"./client/lib/analytics/index.js":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/cookie/index.js"),i=n.n(s),r=n("./node_modules/debug/src/browser.js"),o=n.n(r),a=n("./node_modules/qs/lib/index.js"),c=n("./node_modules/url/url.js"),l=n.n(c),u=n("./node_modules/lodash/lodash.js"),d=n("./client/config/index.js"),p=n("./client/lib/mixins/emitter/index.js"),m=n("./client/lib/analytics/utils.js"),_=n("./client/lib/load-script/index.js"),E=n("./client/lib/analytics/ad-tracking.js");const b=o()("calypso:analytics:sem"),g=31536e3,h=50,f=80,S=100,O=["adgroupid","campaignid","device","gclid","gclsrc","fbclid","keyword","matchtype","network","type","term","utm_campaign","utm_content","utm_medium","utm_source","utm_term","targetid","locationid","ref","format"],j=new RegExp("^[a-zA-Z\\d_\\-]{1,128}$");function T(e,t){return-1!==O.indexOf(e)&&("utm_source"===e||"utm_campaign"===t?function(e){return j.test(e)}(t):function(e,t){return"gclid"===e?t.length<=S:"keyword"===e?t.length<=f:t.length<=h}(e,t))}function y(e,t){document.cookie=i.a.serialize(e,t,{path:"/",maxAge:g,domain:"."+document.location.hostname.split(".").slice(-2).join(".")})}var I=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),R=n.n(I);n.d(t,"makeGoogleAnalyticsTrackingFunction",function(){return B}),n.d(t,"ga",function(){return Y}),n.d(t,"mc",function(){return W}),n.d(t,"queue",function(){return K}),n.d(t,"tracks",function(){return z}),n.d(t,"pageView",function(){return J});const C=o()("calypso:analytics:mc"),A=o()("calypso:analytics:ga"),v=o()("calypso:analytics:queue"),N=o()("calypso:analytics:hotjar"),U=o()("calypso:analytics:tracks"),w=o()("calypso:analytics:statsd");let P,D,L,k,x,M;const F=["a8c_cookie_banner_ok"];function G(e){e=e.replace(/[[]/g,"\\[").replace(/[\]]/g,"\\]");const t=new RegExp("[\\?&]"+e+"=([^&#]*)").exec(location.search);return null===t?"":decodeURIComponent(t[1].replace(/\+/g," "))}function V(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:9;return window.crypto&&window.crypto.getRandomValues?(e=new Uint8Array(t),window.crypto.getRandomValues(e)):e=Object(u.times)(t,()=>Math.floor(256*Math.random())),btoa(String.fromCharCode.apply(String,e))}"undefined"!=typeof window&&(window._tkq=window._tkq||[],window.ga=window.ga||function(){(window.ga.q=window.ga.q||[]).push(arguments)},window.ga.l=+new Date),"undefined"!=typeof document&&Object(_.a)("//stats.wp.com/w.js?60",function(e){e&&(M=!0)});let q=null,H=0;"undefined"!=typeof window&&window.addEventListener("popstate",function(){q=null});const Q={initialize:function(e,t){Q.setUser(e),Q.setSuperProps(t),Q.identifyUser()},setUser:function(e){D=e},setSuperProps:function(e){!function(){if(!M)return;let e,t;if(D&&D.get())e="wpcom:user_id",t=D.get().ID;else if(e=G("_ut")||"anon",!(t=G("_ui"))){const e=i.a.parse(document.cookie);e.tk_ai?t=e.tk_ai:(t=V(18),document.cookie=i.a.serialize("tk_ai",t))}Object(_.a)("/nostats.js?_ut="+encodeURIComponent(e)+"&_ui="+encodeURIComponent(t))}(),P=e},setSelectedSite:function(e){L=e},setSiteCount:function(e){k=e},setDispatch:function(e){x=e},mc:{bumpStat:function(e,t){if("object"==typeof e?C("Bumping stats %o",e):C("Bumping stat %s:%s",e,t),Object(d.a)("mc_analytics_enabled")){const n=function(e,t){let n="";if("object"==typeof e)for(const t in e)n+="&x_"+encodeURIComponent(t)+"="+encodeURIComponent(e[t]);else n="&x_"+encodeURIComponent(e)+"="+encodeURIComponent(t);return n}(e,t);(new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom-no-pv"+n+"&t="+Math.random()}},bumpStatWithPageView:function(e,t){if("object"==typeof e?C("Bumping page view with props %o",e):C("Bumping page view %s:%s",e,t),Object(d.a)("mc_analytics_enabled")){const n=function(e,t){let n="";if("object"==typeof e)for(const t in e)n+="&"+encodeURIComponent(t)+"="+encodeURIComponent(e[t]);else n="&"+encodeURIComponent(e)+"="+encodeURIComponent(t);return n}(e,t);(new Image).src=document.location.protocol+"//pixel.wp.com/g.gif?v=wpcom"+n+"&t="+Math.random()}}},pageView:{record:function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};setTimeout(()=>{Q.queue.process(),n.last_pageview_path_with_count=q+"("+H.toString()+")",n.this_pageview_path_with_count=e+"("+(H+1).toString()+")",Q.tracks.recordPageView(e,n),Q.ga.recordPageView(e,t),function(){if(!document.location.search)return void b("No query data in URL.");const e=Object(m.k)(document.location.href).query,t={};if(Object.keys(e).forEach(n=>{const s=e[n];T(n,s)&&(t[n]=s)}),e.client_id&&window._tkq.push(["identifyAnonUser",e.client_id]),!t.utm_source||!t.utm_campaign)return void b("Missing utm_source or utm_campaign.");let n=[];Object.keys(t).forEach(e=>{n.push(encodeURIComponent(e)+"="+encodeURIComponent(t[e]))}),(n=n.join("&"))&&(b("ad_details: "+n),y("ad_details",n),y("ad_timestamp",Math.floor((new Date).getTime()/1e3)))}(),Object(E.i)(e),Q.emit("page-view",e,t),q=e,H++},0)}},queue:{lsKey:function(){return"analyticsQueue"},clear:function(){window.localStorage&&window.localStorage.removeItem(Q.queue.lsKey())},get:function(){if(!window.localStorage)return[];let e=window.localStorage.getItem(Q.queue.lsKey());return e=e?JSON.parse(e):[],e=Array.isArray(e)?e:[]},add:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];if(!window.localStorage)return void("string"==typeof e&&"function"==typeof Q[e]&&Q[e].apply(null,n||void 0));let i=Q.queue.get();const r={trigger:e,args:n};i.push(r),i=i.slice(-100),v("Adding new item to queue.",r),window.localStorage.setItem(Q.queue.lsKey(),JSON.stringify(i))},process:function(){if(!window.localStorage)return;const e=Q.queue.get();Q.queue.clear(),v("Processing items in queue.",e),e.forEach(e=>{"object"==typeof e&&"string"==typeof e.trigger&&"function"==typeof Q[e.trigger]&&(v("Processing item in queue.",e),Q[e.trigger].apply(null,e.args||void 0))})}},recordSignupStart:function(e){let t=e.flow,n=e.ref;Q.tracks.recordEvent("calypso_signup_start",{flow:t,ref:n}),Q.ga.recordEvent("Signup","calypso_signup_start"),Object(E.g)()},recordRegistration:function(){Q.tracks.recordEvent("calypso_user_registration_complete"),Q.ga.recordEvent("Signup","calypso_user_registration_complete"),Object(E.d)()},recordSocialRegistration:function(){Q.tracks.recordEvent("calypso_user_registration_social_complete"),Q.ga.recordEvent("Signup","calypso_user_registration_social_complete"),Object(E.d)()},recordSignupComplete:function(e,t){let n=e.isNewUser,s=e.isNewSite,i=e.hasCartItems,r=e.flow;if(!t)return Q.queue.add("recordSignupComplete",{isNewUser:n,isNewSite:s,hasCartItems:i,flow:r},!0);Q.tracks.recordEvent("calypso_signup_complete",{flow:r,is_new_user:n,is_new_site:s,has_cart_items:i});const o=[n&&"is_new_user",s&&"is_new_site",i&&"has_cart_items"].filter(e=>!1!==e);Q.ga.recordEvent("Signup","calypso_signup_complete:"+o.join(",")),Object(E.f)(),n&&s&&Object(E.e)("new-user-site")},recordAddToCart:function(e){let t=e.cartItem;const n=Object(m.a)(t.cost,t.currency);Q.ga.recordEvent("Checkout","calypso_cart_product_add","",n||void 0),Object(E.a)(t)},recordPurchase:function(e){let t=e.cart,n=e.orderId;if(t.total_cost>=.01){const e=Object(m.a)(t.total_cost,t.currency);Q.ga.recordEvent("Purchase","calypso_checkout_payment_success","",e||void 0),Object(E.c)(t,n)}},timing:{record:function(e,t,n){const s=q||"unknown";Q.ga.recordTiming(s,e,t,n),Q.statsd.recordTiming(s,e,t,n)}},tracks:{recordEvent:function(e,t){let n;if(U('Record event "%s" called with props %o',e,t=t||{}),0===e.indexOf("calypso_")||Object(u.includes)(F,e)){if(P){x&&x({type:"ANALYTICS_SUPER_PROPS_UPDATE"});const e=Object(m.j)(t.path)?null:L;n=P.getAll(e,k),t=Object(u.assign)({},t,n)}t=Object(u.omit)(t,u.isUndefined),U('Recording event "%s" with actual props %o',e,t),"undefined"!=typeof window&&window._tkq.push(["recordEvent",e,t]),Q.emit("record-event",e,t)}else U('- Event name must be prefixed by "calypso_" or added to `EVENT_NAME_EXCEPTIONS`')},recordPageView:function(e,t){let n={build_timestamp:window.BUILD_TIMESTAMP,do_not_track:Object(m.b)()?1:0,path:e};if(t&&(n=Object(u.assign)(n,t)),window.location){const e=l.a.parse(window.location.href),t=Object(a.parse)(e.query),s=Object(u.pickBy)(t,function(e,t){return Object(u.startsWith)(t,"utm_")});n=Object(u.assign)(n,s)}Q.tracks.recordEvent("calypso_page_view",n)},createRandomId:V,anonymousUserId:function(){return i.a.parse(document.cookie).tk_ai},setOptOut:function(e){window._tkq.push(["setOptOut",e])}},statsd:{recordTiming:function(e,t,n){if(Object(d.a)("boom_analytics_enabled")){let s,i="/"===e?"homepage":e.replace(/^\//,"").replace(/\.|\/|:/g,"_");Object(u.startsWith)(i,"read_list")?i="read_list":Object(u.startsWith)(i,"tag_")?i="tag__id":Object(u.startsWith)(i,"domains_add_suggestion_")?i="domains_add_suggestion__suggestion__domain":i.match(/^plugins_[^_].*__/)?i="plugins__site__plugin":i.match(/^plugins_[^_]/)?i="plugins__site__unknown":Object(u.startsWith)(i,"read_post_feed_")?i="read_post_feed__id":Object(u.startsWith)(i,"read_post_id_")?i="read_post_id__id":null!=(s=i.match(/^start_(.*)_(..)$/))?i="start_".concat(s[1]):Object(u.startsWith)(i,"page__")?i=i.replace(/^page__/,"post__"):Object(u.startsWith)(i,"edit_")&&(i=i.replace(/^edit_.+?__/,"post__")),w("Recording timing: path=".concat(i," event=").concat(t," duration=").concat(n,"ms"));const r=function(e,t,n){const s=e.replace(/[.:-]/g,"_"),i=t.replace("-","_"),r=[s,JSON.stringify({beacons:["calypso.".concat(Object(d.a)("boom_analytics_key"),".").concat(s,".").concat(i,":").concat(n,"|ms")]})].map(encodeURIComponent),o=R()(r,2),a=o[0],c=o[1];return"https://pixel.wp.com/boom.gif?v=calypso&u=".concat(a,"&json=").concat(c)}(i,t,n);(new Image).src=r}}},ga:{initialized:!1,initialize:function(){const e={};Q.ga.initialized||(D&&D.get()&&(e.userId=Object(m.d)(D.get().ID)),window.ga("create",Object(d.a)("google_analytics_key"),"auto",e),window.ga(function(e){const t=e.get("clientId");window.ga("set","dimension3",t)}),window.ga("set","anonymizeIp",!0),window.ga("set","useAmpClientId",!0),Q.ga.initialized=!0)},recordPageView:B(function(e,t){A("Recording Page View ~ [URL: "+e+"] [Title: "+t+"]"),window.ga("set","page",e),window.ga("send",{hitType:"pageview",page:e,title:t})}),recordEvent:B(function(e,t,n,s){void 0===s||isNaN(Number(String(s)))||(s=Math.round(Number(String(s))));let i="Recording Event ~ [Category: "+e+"] [Action: "+t+"]";void 0!==n&&(i+=" [Option Label: "+n+"]"),void 0!==s&&(i+=" [Option Value: "+s+"]"),A(i),window.ga("send","event",e,t,n,s)}),recordTiming:B(function(e,t,n,s){A("Recording Timing ~ [URL: "+e+"] [Duration: "+n+"]"),window.ga("send","timing",e,t,n,s)})},hotjar:{addHotJarScript:function(){var e,t,n,s;Object(d.a)("hotjar_enabled")&&!Object(m.b)()&&!Object(m.h)()&&Object(m.i)()?(e=window,t=document,N("Loading HotJar script"),e.hj=e.hj||function(){(e.hj.q=e.hj.q||[]).push(arguments)},e._hjSettings={hjid:227769,hjsv:5},n=t.getElementsByTagName("head")[0],(s=t.createElement("script")).async=1,s.src="//static.hotjar.com/c/hotjar-"+e._hjSettings.hjid+".js?sv="+e._hjSettings.hjsv,n.appendChild(s)):N("Not loading HotJar script")}},identifyUser:function(){const e=this.tracks.anonymousUserId();D&&D.initialized&&(e&&Object(E.b)(),window._tkq.push(["identifyUser",D.get().ID,D.get().username]))},setProperties:function(e){window._tkq.push(["setProperties",e])},clearedIdentity:function(){window._tkq.push(["clearIdentity"])}};if("undefined"!=typeof document&&Object(m.g)())try{Object(_.a)("https://www.google-analytics.com/analytics.js")}catch(e){o()("GA script failed to load properly: ",e)}function B(e){return function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];Object(m.g)()?(Q.ga.initialize(),e(...n)):A("[Disallowed] analytics %s( %o )",e.name,n)}}Object(p.a)(Q);t.default=Q;const Y=Q.ga,W=Q.mc,K=Q.queue,z=Q.tracks,J=Q.pageView},"./client/lib/analytics/track-component-view/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(s),r=n("./node_modules/debug/src/browser.js"),o=n.n(r),a=n("./node_modules/prop-types/index.js"),c=n.n(a),l=n("./node_modules/react/index.js"),u=n("./node_modules/react-redux/es/index.js"),d=n("./client/state/analytics/actions.js");const p=o()("calypso:analytics:TrackComponentView");class m extends l.Component{componentWillMount(){p("Component will mount.");const e=this.props,t=e.eventName,n=e.eventProperties;t&&(p('Recording Tracks event "'.concat(t,'".')),this.props.recordTracksEvent(t,n));const s=this.props,i=s.statGroup,r=s.statName;i&&(p('Bumping stat "'.concat(r,'".')),this.props.bumpStat(i,r))}render(){return null}}i()(m,"propTypes",{eventName:c.a.string,eventProperties:c.a.object,recordTracksEvent:c.a.func,bumpStat:c.a.func}),i()(m,"defaultProps",{recordTracksEvent:()=>{},bumpStat:()=>{}}),t.a=Object(u.b)(null,{bumpStat:d.a,recordTracksEvent:d.i})(m)},"./client/lib/analytics/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return _}),n.d(t,"b",function(){return E}),n.d(t,"d",function(){return b}),n.d(t,"c",function(){return g}),n.d(t,"h",function(){return S}),n.d(t,"g",function(){return j}),n.d(t,"e",function(){return T}),n.d(t,"i",function(){return y}),n.d(t,"f",function(){return I}),n.d(t,"k",function(){return C}),n.d(t,"j",function(){return v});var s=n("./node_modules/cookie/index.js"),i=n.n(s),r=n("./node_modules/debug/src/browser.js"),o=n.n(r),a=n("./node_modules/hash.js/lib/hash/sha/256.js"),c=n.n(a),l=n("./node_modules/lodash/lodash.js"),u=n("./node_modules/url/url.js"),d=n("./client/config/index.js");const p=o()("calypso:analytics:utils"),m={AED:3.673181,AFN:77.277444,ALL:110.685,AMD:485.718536,ANG:1.857145,AOA:318.1145,ARS:42.996883,AUD:1.39546,AWG:1.801247,AZN:1.7025,BAM:1.73465,BBD:2,BDT:84.350813,BGN:1.7345,BHD:.377065,BIF:1829.456861,BMD:1,BND:1.350704,BOB:6.910218,BRL:3.825491,BSD:1,BTC:.000188070491,BTN:69.241,BWP:10.571,BYN:2.12125,BZD:2.01582,CAD:1.331913,CDF:1640.538151,CHF:1.002295,CLF:.024214,CLP:662.405194,CNH:6.718409,CNY:6.7164,COP:3102.756403,CRC:603.878956,CUC:1,CUP:25.75,CVE:98.34575,CZK:22.699242,DJF:178,DKK:6.620894,DOP:50.601863,DZD:119.094464,EGP:17.321,ERN:14.996695,ETB:28.87,EUR:.886846,FJD:2.135399,FKP:.763495,GBP:.763495,GEL:2.695,GGP:.763495,GHS:5.18885,GIP:.763495,GMD:49.5025,GNF:9126.453332,GTQ:7.6503,GYD:207.888008,HKD:7.83635,HNL:24.53,HRK:6.587,HTG:84.642,HUF:285.120971,IDR:14140.665178,ILS:3.57935,IMP:.763495,INR:69.1502,IQD:1190,IRR:42105,ISK:119.899897,JEP:.763495,JMD:129.28,JOD:.709001,JPY:110.9875,KES:101.11,KGS:68.708365,KHR:4021.592884,KMF:437.375,KPW:900,KRW:1137.899434,KWD:.304268,KYD:.833459,KZT:378.893401,LAK:8630.377846,LBP:1509.5,LKR:174.733735,LRD:164.499779,LSL:14.1,LYD:1.391411,MAD:9.622,MDL:17.513226,MGA:3642.597503,MKD:54.731723,MMK:1510.092364,MNT:2511.632328,MOP:8.07298,MRO:357,MRU:36.55,MUR:34.9505,MVR:15.424994,MWK:728.565,MXN:18.8201,MYR:4.1106,MZN:64.576343,NAD:14.11,NGN:360.105269,NIO:33.04,NOK:8.49614,NPR:110.785702,NZD:1.47776,OMR:.38502,PAB:1,PEN:3.294475,PGK:3.374968,PHP:51.872601,PKR:141.62807,PLN:3.79605,PYG:6186.225628,QAR:3.641793,RON:4.217807,RSD:104.64086,RUB:64.2743,RWF:904.135,SAR:3.75,SBD:8.21464,SCR:13.675964,SDG:47.613574,SEK:9.261891,SGD:1.351801,SHP:.763495,SLL:8390,SOS:578.545,SRD:7.458,SSP:130.2634,STD:21050.59961,STN:21.8,SVC:8.751385,SYP:514.993308,SZL:13.972654,THB:31.75,TJS:9.434819,TMT:3.509961,TND:3.0117,TOP:2.267415,TRY:5.683728,TTD:6.768744,TWD:30.840434,TZS:2315.252864,UAH:26.819481,UGX:3758.198709,USD:1,UYU:33.969037,UZS:8427.57062,VEF:248487.642241,VES:3305.47961,VND:23197.866398,VUV:111.269352,WST:2.607815,XAF:581.732894,XAG:.06563851,XAU:76444e-8,XCD:2.70255,XDR:.717354,XOF:581.732894,XPD:71959e-8,XPF:105.828888,XPT:.00110645,YER:250.35,ZAR:13.909458,ZMW:12.110083,ZWL:322.355011};function _(e,t){return function(e){return-1!==Object.keys(m).indexOf(e)}(t)?(e/m[t]).toFixed(3):null}function E(){const e=Boolean(window&&("1"===window.doNotTrack||window.navigator&&"1"===window.navigator.doNotTrack));return p("Do Not Track: ".concat(e)),e}function b(e){return c()().update(e.toString()).digest("hex")}function g(e){const t=e.get();return!(!t||!t.email)&&b(t.email.toLowerCase().replace(/\s/g,""))}const h=["@","email=","email_address=","first=","last=","first-name=","last-name=","address-1=","phone="],f=h.map(e=>encodeURIComponent(e));function S(){const e=document.location.href,t=t=>-1!==e.indexOf(t),n=h.some(t)||f.some(t);return p("Is PII URL: ".concat(n)),n}const O=["/log-in"];function j(){return d.a.isEnabled("google-analytics")&&!E()&&!S()&&y()}function T(){const e=d.a.isEnabled("ad-tracking")&&!E()&&!function(){const e=document.location.href,t=O.some(t=>-1!==e.indexOf(t));return p("Is URL Blacklisted for Performance: ".concat(t)),t}()&&!S()&&y();return p("isAdTrackingAllowed: ".concat(e)),e}function y(){let e=!1;const t=i.a.parse(document.cookie);return e="yes"===t.sensitive_pixel_option||"no"!==t.sensitive_pixel_option&&!I(),p("mayWeTrackCurrentUserGdpr: ".concat(e)),e}function I(){const e=i.a.parse(document.cookie).country_code;if(!e||"unknown"===e)return!0;return Object(l.includes)(["AT","BE","BG","CY","CZ","DE","DK","EE","ES","FI","FR","GR","HR","HU","IE","IT","LT","LU","LV","MT","NL","PL","PT","RO","SE","SI","SK","GB","CH","IS","LI","NO"],e)}function R(e){const t={"-":"+",_:"/",".":"="};return atob(e.replace(/[-_.]/g,e=>t[e]))}function C(e){const t=Object(u.parse)(e,!0),n=t.query;if(p("urlParseAmpCompatible: original query:",n),"tk_amp"in n){const e=function(e){if(0===(e=e.split("*").filter(e=>e.length).slice(2)).length||0!=e.length%2)return null;const t={};for(let n=0;n<e.length;n+=2)t[e[n]]=R(e[n+1]);return t}(n.tk_amp);p("urlParseAmpCompatible: tk_amp:",e),t.query=Object(l.assign)({},e,n)}return p("urlParseAmpCompatible: merged query:",t.query),t}const A=/\/(:site|:site_id|:siteid|:blogid|:blog_id|:siteslug)(\/|$|\?)/i,v=e=>!e||!A.test(e)},"./client/lib/automated-transfer/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/config/index.js"),r=n("./client/lib/plans/index.js"),o=n("./client/lib/site/utils.js");function a(e){if("object"!=typeof window)return!1;if(Object(s.get)(e,"options.is_automated_transfer"))return!0;if(!Object(i.c)("automated-transfer"))return!1;if("wpcalypso"===Object(i.a)("env_id"))return!0;const t=Object(s.get)(e,"plan.product_slug");return!(!Object(r.v)(t)&&!Object(r.w)(t))&&Object(o.g)("manage_options",e)}},"./client/lib/catch-js-errors/log.js":function(e,t,n){"use strict";n.r(t),n.d(t,"registerLogger",function(){return o}),n.d(t,"default",function(){return a});var s=n("./node_modules/debug/src/browser.js");const i=n.n(s)()("calypso:catch-js-errors:log");let r=null;function o(e){r=e}function a(e,t){i(e,t),r&&r.log&&r.log(e,t)}},"./client/lib/create-selector/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var s=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/react-pure-render/shallowEqual.js"),r=n.n(i);n("./client/lib/warn/index.js");const o=e=>e,a=(()=>(function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];return n.join()}))(),c=e=>(function(t){for(var n=arguments.length,s=new Array(n>1?n-1:0),i=1;i<n;i++)s[i-1]=arguments[i];return e.map(e=>e(t,...s))});function l(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:o,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a;const i=Object(s.memoize)(e,n);let l;return Array.isArray(t)&&(t=c(t)),Object.assign(function(e){for(var n=arguments.length,s=new Array(n>1?n-1:0),o=1;o<n;o++)s[o-1]=arguments[o];let a=t(e,...s);return Array.isArray(a)||(a=[a]),l&&!r()(a,l)&&i.cache.clear(),l=a,i(e,...s)},{memoizedSelector:i})}},"./client/lib/detect-history-navigation/index.js":function(e,t,n){"use strict";let s=!1;t.a={start:function(){window.addEventListener("popstate",function(e){s=!!e.state})},loadedViaHistory:function(){return s}}},"./client/lib/domains/constants.js":function(e,t,n){"use strict";n.d(t,"h",function(){return s}),n.d(t,"g",function(){return i}),n.d(t,"f",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"c",function(){return u});const s={MAPPED:"MAPPED",REGISTERED:"REGISTERED",SITE_REDIRECT:"SITE_REDIRECT",WPCOM:"WPCOM",TRANSFER:"TRANSFER"},i={PENDING_OWNER:"PENDING_OWNER",PENDING_REGISTRY:"PENDING_REGISTRY",CANCELLED:"CANCELLED",COMPLETED:"COMPLETED",PENDING_START:"PENDING_START"},r={OPENHRS:"OpenHRS",OPENSRS:"OpenSRS",WWD:"WWD",MAINTENANCE:"Registrar TLD Maintenance"},o={AVAILABLE:"available",AVAILABILITY_CHECK_ERROR:"availability_check_error",BLACKLISTED:"blacklisted_domain",DOMAIN_SUGGESTIONS_THROTTLED:"domain_suggestions_throttled",DOTBLOG_SUBDOMAIN:"dotblog_subdomain",EMPTY_QUERY:"empty_query",EMPTY_RESULTS:"empty_results",FORBIDDEN:"forbidden_domain",FORBIDDEN_SUBDOMAIN:"forbidden_subdomain",INVALID:"invalid_domain",INVALID_QUERY:"invalid_query",INVALID_TLD:"invalid_tld",MAINTENANCE:"tld_in_maintenance",MAPPABLE:"mappable",MAPPED:"mapped_domain",MAPPED_OTHER_SITE_SAME_USER:"mapped_to_other_site_same_user",MAPPED_SAME_SITE_NOT_TRANSFERRABLE:"mapped_to_same_site_not_transferrable",MAPPED_SAME_SITE_TRANSFERRABLE:"mapped_to_same_site_transferrable",NOT_AVAILABLE:"not_available",NOT_REGISTRABLE:"available_but_not_registrable",PURCHASES_DISABLED:"domain_registration_unavailable",RECENTLY_UNMAPPED:"recently_mapped",RECENTLY_EXPIRED:"recently_expired",REGISTERED:"registered_domain",REGISTERED_OTHER_SITE_SAME_USER:"registered_on_other_site_same_user",REGISTERED_SAME_SITE:"registered_on_same_site",RESTRICTED:"restricted_domain",TLD_NOT_SUPPORTED:"tld_not_supported",TLD_NOT_SUPPORTED_TEMPORARILY:"tld_not_supported_temporarily",TRANSFER_PENDING:"transfer_pending",TRANSFER_PENDING_SAME_USER:"transfer_pending_same_user",TRANSFERRABLE:"transferrable",UNKNOWN:"unknown",UNKOWN_ACTIVE:"unknown_active_domain_with_wpcom",WPCOM_STAGING_DOMAIN:"wpcom_staging_domain"},a={G_SUITE:{PROVIDER:"g-suite",SERVICE:"G-Suite"},MICROSOFT_OFFICE365:{PROVIDER:"microsoft-office365",SERVICE:"O365"},ZOHO_MAIL:{PROVIDER:"zoho-mail",SERVICE:"Zoho"}},c={TRANSFER_IN:"domain_transfer"},l={NONE:"NONE",PENDING:"PENDING",PENDING_ASYNC:"PENDING_ASYNC",ACCEPTED_CONTRACTUAL_MINIMUM:"ACCEPTED_CONTRACTUAL_MINIMUM",ACCEPTED_FULL:"ACCEPTED_FULL",DENIED:"DENIED",FORCED_ALL_CONTRACTUAL:"FORCED_ALL_CONTRACTUAL"},u={DISCOVERY_TXT_RECORD_NAME:"_domainconnect",API_URL:"public-api.wordpress.com/rest/v1.3/domain-connect"}},"./client/lib/domains/utils.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"f",function(){return u});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/domains/constants.js");function r(e){return"redirect"===e.type?i.h.SITE_REDIRECT:"transfer"===e.type?i.h.TRANSFER:e.wpcom_domain?i.h.WPCOM:e.has_registration?i.h.REGISTERED:i.h.MAPPED}function o(e){return"pending_owner"===e.transfer_status?i.g.PENDING_OWNER:"pending_registry"===e.transfer_status?i.g.PENDING_REGISTRY:"cancelled"===e.transfer_status?i.g.CANCELLED:"completed"===e.transfer_status?i.g.COMPLETED:"pending_start"===e.transfer_status?i.g.PENDING_START:null}function a(e){switch(e.gdpr_consent_status){case"NONE":return i.e.NONE;case"PENDING":return i.e.PENDING;case"PENDING_ASYNC":return i.e.PENDING_ASYNC;case"ACCEPTED_CONTRACTUAL_MINIMUM":return i.e.ACCEPTED_CONTRACTUAL_MINIMUM;case"ACCEPTED_FULL":return i.e.ACCEPTED_FULL;case"DENIED":return i.e.DENIED;case"FORCED_ALL_CONTRACTUAL":return i.e.FORCED_ALL_CONTRACTUAL;default:return null}}function c(e){return Object(s.get)(e,"domain_registration_agreement_url",null)}function l(e){return Object(s.startsWith)(e,"/domain-connect/authorize/")}function u(e,t){if(!e)return"";if(void 0!==t[e])return e;const n=Object(s.split)(e,".");return u(Object(s.join)(Object(s.drop)(n),"."),t)}},"./client/lib/format-number-compact/index.js":function(e,t,n){"use strict";var s=n("./packages/i18n-calypso/dist/esm/index.js"),i=n.n(s);const r={en:{symbol:"K",grouping:",",decimal:"."},es:{symbol:" mil",grouping:".",decimal:","},"pt-br":{symbol:" mil",grouping:".",decimal:","},de:{symbol:" Tsd.",grouping:".",decimal:","},fr:{symbol:" k",grouping:" ",decimal:","},he:{symbol:"K",grouping:",",decimal:"."},ja:{symbol:"万",unitValue:1e4,grouping:",",decimal:"."},nl:{symbol:"K",grouping:".",decimal:","},tr:{symbol:" B",grouping:".",decimal:","},id:{symbol:" rb",grouping:".",decimal:","},"zh-cn":{symbol:"万",unitValue:1e4,grouping:",",decimal:"."},"zh-tw":{symbol:"萬",unitValue:1e4,grouping:",",decimal:"."},ko:{symbol:"천",grouping:",",decimal:"."},ar:{symbol:" ألف",grouping:"٬",decimal:"٫"},sv:{symbol:" tn",grouping:" ",decimal:","}};function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a.getLocaleSlug();if(isNaN(e)||!r[t])return null;const n=r[t],o=n.decimal,a=n.grouping,c=n.symbol,l=n.unitValue,u=void 0===l?1e3:l,d=e<0?"-":"",p=Math.abs(e);if(p<u)return"".concat(d).concat(p);const m=p<10*u?1:0,_=Object(s.numberFormat)(p/u,{decimals:m,thousandsSep:a,decPoint:o});return"".concat(d).concat(_).concat(c)}n.d(t,"a",function(){return o}),n.d(t,"b",function(){return u});const a=1e3,c=1e3*a,l=1e3*c;function u(e){return e<a?String(e):e<c?(e/a).toFixed(1)+"K":e<l?(e/c).toFixed(1)+"M":(e/l).toFixed(1)+"G"}},"./client/lib/i18n-utils/switch-locale.js":function(e,t,n){"use strict";n.d(t,"a",function(){return E});var s=n("./node_modules/superagent/lib/client.js"),i=n.n(s),r=n("./packages/i18n-calypso/dist/esm/index.js"),o=n.n(r),a=n("./node_modules/debug/src/browser.js"),c=n.n(a),l=n("./node_modules/lodash/lodash.js"),u=n("./client/lib/i18n-utils/utils.js");const d=c()("calypso:i18n");function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object(l.includes)(["js","json"],t)||(t="json");const s=n[e],i="".concat(function(){const e="undefined"==typeof window?"https://":"//";return"".concat(e,"widgets.wp.com/languages/calypso/")}()).concat(e,"-v1.1.").concat(t);return"number"==typeof s?i+"?v=".concat(s):i}function m(e,t){document.documentElement.lang=e,document.documentElement.dir=t?"rtl":"ltr",document.body.classList[t?"add":"remove"]("rtl");const n=t?"-rtl":"";!async function(e,t){if(b.hasOwnProperty(e)&&b[e]===t)return;b[e]=t;const n=document.getElementById(e);if(n&&n.getAttribute("href")===t)return;const s=await g(t,n);n&&n.parentElement&&n.parentElement.removeChild(n);s.id=e}("main-css",window.app.staticUrls["style".concat("").concat(n,".css")]),function(e){const t=document.querySelectorAll('link[rel="stylesheet"][data-webpack]');Object(l.map)(t,async t=>{const n=t.getAttribute("href"),s=function(e,t){if(t)return e.endsWith(".rtl.css")?e:e.replace(/\.css$/,".rtl.css");return e.endsWith(".rtl.css")?e.replace(/\.rtl.css$/,".css"):e}(n,e);if(n===s)return;const i=await g(s,t);i.setAttribute("data-webpack",!0),t.parentElement&&t.parentElement.removeChild(t)})}(t)}let _=null;function E(e){const t=Object(u.c)(e);if(!t)return;if("undefined"==typeof document)return;const n=t.langSlug,s=t.parentLangSlug||n;_=n,Object(u.g)(n)?(o.a.configure({defaultLocaleSlug:n}),m(s,!!t.rtl)):i.a.get(p(n)).end(function(i,r){i?d("Encountered an error loading locale file for "+e+". Falling back to English."):n===_&&(o.a.setLocale(r.body),m(s,!!t.rtl))})}const b={};function g(e,t){return new Promise(n=>{const s=document.createElement("link");s.rel="stylesheet",s.type="text/css",s.href=e,"onload"in s?s.onload=(()=>{s.onload=null,n(s)}):setTimeout(()=>n(s),500),document.head.insertBefore(s,t?t.nextSibling:null)})}},"./client/lib/impure-lodash/index.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js");t.a={debounce:s.debounce,isPlainObject:s.isPlainObject,uniqueId:s.uniqueId}},"./client/lib/keyboard-shortcuts/global.js":function(e,t,n){"use strict";var s=n("./node_modules/page/page.js"),i=n.n(s),r=n("./client/config/index.js"),o=n("./client/lib/route/index.js"),a=n("./client/lib/keyboard-shortcuts/index.js"),c=n("./client/lib/redux-bridge/index.js"),l=n("./client/state/ui/selectors.js"),u=n("./client/state/ui/layout-focus/actions.js");let d;function p(){if(!(this instanceof p))return new p;this.selectedSite=null,this.bindShortcuts()}t.a=function(){return d||(d=new p),d},p.prototype.bindShortcuts=function(){a.a.on("open-help",this.openHelp.bind(this)),a.a.on("go-to-reader",this.goToReader.bind(this)),a.a.on("go-to-my-likes",this.goToMyLikes.bind(this)),a.a.on("open-site-selector",this.openSiteSelector.bind(this)),a.a.on("go-to-stats",this.goToStats.bind(this)),a.a.on("go-to-blog-posts",this.goToBlogPosts.bind(this)),a.a.on("go-to-pages",this.goToPages.bind(this)),r.a.isEnabled("devdocs")&&a.a.on("go-to-dev-docs",this.goToDevDocs.bind(this))},p.prototype.setSelectedSite=function(e){this.selectedSite=e},p.prototype.openHelp=function(){this.showInlineHelp&&this.showInlineHelp()},p.prototype.openSiteSelector=function(){"sites"===Object(l.b)(Object(c.c)())?Object(c.b)(Object(u.b)("sites")):i()("/sites")},p.prototype.goToReader=function(){i()("/")},p.prototype.goToMyLikes=function(){i()("/activities/likes")},p.prototype.goToStats=function(){const e=this.selectedSite;if(e&&e.capabilities&&!e.capabilities.view_stats)return null;e&&e.slug?i()(Object(o.e)(e.slug)):i()("/stats")},p.prototype.goToBlogPosts=function(){const e=this.selectedSite;if(e&&e.capabilities&&!e.capabilities.edit_posts)return null;e&&e.slug?i()("/posts/my/"+e.slug):i()("/posts/my")},p.prototype.goToPages=function(){const e=this.selectedSite;if(e&&e.capabilities&&!e.capabilities.edit_pages)return null;e&&e.slug?i()("/pages/"+e.slug):i()("/pages")},p.prototype.goToDevDocs=function(){i()("/devdocs")}},"./client/lib/keyboard-shortcuts/index.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/mixins/emitter/index.js"),r=n("./client/lib/keyboard-shortcuts/key-bindings.js");const o="undefined"==typeof window?void 0:n("./node_modules/keymaster/keymaster.js"),a=o?o.filter:void 0,c=Object(s.flatMap)(r.a);function l(e){return a(e)&&!e.target.isContentEditable}function u(e){if(!(this instanceof u))return new u(e);this.lastKey=void 0,this.lastKeyTime=void 0,this.timeLimit=2e3,this.boundKeyHandler=this.handleKeyPress.bind(this),this.isNotificationsOpen=!1,"undefined"!=typeof window&&(o.filter=l,this.bindShortcuts(e))}u.prototype.bindShortcuts=function(e){const t=this;e.forEach(function(e){t.bindShortcut(e.eventName,e.keys,e.type,e.checkKeys)}),window.addEventListener("keydown",this.boundKeyHandler,!1)},u.prototype.bindShortcut=function(e,t,n,s){let i,r=this,a=[];(a="string"==typeof t[0]?[t]:t).forEach(function(t){"sequence"===n?o(t[1],function(n,s){if(!r.isNotificationsOpen)return r.lastKey===t[0]&&r.lastKeyTime>Date.now()-r.timeLimit?(r.emitEvent(e,n,s),r.lastKey=t[1],r.lastKeyTime=Date.now(),!1):void 0}):(t=t.join("+"),o(t,function(t,n){if(r.isNotificationsOpen&&"n"!==r._getKey(t)&&27!==t.keyCode)return;let o;s&&s.length>0?(o=r._getKey(t),1===(i=s.filter(function(e){return e===o})).length&&r.emitEvent(e,t,n)):r.emitEvent(e,t,n)}))})},u.prototype._getKey=function(e){let t;return e.key?e.key:(t=(t=e.keyIdentifier).substring(2,t.length),String.fromCharCode(parseInt(t,16)))},u.prototype.emitEvent=function(){this.emit.apply(this,arguments)},u.prototype.handleKeyPress=function(e){o.filter(e)&&(this.lastKey=String.fromCharCode(e.keyCode).toLowerCase(),this.lastKeyTime=Date.now())},u.prototype.setNotificationsOpen=function(e){this.isNotificationsOpen=e},Object(i.a)(u.prototype),t.a=new u(c)},"./client/lib/keyboard-shortcuts/key-bindings.js":function(e,t,n){"use strict";const s=e=>t=>t(e),i={listNavigation:[{eventName:"move-selection-down",keys:["j"],description:{keys:["j"],text:s("Move selection down")}},{eventName:"move-selection-up",keys:["k"],description:{keys:["k"],text:s("Move selection up")}},{eventName:"open-selection",keys:[["enter"],["v"]],description:{keys:[["enter"],["v"]],text:s("Open selection")}},{eventName:"go-to-top",keys:["."],description:{keys:["."],text:s("Go to top")}}],siteNavigation:[{eventName:"open-keyboard-shortcuts-menu",keys:[["shift","/"],["shift",","]],checkKeys:["?","¿","¼"],description:{keys:["?"],text:s("This menu")}},{eventName:"open-help",keys:["g","h"],type:"sequence",description:{keys:["g","h"],text:s("Open Help")}},{eventName:"go-to-reader",keys:["g","r"],type:"sequence",description:{keys:["g","r"],text:s("Go to Reader")}},{eventName:"go-to-my-likes",keys:["g","l"],type:"sequence",description:{keys:["g","l"],text:s("Go to My Likes")}},{eventName:"open-site-selector",keys:["g","w"],type:"sequence",description:{keys:["g","w"],text:s("Switch Site")}},{eventName:"go-to-stats",keys:["g","s"],type:"sequence",description:{keys:["g","s"],text:s("Go to Stats")}},{eventName:"go-to-blog-posts",keys:["g","b"],type:"sequence",description:{keys:["g","b"],text:s("Go to Blog Posts")}},{eventName:"go-to-pages",keys:["g","p"],type:"sequence",description:{keys:["g","p"],text:s("Go to Pages")}},{eventName:"open-notifications",keys:["n"],description:{keys:["n"],text:s("Open Notifications")}},{eventName:"exit-support-user",keys:["s","u"],type:"sequence"}],reader:[{eventName:"like-selection",keys:["l"],description:{keys:["l"],text:s("Like post")}},{eventName:"close-full-post",keys:["esc"],description:{keys:["esc"],text:s("Close full post")}}],blogPostsAndPages:[{eventName:"edit-selection",keys:["e"],description:{keys:["e"],text:s("Edit selection")}},{eventName:"open-stats-page",keys:["s"],description:{keys:["s"],text:s("Open stats page")}}],developer:[{eventName:"go-to-dev-docs",keys:["g","d"],type:"sequence",description:{keys:["g","d"],text:s("Go to DevDocs")}}]};t.a=i},"./client/lib/load-script/index.js":function(e,t,n){"use strict";var s=n("./node_modules/debug/src/browser.js"),i=n.n(s),r=n("./client/config/index.js");const o=i()("lib/load-script/callback-handler"),a=new Map;function c(){return a}function l(e){return c().has(e)}function u(e,t){if(o('Removing a known callback for a script from "'.concat(e,'"')),!l(e))return;const n=c(),s=n.get(e);s.delete(t),0===s.size&&n.delete(e)}function d(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=c();if(n.has(e)){const s='Executing callbacks for "'.concat(e,'"');o(null===t?s:s+' with args "'.concat(t,'"')),[...n.get(e)].filter(e=>"function"==typeof e).forEach(e=>e(t)),n.delete(e)}}function p(e){const t=e.target.getAttribute("src");o('Handling successful request for "'.concat(t,'"')),d(t),this.onload=null}function m(e){const t=e.target.getAttribute("src");o('Handling failed request for "'.concat(t,'"')),d(t,new Error('Failed to load script "'.concat(t,'"'))),this.onerror=null}const _=i()("lib/load-script/dom-operations");n.d(t,"a",function(){return g}),n.d(t,"b",function(){return h}),n.d(t,"c",function(){return u});const E=i()("lib/load-script"),b="https://s0.wp.com/wp-includes/js/jquery/jquery.js";function g(e,t){const n=!l(e);var s;!function(e,t){const n=c();l(e)?(o('Adding a callback for an existing script from "'.concat(e,'"')),n.get(e).add(t)):(o('Adding a callback for a new script from "'.concat(e,'"')),n.set(e,new Set([t])))}(e,t),n&&(s=function(e){_('Creating script element for "'.concat(e,'"'));const t=document.createElement("script");return t.src=e,t.type="text/javascript",t.async=!0,t.onload=p,t.onerror=m,t}(e),_("Attaching element to head"),document.head.appendChild(s))}function h(e,t){return E('Loading a jQuery dependent script from "'.concat(e,'"')),r.a.isEnabled("desktop")?(E('Attaching jQuery from node_modules to window for "'.concat(e,'"')),void n.e(221).then(n.t.bind(null,"./node_modules/jquery/dist/jquery.js",7)).then(function(n){var s;s=n.default,window.$=window.jQuery=s,g(e,t)})):window.jQuery?(E('jQuery found on window, skipping jQuery script loading for "'.concat(e,'"')),void g(e,t)):void g(b,function(n){n&&t(n),g(e,t)})}},"./client/lib/make-json-schema-parser/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var s=n("./node_modules/is-my-json-valid/index.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js");class o extends Error{constructor(e){super("Failed to validate with JSON schema"),this.schemaErrors=e}}class a extends Error{constructor(e,t,n){super(e.message),this.inputData=t,this.transformer=n}}t.c=function(e){let t,n,s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:r.identity,c=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return r=>(t||(()=>{const r=Object.assign({greedy:!0,verbose:!0},c),l=i()(e,r),u=i.a.filter(Object.assign({},e,e.type&&"object"===e.type&&{additionalProperties:!1}));n=(e=>{if(!l(e))throw new o(l.errors);return u(e)}),t=(e=>{try{return s(e)}catch(t){throw new a(t,e,s)}})})(),t(n(r)))}},"./client/lib/mixins/data-observe/index.js":function(e,t,n){"use strict";var s=n("./node_modules/debug/src/browser.js");const i=n.n(s)()("calypso:data-observe");t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{componentDidMount:function(){t.forEach(function(e){this.props[e]?this.props[e].on("change",this.update):i(e+" is not set.")},this)},componentWillUnmount:function(){t.forEach(function(e){this.props[e]&&this.props[e].off("change",this.update)},this)},componentWillReceiveProps:function(e){t.forEach(function(t){this.props[t]!==e[t]&&(this.props[t]&&this.props[t].off("change",this.update),e[t]&&e[t].on("change",this.update))},this)},update:function(){i("Re-rendering "+this.constructor.displayName+" component."),this.forceUpdate()}}}},"./client/lib/oauth2-clients.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r});var s=n("./node_modules/lodash/lodash.js");const i=e=>e&&978===e.id,r=e=>Object(s.includes)([50019,50915,50916],e.id)},"./client/lib/paths/index.js":function(e,t,n){"use strict";var s=n("./client/lib/url/index.js"),i=n("./client/lib/i18n-utils/browser.js"),r=n("./client/config/index.js");function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isJetpack,n=e.isNative,o=e.locale,a=e.redirectTo,c=e.twoFactorAuthType,l=e.socialConnect,u=e.emailAddress,d=e.socialService,p=e.oauth2ClientId,m=Object(r.a)("login_url");return n&&Object(r.c)("login/wp-login")&&(m="/log-in",d?m+="/"+d+"/callback":c?m+="/"+c:l?m+="/social-connect":t&&(m+="/jetpack")),o&&"en"!==o&&(m=n?Object(i.a)(m,o):Object(i.j)(m,o)),a&&(m=Object(s.a)({redirect_to:a},m)),u&&(m=Object(s.a)({email_address:u},m)),p&&!isNaN(p)&&(m=Object(s.a)({client_id:p},m)),m}function a(e){if(!e)return"";return"/"+("object"==typeof e?e.slug:e)}function c(e){return"/post"+a(e)}function l(e){let t="/marketing/connections";return e&&(t+="/"+e.slug),t}n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"a",function(){return o})},"./client/lib/perfmon/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return R}),n.d(t,"b",function(){return C});var s=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/page/page.js"),r=n.n(i),o=n("./client/lib/analytics/index.js"),a=n("./client/config/index.js"),c=n("./node_modules/debug/src/browser.js");const l=n.n(c)()("calypso:perfmon"),u=["placeholder","pulsing-dot is-active","is-loading","is-processing"],d=["editor-drawer-well__placeholder","stats-page-placeholder__header","stats-page-placeholder__content"],p=u.map(e=>"[class*='".concat(e,"']")).join(", "),m=document.getElementById("wpcom"),_={subtree:!0,attributes:!0,childList:!0,attributeFilter:["class"]};let E=null,b=!1,g=0,h=null,f=[],S=!1;function O(e){e.forEach(y),Object(s.remove)(f,e=>!m.contains(e)||!T(e)),function(){const e=f.length;l("Checking active placeholders. Count: ".concat(e)),e>0&&(S=!0);if(S&&0===e){const e=function(){if(g>1)return{startTime:h,trigger:"navigation"};return{startTime:0,trigger:"initial"}}(),t=e.startTime,n=e.trigger,s=Math.round(performance.now()-t);l("Recording placeholder wait. Duration: ".concat(s,", Trigger: ").concat(n)),o.default.timing.record("placeholder-wait.".concat(n),s),j()}}()}function j(){E&&b&&(f=[],S=!1,E.disconnect(),b=!1)}function T(e){const t=e.className;return t&&t.indexOf&&u.some(e=>t.indexOf(e)>=0)&&!d.some(e=>t.indexOf(e)>=0)}function y(e){let t=[];if("class"===e.attributeName)t=[e.target];else{if(!("childList"===e.type&&e.addedNodes.length>0))return;t=e.addedNodes}Object(s.each)(t,function(e){T(e)&&I(e),e.querySelectorAll&&Object(s.each)(e.querySelectorAll(p),I)})}function I(e){f.indexOf(e)>=0||f.push(e)}function R(){Object(a.c)("perfmon")&&"undefined"!=typeof window&&(window.MutationObserver||window.WebKitMutationObserver)&&window.performance&&(r()(function(e,t){g++,h=performance.now(),l("entering page navigation",e.path),t()}),r.a.exit(function(e,t){l("exiting page navigation",e.path),j(),t()}),function(){const e=window.MutationObserver||window.WebKitMutationObserver;E=new e(O)}())}function C(){E&&!b&&(E.observe(m,_),b=!0)}},"./client/lib/plans/constants.js":function(e,t,n){"use strict";n.d(t,"fc",function(){return s}),n.d(t,"dc",function(){return i}),n.d(t,"ec",function(){return r}),n.d(t,"vc",function(){return o}),n.d(t,"wc",function(){return a}),n.d(t,"tc",function(){return c}),n.d(t,"uc",function(){return l}),n.d(t,"bc",function(){return u}),n.d(t,"cc",function(){return d}),n.d(t,"hc",function(){return p}),n.d(t,"ic",function(){return m}),n.d(t,"jc",function(){return _}),n.d(t,"nc",function(){return E}),n.d(t,"qc",function(){return b}),n.d(t,"lc",function(){return g}),n.d(t,"oc",function(){return h}),n.d(t,"rc",function(){return f}),n.d(t,"mc",function(){return S}),n.d(t,"pc",function(){return O}),n.d(t,"kc",function(){return j}),n.d(t,"xc",function(){return T}),n.d(t,"gc",function(){return y}),n.d(t,"sc",function(){return A}),n.d(t,"Zb",function(){return v}),n.d(t,"ac",function(){return N}),n.d(t,"Vb",function(){return U}),n.d(t,"D",function(){return w}),n.d(t,"I",function(){return P}),n.d(t,"Z",function(){return D}),n.d(t,"Y",function(){return L}),n.d(t,"S",function(){return k}),n.d(t,"Hb",function(){return x}),n.d(t,"b",function(){return M}),n.d(t,"c",function(){return F}),n.d(t,"a",function(){return G}),n.d(t,"Jb",function(){return V}),n.d(t,"F",function(){return q}),n.d(t,"O",function(){return H}),n.d(t,"M",function(){return Q}),n.d(t,"L",function(){return B}),n.d(t,"nb",function(){return Y}),n.d(t,"z",function(){return W}),n.d(t,"g",function(){return K}),n.d(t,"V",function(){return z}),n.d(t,"X",function(){return J}),n.d(t,"gb",function(){return Z}),n.d(t,"Rb",function(){return $}),n.d(t,"Sb",function(){return X}),n.d(t,"Tb",function(){return ee}),n.d(t,"r",function(){return te}),n.d(t,"Ub",function(){return ne}),n.d(t,"hb",function(){return se}),n.d(t,"h",function(){return ie}),n.d(t,"E",function(){return re}),n.d(t,"Lb",function(){return oe}),n.d(t,"Mb",function(){return ae}),n.d(t,"qb",function(){return ce}),n.d(t,"xb",function(){return le}),n.d(t,"l",function(){return ue}),n.d(t,"m",function(){return de}),n.d(t,"n",function(){return pe}),n.d(t,"o",function(){return me}),n.d(t,"p",function(){return _e}),n.d(t,"q",function(){return Ee}),n.d(t,"f",function(){return be}),n.d(t,"ob",function(){return ge}),n.d(t,"Nb",function(){return he}),n.d(t,"W",function(){return fe}),n.d(t,"R",function(){return Se}),n.d(t,"Q",function(){return Oe}),n.d(t,"Kb",function(){return je}),n.d(t,"P",function(){return Te}),n.d(t,"N",function(){return ye}),n.d(t,"fb",function(){return Ie}),n.d(t,"Wb",function(){return Re}),n.d(t,"i",function(){return Ce}),n.d(t,"T",function(){return Ae}),n.d(t,"y",function(){return ve}),n.d(t,"eb",function(){return Ne}),n.d(t,"C",function(){return Ue}),n.d(t,"Eb",function(){return we}),n.d(t,"zb",function(){return Pe}),n.d(t,"Fb",function(){return De}),n.d(t,"cb",function(){return Le}),n.d(t,"Ab",function(){return ke}),n.d(t,"ib",function(){return xe}),n.d(t,"jb",function(){return Me}),n.d(t,"v",function(){return Fe}),n.d(t,"u",function(){return Ge}),n.d(t,"w",function(){return Ve}),n.d(t,"x",function(){return qe}),n.d(t,"s",function(){return He}),n.d(t,"J",function(){return Qe}),n.d(t,"ab",function(){return Be}),n.d(t,"bb",function(){return Ye}),n.d(t,"kb",function(){return We}),n.d(t,"t",function(){return Ke}),n.d(t,"e",function(){return ze}),n.d(t,"lb",function(){return Je}),n.d(t,"H",function(){return Ze}),n.d(t,"B",function(){return $e}),n.d(t,"Cb",function(){return Xe}),n.d(t,"Bb",function(){return et}),n.d(t,"Db",function(){return tt}),n.d(t,"A",function(){return nt}),n.d(t,"yb",function(){return st}),n.d(t,"ub",function(){return it}),n.d(t,"rb",function(){return rt}),n.d(t,"Qb",function(){return ot}),n.d(t,"tb",function(){return at}),n.d(t,"pb",function(){return ct}),n.d(t,"Gb",function(){return lt}),n.d(t,"j",function(){return ut}),n.d(t,"U",function(){return dt}),n.d(t,"Ob",function(){return pt}),n.d(t,"Pb",function(){return mt}),n.d(t,"vb",function(){return _t}),n.d(t,"G",function(){return Et}),n.d(t,"db",function(){return bt}),n.d(t,"sb",function(){return gt}),n.d(t,"d",function(){return ht}),n.d(t,"wb",function(){return ft}),n.d(t,"Ib",function(){return St}),n.d(t,"K",function(){return Ot}),n.d(t,"mb",function(){return jt}),n.d(t,"k",function(){return Tt}),n.d(t,"Yb",function(){return yt}),n.d(t,"Xb",function(){return It}),n.d(t,"Ac",function(){return Rt}),n.d(t,"yc",function(){return Ct}),n.d(t,"zc",function(){return At}),n.d(t,"Ec",function(){return vt}),n.d(t,"Bc",function(){return Nt}),n.d(t,"Fc",function(){return Ut}),n.d(t,"Gc",function(){return wt}),n.d(t,"Cc",function(){return Pt}),n.d(t,"Dc",function(){return Dt}),n.d(t,"Jc",function(){return Lt}),n.d(t,"Kc",function(){return kt}),n.d(t,"Ic",function(){return xt}),n.d(t,"Hc",function(){return Mt});const s="business-bundle-monthly",i="business-bundle",r="business-bundle-2y",o="value_bundle",a="value_bundle-2y",c="personal-bundle",l="personal-bundle-2y",u="blogger-bundle",d="blogger-bundle-2y",p="ecommerce-bundle",m="ecommerce-bundle-2y",_="free_plan",E="jetpack_free",b="jetpack_premium",g="jetpack_business",h="jetpack_personal",f="jetpack_premium_monthly",S="jetpack_business_monthly",O="jetpack_personal_monthly",j="host-bundle",T="wpcom-enterprise",y="chargeback",I=[],R=[b,f],C=[f,S,O],A=31,v=365,N=730,U="wordpress-subdomain",w="blog-domain",P="custom-domain",D="jetpack-essential",L="jetpack-advanced",k="free-themes",x="premium-themes",M="3gb-storage",F="6gb-storage",G="13gb-storage",V="unlimited-storage",q="community-support",H="email-support",Q="email-live-chat-support",B="email-forwarding-extended-limit",Y="priority-support",W="basic-design",K="advanced-design",z="google-analytics",J="google-my-business",Z="no-adverts",$="video-upload",X="video-upload-jetpack-premium",ee="video-upload-jetpack-pro",te="audio-upload",ne="wordads-instant",se="no-wp-branding",ie="advanced-seo",re="business-onboarding",oe="upload-plugins",ae="upload-themes",ce="republicize",le="simple-payments",ue="all-free-features",de="all-free-features-jetpack",pe="all-personal-features",me="all-personal-features-jetpack",_e="all-premium-features",Ee="all-premium-features-jetpack",be="advanced-customization",ge="unlimited-premium-themes",he="upload-themes-and-plugins",fe="google-analytics-signup",Se="free-custom-domain",Oe="free-blog-domain",je="unlimited-storage-signup",Te="email-support-signup",ye="email-live-chat-support-signup",Ie="monetise-your-site",Re="wordpress-subdomain-signup",Ce="advanced-seo-tools",Ae="free-themes-signup",ve="unlimited-backup",Ne="memberships",Ue="blank-feature",we="standard-security-tools",Pe="site-stats",De="traffic-tools",Le="jetpack-manage",ke="spam-akismet-plus",xe="offsite-backup-vaultpress-daily",Me="offsite-backup-vaultpress-realtime",Fe="backup-archive-30",Ge="backup-archive-15",Ve="backup-archive-unlimited",qe="backup-storage-space-unlimited",He="automated-restores",Qe="easy-site-migration",Be="malware-scanning-daily",Ye="malware-scanning-daily-and-on-demand",We="one-click-threat-resolution",Ke="automatic-security-fixes",ze="site-activity-log",Je="polls-pro",Ze="core-jetpack",$e="basic-support-jetpack",Xe="speed-jetpack",et="speed-advanced-jetpack",tt="speed-unlimited_jetpack",nt="basic-security-jetpack",st="site-backups-jetpack",it="security-scanning-jetpack",rt="revenue-generation-jetpack",ot="vidoe-hosting-jetpack",at="security-essentials-jetpack",ct="priority-support-jetpack",lt="seo-tools-jetpack",ut="seo-tools-jetpack",dt="free-wordpress-themes",pt="video-cdn-limited",mt="video-cdn-unlimited",_t="seo-preview-tools",Et="concierge-setup-jetpack",bt="marketing-automation",gt="search",ht="accept-payments",ft="shipping-carriers",St="unlimited-products-service",Ot="ecommerce-marketing",jt="premium-customizable-themes",Tt="all-business-features",yt="GROUP_WPCOM",It="GROUP_JETPACK",Rt="TERM_MONTHLY",Ct="TERM_ANNUALLY",At="TERM_BIENNIALLY",vt="TYPE_FREE",Nt="TYPE_BLOGGER",Ut="TYPE_PERSONAL",wt="TYPE_PREMIUM",Pt="TYPE_BUSINESS",Dt="TYPE_ECOMMERCE";function Lt(e){return e===s||C.includes(e)}function kt(e){return I.includes(e)}function xt(e){return R.includes(e)}function Mt(e){switch(e){case Rt:return A;case Ct:return v;case At:return N}}},"./client/lib/plans/index.js":function(e,t,n){"use strict";n.d(t,"h",function(){return u}),n.d(t,"j",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"z",function(){return m}),n.d(t,"D",function(){return _}),n.d(t,"g",function(){return E}),n.d(t,"l",function(){return b}),n.d(t,"e",function(){return g}),n.d(t,"A",function(){return h}),n.d(t,"o",function(){return f}),n.d(t,"n",function(){return S}),n.d(t,"t",function(){return O}),n.d(t,"r",function(){return j}),n.d(t,"m",function(){return T}),n.d(t,"p",function(){return y}),n.d(t,"v",function(){return I}),n.d(t,"w",function(){return R}),n.d(t,"y",function(){return C}),n.d(t,"u",function(){return A}),n.d(t,"x",function(){return v}),n.d(t,"q",function(){return N}),n.d(t,"c",function(){return U}),n.d(t,"d",function(){return w}),n.d(t,"B",function(){return P}),n.d(t,"b",function(){return D}),n.d(t,"f",function(){return L}),n.d(t,"s",function(){return x}),n.d(t,"C",function(){return M}),n.d(t,"a",function(){return F}),n.d(t,"k",function(){return G});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=(n("./node_modules/moment/moment.js"),n("./node_modules/url/url.js")),o=n("./node_modules/lodash/lodash.js"),a=n("./client/config/index.js"),c=(n("./client/lib/products-values/index.js"),n("./client/lib/plans/constants.js")),l=n("./client/lib/plans/plans-list.js");Object(a.c)("plans/personal-plan");function u(e){return"[object Object]"===Object.prototype.toString.apply(e)&&-1!==Object(o.values)(l.a).indexOf(e)?e:l.a[e]}function d(e){return(u(e).getPathSlug||(()=>void 0))()}function p(e){return y(e)?"is-free-plan":T(e)?"is-blogger-plan":j(e)?"is-personal-plan":O(e)?"is-premium-plan":S(e)?"is-business-plan":f(e)?"is-ecommerce-plan":""}function m(e,t){const n=u(e),s=["getPlanCompareFeatures","getPromotedFeatures","getSignupFeatures","getBlogSignupFeatures","getPortfolioSignupFeatures","getHiddenFeatures"].reduce((e,t)=>[...Object(o.get)(n,t,()=>[])(),...e],[]);return Object(o.includes)(s,t)}function _(e,t){return!e.hasLoadedFromServer&&!e.isRequesting&&t}function E(e){return U(e,{term:c.Ac})||""}function b(e){return U(e,{term:c.yc})||""}function g(e){return U(e,{term:c.zc})||""}function h(e,t){const n=u(e),s=u(t);return n&&s&&n.type===s.type&&n.group===s.group}function f(e){return P(e,{type:c.Dc})}function S(e){return P(e,{type:c.Cc})}function O(e){return P(e,{type:c.Gc})}function j(e){return P(e,{type:c.Fc})}function T(e){return P(e,{type:c.Bc})}function y(e){return P(e,{type:c.Ec})}function I(e){return P(e,{type:c.Cc,group:c.Yb})}function R(e){return P(e,{type:c.Dc,group:c.Yb})}function C(e){return P(e,{type:c.Gc,group:c.Yb})}function A(e){return P(e,{type:c.Bc,group:c.Yb})}function v(e){return P(e,{type:c.Ec,group:c.Yb})}function N(e){return P(e,{type:c.Cc,group:c.Xb})}function U(e,t){return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=u(e);if(!n)return[];return w(i()({},Object(o.pick)(n,"type","group","term"),t))}(e,t)[0]}function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=l.a;return Object.keys(t).filter(n=>P(t[n],e))}function P(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=["type","group","term"],s=Object(o.difference)(Object.keys(t),n);if(s.length)throw new Error("planMatches can only match against ".concat(n.join(","),", ")+"but unknown keys ".concat(s.join(",")," were passed."));const i=u(e)||{},r=e=>!(e in t)||i[e]===t[e];return r("type")&&r("group")&&r("term")}function D(e,t){return function(e,t){const n=k(e);return parseFloat((t/n).toFixed(2))}(u(e).term,t)}function L(e){return k(u(e).term)}function k(e){if(e===c.Ac)return 1;if(e===c.yc)return 12;if(e===c.zc)return 24;throw new Error("Unknown term: ".concat(e))}const x=()=>Object(a.c)("manage/plan-features");function M(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=Object(r.parse)(e);return("monthly"===n||s)&&(i.pathname+="/"+n),t&&(i.pathname+="/"+t),Object(r.format)(i)}function F(e,t){const n=i()({},u(e)),s=u(e).getPlanCompareFeatures(t);return n.getPlanCompareFeatures=(()=>s),n}function G(e,t){const n=u(e);if(n&&n.term)switch(n.term){case c.Ac:return t("Monthly subscription");case c.yc:return t("Annual subscription");case c.zc:return t("Two year subscription")}}},"./client/lib/plans/plans-list.js":function(e,t,n){"use strict";n.d(t,"a",function(){return f});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/lodash/lodash.js"),c=n("./packages/i18n-calypso/dist/esm/index.js"),l=n.n(c),u=n("./client/config/index.js"),d=n("./client/lib/plans/constants.js");const p=()=>l.a.translate("per month, billed annually"),m=()=>l.a.translate("/month, billed every two years"),_=()=>({group:d.Yb,type:d.Bc,getTitle:()=>l.a.translate("Blogger"),getAudience:()=>l.a.translate("Best for bloggers"),getBlogAudience:()=>l.a.translate("Best for bloggers"),getPortfolioAudience:()=>l.a.translate("Best for bloggers"),getStoreAudience:()=>l.a.translate("Best for bloggers"),getDescription:()=>l.a.translate("{{strong}}Best for Bloggers:{{/strong}} Brand your blog with a custom .blog domain name, and remove all WordPress.com advertising. Receive additional storage space and email support.",{components:{strong:o.a.createElement("strong",{className:"plans__features plan-features__targeted-description-heading"})}}),getShortDescription:()=>l.a.translate("Brand your blog with a custom .blog domain name, and remove all WordPress.com advertising. Receive additional storage space and email support."),getPlanCompareFeatures:()=>[d.D,d.Z,d.O,d.S,d.z,d.c,d.gb],getSignupFeatures:()=>[d.P,d.D,d.l],getBlogSignupFeatures:()=>[d.Q,d.P,d.l],getPortfolioSignupFeatures:()=>[d.Q,d.P,d.l],getHiddenFeatures:()=>[d.r]}),E=()=>({group:d.Yb,type:d.Fc,getTitle:()=>l.a.translate("Personal"),getAudience:()=>l.a.translate("Best for personal use"),getBlogAudience:()=>l.a.translate("Best for personal use"),getPortfolioAudience:()=>l.a.translate("Best for personal use"),getStoreAudience:()=>l.a.translate("Best for personal use"),getDescription:()=>l.a.translate("{{strong}}Best for Personal Use:{{/strong}} Boost your website with a custom domain name, and remove all WordPress.com advertising. Get access to high-quality email and live chat support.",{components:{strong:o.a.createElement("strong",{className:"plans__features plan-features__targeted-description-heading"})}}),getShortDescription:()=>l.a.translate("Boost your website with a custom domain name, and remove all WordPress.com advertising. Get access to high-quality email and live chat support."),getPlanCompareFeatures:()=>[d.I,d.Z,d.M,d.S,d.z,d.c,d.gb],getSignupFeatures:()=>[d.N,d.R,d.l],getBlogSignupFeatures:()=>[d.R,d.N,d.l],getPortfolioSignupFeatures:()=>[d.R,d.N,d.l],getHiddenFeatures:()=>[d.r]}),b=()=>({group:d.Yb,type:d.Dc,getTitle:()=>l.a.translate("eCommerce"),getAudience:()=>l.a.translate("Best for online stores"),getBlogAudience:()=>l.a.translate("Best for online stores"),getPortfolioAudience:()=>l.a.translate("Best for online stores"),getStoreAudience:()=>l.a.translate("Best for online stores"),getDescription:()=>l.a.translate("{{strong}}Best for Online Stores:{{/strong}} Sell products or services with this powerful, all-in-one online store experience. This plan includes premium integrations and is extendable, so it’ll grow with you as your business grows.",{components:{strong:o.a.createElement("strong",{className:"plans__features plan-features__targeted-description-heading"})}}),getShortDescription:()=>l.a.translate("Sell products or services with this powerful, all-in-one online store experience. This plan includes premium integrations and is extendable, so it’ll grow with you as your business grows."),getTagline:()=>l.a.translate("Learn more about everything included with eCommerce and take advantage of its powerful marketplace features."),getPlanCompareFeatures:()=>Object(a.compact)([d.I,d.Y,d.M,d.Hb,d.g,d.Jb,d.gb,Object(u.c)("republicize")&&d.qb,d.xb,d.Ub,d.Rb,d.E,d.h,Object(u.c)("automated-transfer")&&d.Lb,Object(u.c)("automated-transfer")&&d.Mb,d.V,d.hb,d.d,d.wb,d.Ib,d.K,d.mb]),getPromotedFeatures:()=>[d.Jb,d.Hb,d.I,d.gb,d.g,d.E],getSignupFeatures:()=>[d.d,d.wb,d.k],getBlogSignupFeatures:()=>[d.d,d.wb,d.k],getPortfolioSignupFeatures:()=>[d.d,d.wb,d.k],getHiddenFeatures:()=>[d.r,d.X,d.Nb]}),g=()=>({group:d.Yb,type:d.Gc,getTitle:()=>l.a.translate("Premium"),getAudience:()=>l.a.translate("Best for freelancers"),getBlogAudience:()=>l.a.translate("Best for freelancers"),getPortfolioAudience:()=>l.a.translate("Best for freelancers"),getStoreAudience:()=>l.a.translate("Best for freelancers"),getDescription:()=>l.a.translate("{{strong}}Best for Freelancers:{{/strong}} Build a unique website with advanced design tools, CSS editing, lots of space for audio and video, and the ability to monetize your site with ads.",{components:{strong:o.a.createElement("strong",{className:"plans__features plan-features__targeted-description-heading"})}}),getShortDescription:()=>l.a.translate("Build a unique website with advanced design tools, CSS editing, lots of space for audio and video, and the ability to monetize your site with ads."),getPlanCompareFeatures:()=>Object(a.compact)([d.I,d.Z,d.M,d.Hb,d.g,d.a,d.gb,Object(u.c)("republicize")&&d.qb,d.xb,d.Ub,d.Rb]),getPromotedFeatures:()=>[d.I,d.gb,d.g,d.a],getSignupFeatures:()=>Object(a.compact)([d.f,d.ob,d.n]),getBlogSignupFeatures:()=>[d.fb,d.ob,d.n],getPortfolioSignupFeatures:()=>[d.f,d.ob,d.n],getHiddenFeatures:()=>[d.r]}),h=()=>({group:d.Yb,type:d.Cc,getTitle:()=>l.a.translate("Business"),getAudience:()=>l.a.translate("Best for small businesses"),getBlogAudience:()=>l.a.translate("Best for small businesses"),getPortfolioAudience:()=>l.a.translate("Best for small businesses"),getStoreAudience:()=>l.a.translate("The plan for small businesses"),getDescription:()=>l.a.translate("{{strong}}Best for Small Businesses:{{/strong}} Power your business website with custom plugins and themes, unlimited premium and business theme templates, Google Analytics support, unlimited storage, and the ability to remove WordPress.com branding.",{components:{strong:o.a.createElement("strong",{className:"plans__features plan-features__targeted-description-heading"})}}),getShortDescription:()=>l.a.translate("Power your business website with custom plugins and themes, unlimited premium and business theme templates, Google Analytics support, unlimited storage, and the ability to remove WordPress.com branding."),getTagline:()=>l.a.translate("Learn more about everything included with Business and take advantage of its professional features."),getPlanCompareFeatures:()=>Object(a.compact)([d.I,d.Y,d.M,d.Hb,d.g,d.Jb,d.gb,Object(u.c)("republicize")&&d.qb,d.xb,d.Ub,d.Rb,d.E,d.h,Object(u.c)("automated-transfer")&&d.Lb,Object(u.c)("automated-transfer")&&d.Mb,d.V,d.hb]),getPromotedFeatures:()=>[d.Jb,d.Hb,d.I,d.gb,d.g,d.Rb,d.E],getSignupFeatures:()=>[d.Nb,d.i,d.p],getBlogSignupFeatures:()=>[d.Nb,d.i,d.p],getPortfolioSignupFeatures:()=>[d.Nb,d.Kb,d.p],getHiddenFeatures:()=>[d.r,d.X,d.L]}),f={[d.jc]:{group:d.Yb,type:d.Ec,term:d.yc,getTitle:()=>l.a.translate("Free"),getAudience:()=>l.a.translate("Best for students"),getBlogAudience:()=>l.a.translate("Best for students"),getPortfolioAudience:()=>l.a.translate("Best for students"),getStoreAudience:()=>l.a.translate("Best for students"),getProductId:()=>1,getStoreSlug:()=>d.jc,getPathSlug:()=>"beginner",getDescription:()=>l.a.translate("Get a free website and be on your way to publishing your first post in less than five minutes."),getPlanCompareFeatures:()=>[d.Vb,d.Z,d.F,d.S,d.z,d.b],getSignupFeatures:()=>[d.F,d.Wb,d.T],getBlogSignupFeatures:()=>[d.F,d.Wb,d.T],getPortfolioSignupFeatures:()=>[d.F,d.Wb,d.T],getBillingTimeFrame:()=>l.a.translate("for life")},[d.bc]:i()({},_(),{term:d.yc,getBillingTimeFrame:p,availableFor:e=>Object(a.includes)([d.jc],e),getProductId:()=>1010,getStoreSlug:()=>d.bc,getPathSlug:()=>"blogger"}),[d.cc]:i()({},_(),{term:d.zc,getBillingTimeFrame:m,availableFor:e=>Object(a.includes)([d.jc,d.bc],e),getProductId:()=>1030,getStoreSlug:()=>d.cc,getPathSlug:()=>"blogger-2-years"}),[d.tc]:i()({},E(),{term:d.yc,getBillingTimeFrame:p,availableFor:e=>Object(a.includes)([d.jc,d.bc,d.cc],e),getProductId:()=>1009,getStoreSlug:()=>d.tc,getPathSlug:()=>"personal"}),[d.uc]:i()({},E(),{term:d.zc,getBillingTimeFrame:m,availableFor:e=>Object(a.includes)([d.jc,d.bc,d.cc,d.tc],e),getProductId:()=>1029,getStoreSlug:()=>d.uc,getPathSlug:()=>"personal-2-years"}),[d.vc]:i()({},g(),{term:d.yc,getBillingTimeFrame:p,availableFor:e=>Object(a.includes)([d.jc,d.bc,d.cc,d.tc,d.uc],e),getProductId:()=>1003,getStoreSlug:()=>d.vc,getPathSlug:()=>"premium"}),[d.wc]:i()({},g(),{term:d.zc,getBillingTimeFrame:m,availableFor:e=>Object(a.includes)([d.jc,d.bc,d.cc,d.tc,d.uc,d.vc],e),getProductId:()=>1023,getStoreSlug:()=>d.wc,getPathSlug:()=>"premium-2-years"}),[d.fc]:i()({},h(),{term:d.Ac,getBillingTimeFrame:()=>l.a.translate("per month, billed monthly"),availableFor:e=>Object(u.c)("upgrades/wpcom-monthly-plans")&&Object(a.includes)([d.jc,d.bc,d.cc,d.tc,d.uc,d.vc,d.wc],e),getProductId:()=>1018,getStoreSlug:()=>d.fc,getPathSlug:()=>"business-monthly"}),[d.dc]:i()({},h(),{term:d.yc,getBillingTimeFrame:p,availableFor:e=>Object(a.includes)([d.jc,d.bc,d.cc,d.tc,d.uc,d.vc,d.wc,d.fc],e),getProductId:()=>1008,getStoreSlug:()=>d.dc,getPathSlug:()=>"business"}),[d.ec]:i()({},h(),{term:d.zc,getBillingTimeFrame:m,availableFor:e=>Object(a.includes)([d.jc,d.bc,d.cc,d.tc,d.uc,d.vc,d.wc,d.dc,d.fc],e),getProductId:()=>1028,getStoreSlug:()=>d.ec,getPathSlug:()=>"business-2-years"}),[d.hc]:i()({},b(),{term:d.yc,getBillingTimeFrame:p,availableFor:e=>Object(a.includes)([d.jc,d.bc,d.cc,d.tc,d.uc,d.vc,d.wc,d.dc,d.ec,d.fc],e),getProductId:()=>1011,getStoreSlug:()=>d.hc,getPathSlug:()=>"ecommerce"}),[d.ic]:i()({},b(),{term:d.zc,getBillingTimeFrame:m,availableFor:e=>Object(a.includes)([d.jc,d.bc,d.cc,d.tc,d.uc,d.vc,d.wc,d.dc,d.ec,d.fc,d.hc],e),getProductId:()=>1031,getStoreSlug:()=>d.ic,getPathSlug:()=>"ecommerce-2-years"}),[d.nc]:{term:d.yc,group:d.Xb,type:d.Ec,getTitle:()=>l.a.translate("Free"),getAudience:()=>l.a.translate("Best for students"),getProductId:()=>2002,getStoreSlug:()=>d.nc,getTagline:()=>l.a.translate("Upgrade your site to access additional features, including spam protection, backups, and priority support."),getDescription:()=>l.a.translate("The features most needed by WordPress sites — perfectly packaged and optimized for everyone."),getPlanCompareFeatures:()=>[d.Eb,d.zb,d.Fb,d.cb],getSignupFeatures:()=>[d.U,d.zb,d.Eb,d.Fb,d.C],getBillingTimeFrame:()=>l.a.translate("for life"),getSignupBillingTimeFrame:()=>l.a.translate("for life")},[d.qc]:{group:d.Xb,type:d.Gc,term:d.yc,getTitle:()=>l.a.translate("Premium"),getAudience:()=>l.a.translate("Best for small businesses"),getSubtitle:()=>l.a.translate("Protection, speed, and revenue."),getProductId:()=>2e3,getStoreSlug:()=>d.qc,availableFor:e=>Object(a.includes)([d.nc,d.oc,d.pc,d.rc],e),getPathSlug:()=>"premium",getDescription:()=>l.a.translate("Comprehensive, automated scanning for security vulnerabilities, fast video hosting, and marketing automation."),getTagline:()=>l.a.translate("Your site is being secured and you have access to marketing tools and priority support."),getPlanCompareFeatures:()=>Object(a.compact)([d.ib,d.v,d.x,d.s,d.Ab,d.J,d.nb,Object(u.c)("republicize")&&d.qb,d.xb,d.Ub,d.Tb,d.ab,d.h,d.V]),getSignupFeatures:()=>Object(a.compact)([d.ab,d.t,d.Tb,d.Ub,d.h,d.G,d.o]),getBillingTimeFrame:()=>l.a.translate("per year"),getSignupBillingTimeFrame:()=>l.a.translate("per year")},[d.rc]:{group:d.Xb,type:d.Gc,term:d.Ac,getTitle:()=>l.a.translate("Premium"),getAudience:()=>l.a.translate("Best for small businesses"),getProductId:()=>2003,getStoreSlug:()=>d.rc,getPathSlug:()=>"premium-monthly",availableFor:e=>Object(a.includes)([d.nc,d.oc,d.pc],e),getDescription:()=>l.a.translate("Comprehensive, automated scanning for security vulnerabilities, fast video hosting, and marketing automation."),getTagline:()=>l.a.translate("Your site is being secured and you have access to marketing tools and priority support."),getPlanCompareFeatures:()=>Object(a.compact)([d.ib,d.v,d.x,d.s,d.Ab,d.J,d.nb,Object(u.c)("republicize")&&d.qb,d.xb,d.Ub,d.Tb,d.ab,d.h,d.V]),getSignupFeatures:()=>Object(a.compact)([d.ab,d.t,d.Tb,d.Ub,d.h,d.G,d.o]),getBillingTimeFrame:()=>l.a.translate("per month, billed monthly"),getSignupBillingTimeFrame:()=>l.a.translate("per month")},[d.oc]:{group:d.Xb,type:d.Fc,term:d.yc,getTitle:()=>l.a.translate("Personal"),getAudience:()=>l.a.translate("Best for hobbyists"),getProductId:()=>2005,getStoreSlug:()=>d.oc,availableFor:e=>Object(a.includes)([d.nc,d.pc],e),getPathSlug:()=>"jetpack-personal",getDescription:()=>l.a.translate("Security essentials for your WordPress site, including automated backups and priority support."),getTagline:()=>l.a.translate("Your data is being securely backed up and you have access to priority support."),getPlanCompareFeatures:()=>[d.ib,d.v,d.x,d.s,d.Ab,d.J,d.nb],getSignupFeatures:()=>[d.ib,d.Ab,d.e,d.nb,d.m],getBillingTimeFrame:()=>l.a.translate("per year"),getSignupBillingTimeFrame:()=>l.a.translate("per year")},[d.pc]:{group:d.Xb,type:d.Fc,term:d.Ac,getTitle:()=>l.a.translate("Personal"),getAudience:()=>l.a.translate("Best for hobbyists"),getStoreSlug:()=>d.pc,getProductId:()=>2006,getPathSlug:()=>"jetpack-personal-monthly",availableFor:e=>Object(a.includes)([d.nc],e),getDescription:()=>l.a.translate("Security essentials for your WordPress site, including automated backups and priority support."),getTagline:()=>l.a.translate("Your data is being securely backed up and you have access to priority support."),getPlanCompareFeatures:()=>[d.ib,d.v,d.x,d.s,d.Ab,d.J,d.nb],getSignupFeatures:()=>[d.ib,d.Ab,d.e,d.nb,d.m],getBillingTimeFrame:()=>l.a.translate("per month, billed monthly"),getSignupBillingTimeFrame:()=>l.a.translate("per month")},[d.lc]:{group:d.Xb,type:d.Cc,term:d.yc,getTitle:()=>l.a.translate("Professional"),getAudience:()=>l.a.translate("Best for organizations"),getStoreSlug:()=>d.lc,getProductId:()=>2001,availableFor:e=>Object(a.includes)([d.mc,d.nc,d.qc,d.rc,d.oc,d.pc],e),getPathSlug:()=>"professional",getDescription:()=>l.a.translate("The most powerful WordPress sites: real-time backups, enhanced search, and unlimited premium themes."),getTagline:()=>l.a.translate("You have the full suite of security and performance tools."),getPlanCompareFeatures:()=>Object(a.compact)([d.jb,d.w,d.x,d.s,d.Ab,d.J,d.nb,d.sb,Object(u.c)("republicize")&&d.qb,d.xb,d.Ub,d.Tb,d.bb,d.kb,d.h,d.V,d.Hb]),getSignupFeatures:()=>Object(a.compact)([d.jb,d.sb,d.Hb,d.q]),getBillingTimeFrame:()=>l.a.translate("per year"),getSignupBillingTimeFrame:()=>l.a.translate("per year")},[d.mc]:{group:d.Xb,type:d.Cc,term:d.Ac,getTitle:()=>l.a.translate("Professional"),getAudience:()=>l.a.translate("Best for organizations"),getSubtitle:()=>l.a.translate("Ultimate security and traffic tools."),getProductId:()=>2004,getStoreSlug:()=>d.mc,getPathSlug:()=>"professional-monthly",availableFor:e=>Object(a.includes)([d.nc,d.qc,d.rc,d.oc,d.pc],e),getDescription:()=>l.a.translate("The most powerful WordPress sites: real-time backups, enhanced search, and unlimited premium themes."),getTagline:()=>l.a.translate("You have the full suite of security and performance tools."),getPlanCompareFeatures:()=>Object(a.compact)([d.jb,d.w,d.x,d.s,d.Ab,d.J,d.nb,Object(u.c)("republicize")&&d.qb,d.xb,d.Ub,d.Tb,d.bb,d.kb,d.h,d.V,d.Hb]),getSignupFeatures:()=>Object(a.compact)([d.jb,d.sb,d.Hb,d.q]),getBillingTimeFrame:()=>l.a.translate("per month, billed monthly"),getSignupBillingTimeFrame:()=>l.a.translate("per month")}};Object.keys(f)},"./client/lib/plugins/sanitize-section-content.js":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/valid-url/index.js"),a=n.n(o);const c=e=>{switch(e){case"#text":case"a":case"b":case"blockquote":case"code":case"div":case"em":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"i":case"img":case"li":case"ol":case"p":case"span":case"strong":case"ul":return!0;default:return!1}},l=(e,t)=>{switch(e){case"a":return"href"===t;case"iframe":switch(t){case"class":case"type":case"height":case"width":case"src":return!0;default:return!1}case"img":switch(t){case"alt":case"src":return!0;default:return!1}default:return!1}},u=e=>{if("iframe"!==e.nodeName.toLowerCase())return!1;if("youtube-player"!==e.getAttribute("class"))return!1;if("text/html"!==e.getAttribute("type"))return!1;const t=document.createElement("a");return t.href=e.getAttribute("src"),a.a.isWebUri(e.getAttribute("src"))&&("youtube.com"===t.hostname||"www.youtube.com"===t.hostname)},d=e=>{switch(e.nodeName.toLocaleLowerCase()){case"h1":case"h2":return"h3";default:return null}},p=e=>{const t=(new DOMParser).parseFromString(e,"text/html"),n=t.createTreeWalker(t.body,NodeFilter.SHOW_ALL,null,!1),s=[],o=[];for(;n.nextNode();){const e=n.currentNode,t=e.nodeName.toLowerCase(),i=u(e);if(!c(t)&&!i){s.push(e);continue}const p=d(e);p&&o.push([e,document.createElement(p)]),Object(r.filter)(e.attributes,e=>{let n=e.name,s=e.value;return!l(t,n)||("href"===n||"src"===n)&&!a.a.isWebUri(s)}).forEach(t=>{let n=t.name;return e.removeAttribute(n)}),"a"===t&&e.getAttribute("href")&&(e.setAttribute("target","_blank"),e.setAttribute("rel","external noopener noreferrer")),i&&e.setAttribute("src",e.getAttribute("src").replace("http://","https://"))}return o.forEach(e=>{let t,n=i()(e,2),s=n[0],r=n[1];for(;t=s.firstChild;)r.appendChild(t);s.parentNode.replaceChild(r,s)}),s.forEach(e=>{const t=e.parentNode;let n;try{for(;n=e.firstChild;)t.insertBefore(n,e);t.removeChild(e)}catch(e){}}),t.body.innerHTML}},"./client/lib/plugins/utils.js":function(e,t,n){"use strict";n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"a",function(){return d});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/formatting/index.js"),r=n("./client/lib/plugins/sanitize-section-content.js");function o(e,t){return e&&t.site&&t.site.ID===e.ID}function a(e,t){return e&&t.plugin&&t.plugin.slug===e}function c(e,t){return e=function(e){return Object(s.pick)(e,"action_links","active","author","author_url","autoupdate","banners","compatibility","description","short_description","detailsFetched","downloaded","homepage","icons","id","last_updated","name","network","num_ratings","plugin_url","rating","ratings","sections","slug","support_URL","update","updating","version","wp_admin_settings_page_url")}(Object(s.assign)(e,t)),Object(s.transform)(e,function(t,n,o){switch(o){case"short_description":case"description":case"name":case"slug":t[o]=Object(i.b)(n);break;case"author":t.author=n,t.author_name=(c=n)?Object(i.b)(c.replace(/(<([^>]+)>)/gi,"")):"",t.author_url=e.author_url||function(e){const t=/<a\s+(?:[^>]*?\s+)?href="([^"]*)"/.exec(e);return t&&t[1]?t[1]:""}(n);break;case"sections":{const e={};for(const t of Object.keys(n)){if(!n[t])throw new Error("Section expected for key ".concat(t));e[t]=Object(r.a)(n[t])}t.sections=e,t.screenshots=e.screenshots?function(e){const t=Object(i.c)(e),n=t&&t.querySelectorAll("li");if(!n)return null;let r=Object(s.map)(n,function(e){const t=e.querySelectorAll("img"),n=e.querySelectorAll("p");if(t[0]&&t[0].src)return{url:t[0].src,caption:n[0]?n[0].textContent:null}});return(r=r.filter(e=>e)).length?r:null}(e.screenshots):null;break}case"num_ratings":case"rating":t[o]=parseInt(n,10);break;case"ratings":for(const e in n)n[e]=parseInt(n[e],10);t[o]=n;break;case"icons":n&&(t.icon=n["2x"]||n["1x"]||n.svg||n.default);break;case"homepage":case"plugin_url":t.plugin_url=n;break;case"compatibility":t[o]=(a=n,Object(s.sortBy)(Object.keys(a).map(function(e){const t=e.split(".").map(function(e){return Number.parseInt(e,10)});for(;t.length<3;)t.push(0);return t}),[0,1,2]).map(function(e){return e.length&&0===e[e.length-1]&&e.pop(),e.join(".")}));break;default:t[o]=n}var a,c})}function l(e){return e?Object(s.map)(e,e=>c(e)):[]}function u(e,t,n){return Object(s.filter)(e,function(e,t,n){return!e&&!t||!(!o(e,n)||!a(t,n))||!(t||!o(e,n))||!(e||!a(t,n))}.bind(this,t,n))}const d=["beaver-builder-lite-version","bold-page-builder","divi-builder","elementor","elementor-pro","fusion-builder","js_composer","kadence-blocks","siteorigin-panels","thrive-visual-editor","visualcomposer"]},"./client/lib/post-normalizer/rule-content-detect-media.js":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var s=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/get-video-id/index.js"),r=n.n(i),o=n("./client/lib/post-normalizer/utils.js"),a=n("./client/state/reader/posts/sizes.js");const c=e=>{if(function(e){if(!e||!e.getAttribute("src"))return!1;const t=e.getAttribute("src"),n=Object(s.some)(["gravatar.com","/wpcom-smileys/"],e=>Object(s.includes)(t.toLowerCase(),e));return!(function(e){if(!e||!e.src)return!1;const t=e.height+e.width;return 1===t||2===t}(e)||n)}(e)){const t=Object(o.a)(e)||{width:0,height:0},n=t.width,s=t.height;return{src:Object(o.h)(e.getAttribute("src"),a.g),width:n,height:s,mediaType:"image"}}return!1},l=e=>{const t=r()(e.src);if(t&&Object(s.includes)(["youtube","vimeo","videopress"],t.service)){const t=e.cloneNode();return-1===t.src.indexOf("?")?t.src+="?autoplay=1":t.src+="&autoplay=1",t.outerHTML}return null},u=e=>{let t,n=e;do{if(n.className&&(t=n.className.match(/\bembed-([-a-zA-Z0-9_]+)\b/)))return t[1]}while(n=n.parentNode);return null},d=e=>{if(!Object(o.c)(e))return!1;const t=Number(e.width),n=Number(e.height),s=t/n;return{type:u(e),src:e.src,iframe:e.outerHTML,aspectRatio:s,width:t,height:n,mediaType:"video",autoplayIframe:l(e)}};function p(e,t){const n=t.querySelectorAll("".concat("img[src]",", ").concat("iframe")),i=Object(s.map)(n,e=>{const t=e.nodeName.toLowerCase();return"iframe"===t?d(e):"img"===t&&c(e)});return e.content_media=Object(s.compact)(i),e.content_embeds=Object(s.filter)(e.content_media,e=>"video"===e.mediaType),e.content_images=Object(s.filter)(e.content_media,e=>"image"===e.mediaType),e.featured_image&&(e.featured_image=Object(o.h)(e.featured_image,a.g)),e}},"./client/lib/post-normalizer/rule-create-better-excerpt.js":function(e,t,n){"use strict";n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u});var s=n("./node_modules/striptags/striptags.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/post-normalizer/utils.js");function a(e){e.parentNode&&e.parentNode.removeChild(e)}function c(e){return 0===e.childNodes.length?"BR"===e.nodeName&&e:c(e.firstChild)}function l(e){if(!e)return"";const t=Object(o.b)(i()(e,["p","br","sup","sub"]));t.id="__better_excerpt__",Object(r.toArray)(t.querySelectorAll("p")).filter(e=>0===Object(r.trim)(e.textContent).length).forEach(a),Object(r.toArray)(t.querySelectorAll("p")).forEach(e=>{e.removeAttribute("style"),e.removeAttribute("align")}),function(e){if(e)for(;c(e);)a(c(e))}(t),Object(r.forEach)(t.querySelectorAll("#__better_excerpt__ > p, #__better_excerpt__ > br"),function(e,t){t>=3&&e.parentNode&&e.parentNode.removeChild(e)});const n=Object(r.trim)(t.innerHTML.replace(/&nbsp;/g," "));return t.innerHTML="",n}function u(e){if(!e||!e.content)return e;const t=function(e){const t=Object(o.b)(e);return Object(r.forEach)(t.querySelectorAll('.wp-caption, style, script, blockquote[class^="instagram-"], figure, .tiled-gallery'),a),t.innerHTML}(e.content);if(e.content_no_html=Object(r.trim)(i()(t)),e.better_excerpt=l(t),e.better_excerpt_no_html=Object(r.trim)(i()(e.better_excerpt)),e.better_excerpt_no_html){let t=e.better_excerpt_no_html.replace(/\[...\]\w*$/,"…");if(t.length>160){const e=t.lastIndexOf(" ",160);t=t.substring(0,e)+"…"}e.short_excerpt=t}return e}},"./client/lib/post-normalizer/rule-decode-entities.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/formatting/index.js"),r=n("./client/lib/safe-image-url/index.js");const o=["excerpt","title","site_name"];function a(e){return(arguments.length>1&&void 0!==arguments[1]?arguments[1]:o).forEach(function(t){e[t]&&(e[t]=Object(i.b)(e[t]))}),e.parent&&e.parent.title&&(e.parent.title=Object(i.b)(e.parent.title)),e.author&&(e.author.name&&(e.author.name=Object(i.b)(e.author.name)),e.author.avatar_URL&&(e.author.avatar_URL=Object(r.a)(e.author.avatar_URL))),e.tags&&Object(s.forOwn)(e.tags,function(e){e.name=Object(i.b)(e.name)}),e}},"./client/lib/post-normalizer/rule-pick-canonical-image.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/post-normalizer/utils.js");function r(e){let t;if(Object(i.k)(e.post_thumbnail)){const n=e.post_thumbnail;t={uri:n.URL,width:n.width,height:n.height}}else if(e.content_images&&e.content_images.length){const n=Object(s.find)(e.content_images,i.d);n&&(t={uri:n.src,width:n.width,height:n.height})}return t&&(e.canonical_image=t),e}},"./client/lib/post-normalizer/rule-strip-html.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/formatting/index.js");function r(e){return Object(s.forEach)(["excerpt","title","site_name"],function(t){e[t]&&(e[t]=Object(i.f)(e[t]))}),e.author&&e.author.name&&(e.author.name=Object(i.f)(e.author.name)),e}},"./client/lib/post-normalizer/rule-with-content-dom.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/post-normalizer/utils.js");function r(e){return function(t){if(!t||!t.content||!e)return t;const n=Object(i.b)(t.content);return(t=Object(s.reduce)(e,(e,t)=>t(e,n),t)).content=n.innerHTML,n.innerHTML="",t}}},"./client/lib/post-normalizer/utils.js":function(e,t,n){"use strict";n.d(t,"h",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"f",function(){return _}),n.d(t,"k",function(){return E}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return g}),n.d(t,"e",function(){return f}),n.d(t,"a",function(){return S}),n.d(t,"j",function(){return O}),n.d(t,"i",function(){return j});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/url/url.js"),a=n.n(o),c=n("./client/lib/safe-image-url/index.js");const l="undefined"!=typeof window&&window.devicePixelRatio&&window.devicePixelRatio>1?2:1,u=80;function d(e,t){if(!e)return e;let n={};try{n=a.a.parse(e,!0,!0)}catch(e){}if(!n.host)return e;const s=-1!==n.host.indexOf("gravatar.com");delete n.search,Object(r.forEach)(["h","crop","resize","fit"],function(e){delete n.query[e]});const i=s?"s":"w";return n.query[i]=t*l,s||(n.query.quality=u,n.query.strip="info"),n.query=Object.keys(n.query).sort().reduce((e,t)=>(e[t]=n.query[t],e),{}),a.a.format(n)}function p(e,t,n,s){e&&e[t]&&(s&&!a.a.parse(e[t],!0,!0).hostname&&(e[t]=a.a.resolve(s,e[t])),e[t]=Object(c.a)(e[t]),n&&(e[t]=d(e[t],n)))}function m(e){if("undefined"!=typeof DOMParser&&DOMParser.prototype.parseFromString){const t=(new DOMParser).parseFromString(e,"text/html");if(t&&t.body)return t.body}const t=document.implementation.createHTMLDocument("processing doc").createElement("div");return t.innerHTML=e,t}function _(e){if(!e)return!1;const t=a.a.parse(e).pathname;return Object(r.some)([".jpg",".jpeg",".png",".gif"],e=>Object(r.endsWith)(t,e))}function E(e){return!(!e||!e.URL)&&_(e.URL)}function b(e){const t=e.src&&a.a.parse(e.src).hostname,n=t&&t.toLowerCase();return Object(r.some)(["youtube.com","youtube-nocookie.com","videopress.com","video.wordpress.com","vimeo.com","cloudup.com","soundcloud.com","8tracks.com","spotify.com","me.sh","bandcamp.com","kickstarter.com","facebook.com","embed.itunes.apple.com","nyt.com","google.com","mixcloud.com","players.brightcove.net","embed.ted.com","fast.wistia.net","player.twitch.tv","archive.org","codepen.io","www.audiomack.com","player.theplatform.com","embed.radiopublic.com","gfycat.com","scribd.com"],function(e){return Object(r.endsWith)("."+n,"."+e)})}function g(e){return!!e&&(!(e.width<100)&&!(e.width*e.height<7500))}function h(e){const t=a.a.parse(e),n=t.pathname;return s=t.hostname,/^i[0-2]\.wp\.com$/.test(s)?n.substring(n.indexOf("/",1)):n;var s}function f(e){if(E(e.post_thumbnail)){const t=h(e.post_thumbnail.URL),n=Object(r.findIndex)(e.images,e=>h(e.src)===t,1);if(n>0)return n}return!1}function S(e){if(e.height&&e.width)return{height:e.height,width:e.width};if(e.naturalHeight&&e.naturalWidth)return{height:e.naturalHeight,width:e.naturalWidth};if(e.dataset&&e.dataset.origSize){const t=e.dataset.origSize.split(",").map(Number),n=i()(t,2);return{width:n[0],height:n[1]}}return null}const O=/^https?:\/\//;function j(e){if(O.test(e))return e}},"./client/lib/preferences/constants.js":function(e,t,n){"use strict";t.a={LOCALSTORAGE_KEY:"preferences-data",USER_SETTING_KEY:"calypso_preferences"}},"./client/lib/preferences/store.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/dispatcher/index.js"),r=n("./client/lib/mixins/emitter/index.js"),o=n("./client/lib/preferences/constants.js");const a={_preferences:void 0};function c(){a._preferences||(a._preferences={})}function l(e){c(),Object(s.forOwn)(e,function(e,t){!function(e,t){c(),null===t?delete a._preferences[e]:a._preferences[e]=t}(t,e)})}Object(r.a)(a),a.getAll=function(){return a._preferences},a.get=function(e){if(a._preferences)return a._preferences[e]},a.dispatchToken=i.a.register(function(e){const t=e.action;switch(t.type){case"UPDATE_ME_SETTINGS":case"RECEIVE_ME_SETTINGS":!t.error&&t.data&&t.data[o.a.USER_SETTING_KEY]&&(l(t.data[o.a.USER_SETTING_KEY]),a.emit("change"))}}),t.a=a},"./client/lib/products-values/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"k",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"z",function(){return m}),n.d(t,"y",function(){return _}),n.d(t,"A",function(){return E}),n.d(t,"J",function(){return b}),n.d(t,"h",function(){return g}),n.d(t,"L",function(){return h}),n.d(t,"j",function(){return f}),n.d(t,"w",function(){return S}),n.d(t,"x",function(){return O}),n.d(t,"F",function(){return j}),n.d(t,"E",function(){return T}),n.d(t,"G",function(){return y}),n.d(t,"S",function(){return I}),n.d(t,"H",function(){return R}),n.d(t,"T",function(){return C}),n.d(t,"g",function(){return A}),n.d(t,"K",function(){return N}),n.d(t,"v",function(){return U}),n.d(t,"r",function(){return w}),n.d(t,"s",function(){return P}),n.d(t,"t",function(){return D}),n.d(t,"q",function(){return L}),n.d(t,"e",function(){return k}),n.d(t,"M",function(){return x}),n.d(t,"u",function(){return M}),n.d(t,"o",function(){return F}),n.d(t,"i",function(){return G}),n.d(t,"m",function(){return V}),n.d(t,"d",function(){return q}),n.d(t,"c",function(){return H}),n.d(t,"p",function(){return Q}),n.d(t,"B",function(){return B}),n.d(t,"C",function(){return Y}),n.d(t,"D",function(){return W}),n.d(t,"O",function(){return K}),n.d(t,"n",function(){return z}),n.d(t,"I",function(){return J}),n.d(t,"R",function(){return Z}),n.d(t,"P",function(){return $}),n.d(t,"Q",function(){return X}),n.d(t,"U",function(){return ee}),n.d(t,"N",function(){return te}),n.d(t,"l",function(){return ne});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/plans/constants.js"),r=n("./client/lib/plans/index.js"),o=n("./client/lib/domains/constants.js"),a=n("./client/lib/products-values/schema.json");const c={domain:{domain_redemption:!0,gapps:!0,gapps_extra_license:!0,gapps_unlimited:!0},[i.fc]:{domain_redemption:!0},[i.dc]:{domain_redemption:!0},[i.ec]:{domain_redemption:!0},[i.tc]:{domain_redemption:!0},[i.uc]:{domain_redemption:!0},[i.vc]:{domain_redemption:!0},[i.wc]:{domain_redemption:!0}};function l(e){const t=Object(s.difference)(a.required,Object.keys(e));if(!Object(s.isEmpty)(t))throw new Error("Missing required attributes for ProductValue: ["+t.join(", ")+"]")}function u(e){return Object(s.assign)({},e,{product_slug:e.product_slug||e.productSlug,product_type:e.product_type||e.productType,included_domain_purchase_amount:e.included_domain_purchase_amount||e.includedDomainPurchaseAmount,is_domain_registration:void 0!==e.is_domain_registration?e.is_domain_registration:e.isDomainRegistration,free_trial:e.free_trial||e.freeTrial})}function d(e){return l(e=u(e)),e.product_slug===i.gc}function p(e,t){return l(t=u(t)),e.indexOf(t.product_slug)>=0}function m(e){return l(e=u(e)),e.product_slug===i.jc}function _(e){return l(e=u(e)),e.product_slug===i.nc}function E(e){return l(e=u(e)),Boolean(e.free_trial)}function b(e){return l(e=u(e)),Object(r.r)(e.product_slug)}function g(e){return l(e=u(e)),Object(r.m)(e.product_slug)}function h(e){return l(e=u(e)),Object(r.t)(e.product_slug)}function f(e){return l(e=u(e)),Object(r.n)(e.product_slug)}function S(e){return l(e=u(e)),Object(r.o)(e.product_slug)}function O(e){return l(e=u(e)),e.product_slug===i.xc}function j(e){return l(e=u(e)),Object(r.B)(e.product_slug,{group:i.Xb})}function T(e){return l(e=u(e)),f(e)&&j(e)}function y(e){return l(e=u(e)),h(e)&&j(e)}function I(e){return l(e=u(e)),"vip"===e.product_slug}function R(e){const t=u(e);return l(t),parseInt(t.bill_period,10)===i.sc}function C(e){const t=u(e);return l(t),parseInt(t.bill_period,10)===i.Zb}function A(e){const t=u(e);return l(t),parseInt(t.bill_period,10)===i.ac}function v(e){return l(e=u(e)),e.product_slug===i.kc}function N(e){return l(e=u(e)),g(e)||b(e)||h(e)||f(e)||S(e)||O(e)||v(e)}function U(e){return N(e)&&!j(e)}function w(e){return l(e=u(e)),L(e)||D(e)}function P(e){return l(e=u(e)),"domain_redemption"===e.product_slug}function D(e){return l(e=u(e)),!!e.is_domain_registration}function L(e){return l(e=u(e)),"domain_map"===e.product_slug}function k(e){return l(e=u(e)),e.included_domain_purchase_amount}function x(e){return l(e=u(e)),"offsite_redirect"===e.product_slug}function M(e){return l(e=u(e)),e.product_slug===o.d.TRANSFER_IN}function F(e){return M(e)&&e.delayedProvisioning}function G(e){return l(e=u(e)),!!e.is_bundled}function V(e){return l(e=u(e)),"wordpress-com-credits"===e.product_slug}function q(e){return l(e=u(e)),D(e)?0:L(e)?1:void 0}function H(e){l(e=u(e));const t=Object(s.get)(e,"extra.domain_to_bundle",!1);return t||e.meta}function Q(e,t,n){let s=!1;l(e=u(e));const i=D(e)?"domain":e.product_slug,r=D(t)?"domain":t.product_slug;return n&&(s=N(e)&&(D(t)||L(t))),s||c[i]&&c[i][r]&&H(e)===H(t)}function B(e){return l(e=u(e)),!0===e.is_free}function Y(e){return l(e=u(e)),"gapps"===e.product_slug||"gapps_unlimited"===e.product_slug||"gapps_extra_license"===e.product_slug}function W(e){return l(e=u(e)),"guided_transfer"===e.product_slug}function K(e){return l(e=u(e)),"premium_theme"===e.product_slug}function z(e){return l(e=u(e)),"custom-design"===e.product_slug}function J(e){return l(e=u(e)),"no-adverts/no-adverts.php"===e.product_slug}function Z(e){return l(e=u(e)),"videopress"===e.product_slug}function $(e){return l(e=u(e)),"unlimited_space"===e.product_slug}function X(e){return l(e=u(e)),"unlimited_themes"===e.product_slug}function ee(e){return Object(s.pick)(e,Object.keys(a.properties))}function te(e){return l(e=u(e)),"1gb_space_upgrade"===e.product_slug||"5gb_space_upgrade"===e.product_slug||"10gb_space_upgrade"===e.product_slug||"50gb_space_upgrade"===e.product_slug||"100gb_space_upgrade"===e.product_slug}function ne(e){return l(e=u(e)),"concierge-session"===e.product_slug}t.a={formatProduct:u,getDomainProductRanking:q,getIncludedDomainPurchaseAmount:k,includesProduct:p,isBusiness:f,isChargeback:d,isCredits:V,isCustomDesign:z,isDependentProduct:Q,isDelayedDomainTransfer:F,isDomainMapping:L,isDomainProduct:w,isDomainRedemption:P,isDomainRegistration:D,isDomainTransfer:M,isDomainTransferProduct:function(e){return l(e=u(e)),M(e)},isBundled:G,isDotComPlan:U,isEnterprise:O,isFreeJetpackPlan:_,isFreePlan:m,isPersonal:b,isFreeTrial:E,isFreeWordPressComDomain:B,isGoogleApps:Y,isGuidedTransfer:W,isJetpackBusiness:T,isJetpackPlan:j,isJetpackPremium:y,isJetpackMonthlyPlan:function(e){return R(e)&&j(e)},isVipPlan:I,isMonthly:R,isJpphpBundle:v,isNoAds:J,isPlan:N,isPremium:h,isSiteRedirect:x,isSpaceUpgrade:te,isTheme:K,isUnlimitedSpace:$,isUnlimitedThemes:X,isVideoPress:Z,whitelistAttributes:ee,isConciergeSession:ne}},"./client/lib/products-values/schema.json":function(e){e.exports={title:"ProductValue",type:"object",required:["product_slug"],additionalProperties:!0,properties:{product_id:{type:"number"},product_name:{type:"string"},product_slug:{type:"string"},is_domain_registration:{type:"boolean"}}}},"./client/lib/protect-form/index.tsx":function(e,t,n){"use strict";n.d(t,"c",function(){return y}),n.d(t,"a",function(){return I}),n.d(t,"b",function(){return R});var s=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),o=n.n(r),a=n("./node_modules/react/index.js"),c=n.n(a),l=n("./node_modules/debug/src/browser.js"),u=n.n(l),d=n("./node_modules/page/page.js"),p=n.n(d),m=n("./packages/i18n-calypso/dist/esm/index.js"),_=n.n(m),E=n("./node_modules/lodash/lodash.js");const b=u()("calypso:protect-form");let g=[],h=0;function f(e){if(!g.length)return;b("unsaved form changes detected");const t=_.a.translate("You have unsaved changes.");return(e||window.event).returnValue=t,t}function S(){0===h&&"undefined"!=typeof window&&window.addEventListener("beforeunload",f),h++}function O(){0===--h&&"undefined"!=typeof window&&window.removeEventListener("beforeunload",f)}function j(e){Object(E.includes)(g,e)||g.push(e)}function T(e){g=Object(E.without)(g,e)}const y=e=>{return class extends a.Component{constructor(){super(...arguments),o()(this,"markChanged",()=>j(this)),o()(this,"markSaved",()=>T(this))}componentDidMount(){S()}componentWillUnmount(){O(),this.markSaved()}render(){return c.a.createElement(e,i()({markChanged:this.markChanged,markSaved:this.markSaved},this.props))}}};class I extends a.Component{componentDidMount(){S(),this.props.isChanged&&j(this)}componentWillUnmount(){O(),T(this)}componentWillReceiveProps(e){e.isChanged!==this.props.isChanged&&(e.isChanged?j(this):T(this))}render(){return null}}const R=(e,t)=>{if(!g.length)return t();if(b("unsaved form changes detected"),function(){if("undefined"==typeof window)return!0;const e=_.a.translate("You have unsaved changes. Are you sure you want to leave this page?");return window.confirm(e)}())g=[],t();else{const t=e.canonicalPath;setTimeout(function(){p.a.replace(t,null,!1,!1)},0)}}},"./client/lib/query-manager/post/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});const s={context:"display",http_envelope:!1,pretty:!1,number:20,offset:0,page:1,order:"DESC",order_by:"date",type:"post",status:"publish",sticky:"include",search:""}},"./client/lib/redux-bridge/index.js":function(e,t,n){"use strict";n.d(t,"e",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"d",function(){return p});var s=n("./client/dispatcher/index.js");let i,r=null;const o=new Promise(e=>{i=e});function a(e){r=e,i(e)}function c(){return o}function l(){if(r)return r.getState()}function u(){if(r)return r.dispatch(...arguments)}const d=new Set;function p(e){d.add(e)}s.a.register(function(e){let t=e.action,n=void 0===t?{}:t;d.has(n.type)&&u(function(e){return Object.assign({},e,{type:"FLUX_".concat(e.type)})}(n))})},"./client/lib/resize-image-url/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return d});var s=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/url/url.js"),r=n("./client/lib/safe-image-url/index.js");const o=/^https?:$/,a=Object(s.get)("undefined"!=typeof window&&window,"devicePixelRatio",1)>1?2:1,c=["w","h","resize","fit","s"],l={photon:/(^[is]\d\.wp\.com|(^|\.)wordpress\.com)$/,gravatar:/(^|\.)gravatar\.com$/},u=e=>e*a;function d(e,t,n){let a=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if("string"!=typeof e)return e;const p=Object(i.parse)(e,!0,!0);if(!o.test(p.protocol))return e;if(!p.hostname)return e;p.query=Object(s.omit)(p.query,c);const m=Object(s.findKey)(l,String.prototype.match.bind(p.hostname));return"number"==typeof t&&(t="gravatar"===m?{s:t}:n>0?{fit:[t,n].join()}:{w:t}),!m&&a?d(Object(r.a)(e),t,null,!1):(Object(s.assign)(p.query,Object(s.mapValues)(t,(e,t)=>"resize"===t||"fit"===t?e.split(",").map(u).join(","):Object(s.includes)(c,t)?u(e):e)),delete p.search,Object(i.format)(p))}},"./client/lib/safe-image-url/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var s=n("./packages/photon/dist/esm/index.js"),i=n.n(s),r=n("./node_modules/url/url.js"),o=n("./node_modules/lodash/lodash.js");let a;a="object"==typeof location?new RegExp("^(/(?!/)|data:image/[^;]+;|blob:".concat(location.origin,"/)")):/^(\/(?!\/)|data:image\/[^;]+;)/;const c=/^([-a-zA-Z0-9_]+\.)*(gravatar\.com|wordpress\.com|wp\.com|a8c\.com)$/;function l(e){if("string"!=typeof e)return null;if(a.test(e))return e;const t=Object(r.parse)(e,!1,!0),n=t.hostname,s=t.path,l=t.query;return c.test(n)?e.replace(/^http:/,"https:"):l&&l.length>0?null:Object(o.endsWith)(s,".svg")?null:i()(e)}},"./client/lib/shortcode/index.js":function(e,t,n){"use strict";n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"a",function(){return u});var s=n("./node_modules/lodash/lodash.js");const i=/(\w+)\s*=\s*"([^"]*)"(?:\s|$)|(\w+)\s*=\s*\'([^\']*)\'(?:\s|$)|(\w+)\s*=\s*([^\s\'"]+)(?:\s|$)|"([^"]*)"(?:\s|$)|(\S+)(?:\s|$)/g,r=/\[(\[?)([^\[\]\/\s\u00a0\u200b]+)(?![\w-])([^\]\/]*(?:\/(?!\])[^\]\/]*)*?)(?:(\/)\]|\](?:([^\[]*(?:\[(?!\/\2\])[^\[]*)*)(\[\/\2\]))?)(\]?)/,o=Object(s.memoize)(function(e){const t={},n=[];let s;for(e=e.replace(/[\u00a0\u200b]/g," ");s=i.exec(e);)s[1]?t[s[1].toLowerCase()]=s[2]:s[3]?t[s[3].toLowerCase()]=s[4]:s[5]?t[s[5].toLowerCase()]=s[6]:s[7]?n.push(s[7]):s[8]&&n.push(s[8]);return{named:t,numeric:n}}),a=function(e){let t="["+e.tag;const n=function(e){let t,n;if("string"==typeof e)return o(e);if(Array.isArray(e))n=e;else{if("object"==typeof e&&Object(s.isEqual)(Object.keys(e),["named","numeric"]))return e;"object"==typeof e&&(t=e)}return{named:t||{},numeric:n||[]}}(e.attrs);return Object.keys(n.named).forEach(function(e){const s=n.named[e];t+=" "+e+'="'+s+'"'}),n.numeric.forEach(function(e){/\s/.test(e)?t+=' "'+e+'"':t+=" "+e}),"single"===e.type?t+"]":"self-closing"===e.type?t+" /]":(t+="]",e.content&&(t+=e.content),t+"[/"+e.tag+"]")},c=function(e){const t=e.match(r);let n;if(!t)return null;n=t[4]?"self-closing":t[6]?"closed":"single";const s={tag:t[2],type:n};return/\S/.test(t[3])&&(s.attrs=o(t[3])),t[5]&&(s.content=t[5]),s},l=Object(s.memoize)(function(e){return new RegExp("\\[(\\[?)("+e+")(?![\\w-])([^\\]\\/]*(?:\\/(?!\\])[^\\]\\/]*)*?)(?:(\\/)\\]|\\](?:([^\\[]*(?:\\[(?!\\/\\2\\])[^\\[]*)*)(\\[\\/\\2\\]))?)(\\]?)","g")}),u=function e(t,n){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;const i=l(t);i.lastIndex=s||0;const r=i.exec(n);if(!r)return;if("["===r[1]&&"]"===r[7])return e(t,n,i.lastIndex);const o={index:r.index,content:r[0],shortcode:c(r[0])};return r[1]&&(o.content=o.content.slice(1),o.index++),r[7]&&(o.content=o.content.slice(0,-1)),o}},"./client/lib/site/utils.js":function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"e",function(){return m});var s=n("./packages/i18n-calypso/dist/esm/index.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/url/index.js");function a(e,t){return t&&t.capabilities&&t.capabilities[e]}function c(e){return e&&e.options?e.options.timezone:null}function l(e){return e&&e.options?e.options.gmt_offset:null}function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"modifyFiles";if(e&&e.options&&e.options.file_mod_disabled)return e.options.file_mod_disabled.map(e=>{if("modifyFiles"===t||"autoupdateFiles"===t||"autoupdateCore"===t){if("has_no_file_system_write_access"===e)return i.a.translate("The file permissions on this host prevent editing files.");if("disallow_file_mods"===e)return i.a.translate("File modifications are explicitly disabled by a site administrator.")}return"autoupdateFiles"!==t&&"autoupdateCore"!==t||"automatic_updater_disabled"!==e?"autoupdateCore"===t&&"wp_auto_update_core_disabled"===e?i.a.translate("Core autoupdates are explicitly disabled by a site administrator."):null:i.a.translate("Any autoupdates are explicitly disabled by a site administrator.")}).filter(e=>e)}function d(e){if(!e)return!1;if(e.options&&e.options.is_multi_network)return!1;if(!1===e.is_multisite)return!0;if(e.is_multisite){const t=Object(r.get)(e.options,"unmapped_url",null),n=Object(r.get)(e.options,"main_network_site",null);return!(!t||!n)&&!(Object(o.m)(t)!==Object(o.m)(n))}return!1}function p(e){return e&&e.domain&&e.wpcom_url?e.domain!==e.wpcom_url:null}function m(e,t){return e.options.active_modules&&e.options.active_modules.indexOf(t)>-1}},"./client/lib/store/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./client/dispatcher/index.js"),i=n("./client/lib/mixins/emitter/index.js");const r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=t;const o={};return Object(i.a)(o),o.get=(()=>r),o.dispatchToken=s.a.register(t=>{s.a.waitFor(n);const i=e(r,t);i!==r&&(r=i,o.emitChange())}),o}},"./client/lib/touch-detect/index.js":function(e,t,n){"use strict";
/**
 * This test is for touch events.
 * It may not accurately detect a touch screen, but may be close enough depending on the use case.
 *
 * @copyright Modernizr © 2009-2015.
 * @license See CREDITS.md.
 * @see https://github.com/Modernizr/Modernizr/blob/master/feature-detects/touchevents.js
 *
 * @returns {Boolean} whether touch screen is available
 */
function s(){return window&&("ontouchstart"in window||window.DocumentTouch&&document instanceof DocumentTouch)}n.d(t,"a",function(){return s})},"./client/lib/user-settings/index.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/debug/src/browser.js"),r=n.n(i),o=n("./client/lib/formatting/index.js"),a=n("./client/lib/mixins/emitter/index.js"),c=n("./client/lib/user/index.js"),l=n("./client/lib/user/utils.js"),u=n("./client/lib/wp/browser.js");const d=r()("calypso:user:settings"),p=Object(c.default)(),m=u.a.undocumented();function _(e){const t={display_name:e.display_name&&Object(o.b)(e.display_name),description:e.description&&Object(o.b)(e.description),user_URL:e.user_URL&&Object(o.b)(e.user_URL)};return Object(s.assign)({},e,t)}function E(e,t){Object(s.unset)(e,t);const n=t.split(".");if(n.length>1){n.pop();const t=n.join(".");t&&Object(s.isEmpty)(Object(s.get)(e,t))&&E(e,t)}}function b(){if(!(this instanceof b))return new b;this.settings=!1,this.initialized=!1,this.reAuthRequired=!1,this.fetchingSettings=!1,this.unsavedSettings={}}Object(a.a)(b.prototype),b.prototype.hasSettings=function(){return!!this.settings},b.prototype.getSettings=function(){return this.settings||this.fetchSettings(),this.settings},b.prototype.fetchSettings=function(){l.default.isLoggedIn()&&!this.fetchingSettings&&(this.fetchingSettings=!0,d("Fetching user settings"),m.me().settings().get(function(e,t){e||(this.settings=_(t),this.initialized=!0,this.emit("change")),this.fetchingSettings=!1,d("Settings successfully retrieved")}.bind(this)))},b.prototype.saveSettings=function(e,t){const n=t||this.unsavedSettings;if(Object(s.isEmpty)(n))return d("There are no settings to save."),e(null),!1;d("Saving settings: "+JSON.stringify(n)),m.me().settings().update(n,function(n,i){n||(this.settings=_(Object(s.merge)(this.settings,i)),t?Object(s.keys)(i).forEach(e=>delete this.unsavedSettings[e]):this.unsavedSettings={},this.emit("change"),p.fetch()),e(n,i)}.bind(this))},b.prototype.cancelPendingEmailChange=function(e){m.me().settings().update({user_email_change_pending:!1},function(t,n){t||(this.settings=Object(s.merge)(this.settings,n),this.emit("change")),e(t,n)}.bind(this))},b.prototype.getOriginalSetting=function(e){return Object(s.get)(this.settings,e,null)},b.prototype.isTwoStepEnabled=function(){return!!this.settings&&this.settings.two_step_enabled},b.prototype.isTwoStepSMSEnabled=function(){return!!this.settings&&this.settings.two_step_sms_enabled},b.prototype.isPendingEmailChange=function(){return!!this.settings&&!!this.settings.new_user_email},b.prototype.getSetting=function(e){let t=null;return Object(s.has)(this.settings,e)&&(t=this.isSettingUnsaved(e)?Object(s.get)(this.unsavedSettings,e):Object(s.get)(this.settings,e)),t},b.prototype.updateSetting=function(e,t){if(Object(s.has)(this.settings,e)){Object(s.set)(this.unsavedSettings,e,t);let n=!1;return Object(s.get)(this.settings,e)===Object(s.get)(this.unsavedSettings,e)&&"user_login"!==e&&"language"!==e&&(n=!0),"language"===e&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return!!e&&(e===t.language&&Object(s.isEmpty)(t.locale_variant)||e===t.locale_variant)}(t,this.settings)&&(n=!0),n&&(d("Removing "+e+" from changed settings."),E(this.unsavedSettings,e)),this.emit("change"),!0}return d(e+" does not exist in user-settings data module."),!1},b.prototype.isSettingUnsaved=function(e){return Object(s.has)(this.unsavedSettings,e)},b.prototype.removeUnsavedSetting=function(e){this.isSettingUnsaved(e)&&(E(this.unsavedSettings,e),this.emit("change"))},b.prototype.hasUnsavedSettings=function(){return!Object(s.isEmpty)(this.unsavedSettings)},t.a=new b},"./client/lib/version-compare/index.js":function(e,t,n){"use strict";t.a=function(e,t,n){let s=0,i=0,r=0,o={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},a=function(e){return(e=(e=(""+e).replace(/[_\-+]/g,".")).replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,".")).length?e.split("."):[-8]};const c=function(e){return e?isNaN(e)?o[e]||-7:parseInt(e,10):0};for(e=a(e),t=a(t),i=Math.max(e.length,t.length),s=0;s<i;s++)if(e[s]!=t[s]){if(e[s]=c(e[s]),t[s]=c(t[s]),e[s]<t[s]){r=-1;break}if(e[s]>t[s]){r=1;break}}if(!n)return r;switch(n){case">":case"gt":return r>0;case">=":case"ge":return r>=0;case"<=":case"le":return r<=0;case"==":case"=":case"eq":return 0===r;case"<>":case"!=":case"ne":return 0!==r;case"":case"<":case"lt":return r<0;default:return null}}},"./client/lib/viewport/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"f",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return _}),n.d(t,"c",function(){return E});const s=769,i="<480px",r=">960px",o="undefined"==typeof window||!window.matchMedia,a=()=>null;function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.min,n=e.max;return void 0!==t&&void 0!==n?o?{matches:s>t&&s<=n}:window.matchMedia("(min-width: ".concat(t+1,"px) and (max-width: ").concat(n,"px)")):void 0!==t?o?{matches:s>t}:window.matchMedia("(min-width: ".concat(t+1,"px)")):void 0!==n&&(o?{matches:s<=n}:window.matchMedia("(max-width: ".concat(n,"px)")))}const l={"<480px":c({max:480}),"<660px":c({max:660}),"<800px":c({max:800}),"<960px":c({max:960}),"<1040px":c({max:1040}),"<1280px":c({max:1280}),"<1400px":c({max:1400}),">480px":c({min:480}),">660px":c({min:660}),">800px":c({min:800}),">960px":c({min:960}),">1040px":c({min:1040}),">1280px":c({min:1280}),">1400px":c({min:1400}),"480px-660px":c({min:480,max:660}),"660px-960px":c({min:660,max:960}),"480px-960px":c({min:480,max:960})};function u(e){if(l.hasOwnProperty(e))return l[e];try{console.warn("Undefined breakpoint used in `mobile-first-breakpoint`",e)}catch(e){}}function d(e){const t=u(e);return t?t.matches:void 0}function p(e,t){if(!t)return a;const n=u(e);if(n&&!o){const e=e=>t(e.matches);return n.addListener(e),()=>n.removeListener(e)}return a}function m(){return d(i)}function _(){return d(r)}function E(){return o?s:window.innerWidth}},"./client/lib/warn/index.js":function(e,t,n){"use strict";let s;s=(()=>{}),t.a=s},"./client/me/purchases/paths.js":function(e,t,n){"use strict";n.d(t,"i",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"d",function(){return o}),n.d(t,"h",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"g",function(){return d});const s="/me/purchases",i=s+"/add-credit-card",r=s+"/billing";function o(e){return r+"/".concat(e)}function a(e,t){return s+"/".concat(e,"/").concat(t)}function c(e,t){return a(e,t)+"/cancel"}function l(e,t){return a(e,t)+"/confirm-cancel-domain"}function u(e,t){return a(e,t)+"/payment/add"}function d(e,t,n){return a(e,t)+"/payment/edit/".concat(n)}},"./client/my-sites/customize/panels.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s);const r={widgets:["panel","widgets"],fonts:["section","jetpack_fonts"],identity:["section","title_tagline"],"custom-css":["section","jetpack_custom_css"],amp:["section","amp_design"],menus:["panel","nav_menus"]};function o(e){if(r.hasOwnProperty(e)){const t=i()(r[e],2),n=t[0],s=t[1];return{["autofocus[".concat(n,"]")]:s}}return null}},"./client/my-sites/domains/paths.js":function(e,t,n){"use strict";n.d(t,"n",function(){return i}),n.d(t,"i",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n.d(t,"f",function(){return l}),n.d(t,"j",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"c",function(){return _}),n.d(t,"m",function(){return E}),n.d(t,"l",function(){return b}),n.d(t,"o",function(){return g}),n.d(t,"p",function(){return h}),n.d(t,"q",function(){return f}),n.d(t,"r",function(){return S}),n.d(t,"s",function(){return O}),n.d(t,"t",function(){return j}),n.d(t,"u",function(){return T}),n.d(t,"v",function(){return y}),n.d(t,"w",function(){return I}),n.d(t,"d",function(){return R});var s=n("./node_modules/lodash/lodash.js");function i(){return"/domains/manage"}function r(e){return"/domains/manage/"+e}function o(e,t,n){return n=n||"edit",Object(s.startsWith)(t,":")||(t=encodeURIComponent(encodeURIComponent(t))),"/domains/manage/"+t+"/"+n+"/"+e}function a(e,t){let n;return n=t?o(e,t,"add-gsuite-users"):"/domains/manage/add-gsuite-users/"+e}function c(e,t){return o(e,t,"contacts-privacy")}function l(e,t){return o(e,t,"edit-contact-info")}function u(e,t){return o(e,t,"manage-consent")}function d(e,t){let n;return n=t?o(e,t,"email"):e?"/domains/manage/email/"+e:"/domains/manage/email"}function p(e,t){return o(e,t,"email-forwarding")}function m(e,t){return o(e,t,"name-servers")}function _(e,t){return o(e,t,"dns")}function E(e,t){return o(e,t,"redirect-settings")}function b(e,t){return o(e,t,"primary-domain")}function g(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";return o(e,t,Object(s.filter)(["transfer",n]).join("/"))}function h(e,t){return g(e,t,"in")}function f(e,t){return g(e,t,"precheck")}function S(e,t){return g(e,t,"out")}function O(e,t){return g(e,t,"other-user")}function j(e,t){return g(e,t,"other-site")}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n="/domains/add/mapping/".concat(e);return t&&(n+="?initialQuery=".concat(t)),n}function y(e,t){let n="/domains/add/transfer/".concat(e);return t&&(n+="?initialQuery=".concat(t)),n}function I(e,t){let n="/domains/add/use-your-domain/".concat(e);return t&&(n+="?initialQuery=".concat(t)),n}function R(e,t){return o(e,t,"domain-connect-mapping")}},"./client/my-sites/plan-price/index.jsx":function(e,t,n){"use strict";var s=n("./node_modules/prop-types/index.js"),i=n.n(s),r=n("./node_modules/react/index.js"),o=n.n(r),a=n("./node_modules/classnames/index.js"),c=n.n(a),l=n("./packages/i18n-calypso/dist/esm/index.js"),u=n("./packages/format-currency/dist/esm/index.js"),d=n("./client/components/badge/index.jsx");class p extends r.Component{render(){const e=this.props,t=e.currencyCode,n=e.rawPrice,s=e.original,i=e.discounted,r=e.className,a=e.isInSignup,l=e.isOnSale,p=e.taxText,m=e.translate;if(!t||0!==n&&!n)return null;const _=Object(u.getCurrencyObject)(n,t),E=c()("plan-price",r,{"is-original":s,"is-discounted":i});if(a)return o.a.createElement("span",{className:E},_.symbol,_.integer,n-_.integer>0&&_.fraction);const b=m("Sale",{comment:"Shown next to a domain that has a special discounted sale price"});return o.a.createElement("h4",{className:E},o.a.createElement("sup",{className:"plan-price__currency-symbol"},_.symbol),o.a.createElement("span",{className:"plan-price__integer"},_.integer),o.a.createElement("sup",{className:"plan-price__fraction"},n-_.integer>0&&_.fraction),p&&o.a.createElement("sup",{className:"plan-price__tax-amount"},m("(+%(taxText)s tax)",{args:{taxText:p}})),l&&o.a.createElement(d.a,null,b))}}t.a=Object(l.localize)(p),p.propTypes={rawPrice:i.a.number,original:i.a.bool,discounted:i.a.bool,currencyCode:i.a.string,className:i.a.string,isOnSale:i.a.bool,taxText:i.a.string,translate:i.a.func.isRequired},p.defaultProps={currencyCode:"USD",original:!1,discounted:!1,className:"",isOnSale:!1}},"./client/my-sites/resume-editing/style.scss":function(e,t,n){},"./client/my-sites/site-indicator/style.scss":function(e,t,n){},"./client/notices/index.js":function(e,t,n){"use strict";var s=n("./node_modules/debug/src/browser.js"),i=n.n(s),r=n("./client/lib/mixins/emitter/index.js");const o=i()("calypso:notices");o("initializing notices");const a={containerNames:{}};Object(r.a)(a);let c=[];const l={new:function(e,t,n){const s=t.overlay?"overlay-notices":"notices";a.containerNames[s]=s,o("creating notice",e,t,n),a[s]=[];const i={type:t.type||"message",status:n,text:e,duration:t.duration,container:s,button:t.button,href:t.href,onClick:e=>{if("function"==typeof t.onClick){const n=l.removeNotice.bind(l,i);return t.onClick(e,n)}},onRemoveCallback:t.onRemoveCallback||function(){},arrow:t.arrow,isCompact:t.isCompact,showDismiss:t.showDismiss,persistent:t.persistent};return t.displayOnNextPage?c.push(i):a[s].push(i),a.emit("change"),i},success:function(e,t){return t=t||{},this.new(e,t,"is-success")},error:function(e,t){return t=t||{},this.new(e,t,"is-error")},info:function(e,t){return t=t||{},this.new(e,t,"is-info")},warning:function(e,t){return t=t||{},this.new(e,t,"is-warning")},list:a,removeNotice:function(e){if(!e.container)return;const t=a[e.container],n=t.indexOf(e);-1!==n&&(t.splice(n,1),a.emit("change"))},clearNoticesOnNavigation:function(e,t){o("clearNoticesOnNavigation");let n=!1;const s=function(e){return e.persistent};for(const e in a.containerNames){const t=a[e].length;a[e]=a[e].filter(s),t!==a[e].length&&(n=!0)}c.length&&(c.forEach(function(e){a[e.container]=[],a[e.container].push(e)}),c=[]),n&&a.emit("change"),t()},clearNotices:function(e){a[e]=[],a.emit("change")},getStatusHelper:function(e){return e.error?"is-error":e.warning?"is-warning":e.info?"is-info":e.success?"is-success":void 0}};t.a=l},"./client/reader/discover/helper.js":function(e,t,n){"use strict";n.d(t,"a",function(){return d}),n.d(t,"g",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"h",function(){return _}),n.d(t,"j",function(){return E}),n.d(t,"k",function(){return b}),n.d(t,"l",function(){return g}),n.d(t,"d",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"e",function(){return S}),n.d(t,"c",function(){return O}),n.d(t,"f",function(){return j});var s=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/url/url.js"),r=n.n(i),o=n("./client/config/index.js"),a=n("./node_modules/debug/src/browser.js"),c=n.n(a),l=n("./client/lib/user/utils.js"),u=n("./client/reader/route/index.js");c()("calypso:reader:discover");const d=Object(o.a)("discover_blog_id");function p(e){return+e===Object(o.a)("discover_blog_id")}function m(e){return+e===Object(o.a)("discover_feed_id")}function _(){return"en"===l.default.getLocaleSlug()}function E(e){return!(!Object(s.get)(e,"discover_metadata")&&Object(s.get)(e,"site_ID")!==Object(o.a)("discover_blog_id"))}function b(e){return function(e,t){const n=Object(s.get)(e,"discover_metadata.discover_fp_post_formats");return!(!n||!Object(s.find)(n,{slug:t}))}(e,"site-pick")}function g(e){return!!Object(s.get)(e,"discover_metadata.featured_post_wpcom_data")}function h(e){const t=Object(s.get)(e,"discover_metadata.featured_post_wpcom_data.blog_id");return t?Object(u.e)(t):Object(s.get)(e,"discover_metadata.permalink")}function f(e){return Object(s.get)(e,"discover_metadata.attribution.blog_name")}function S(e){const t=Object(s.get)(e,"discover_metadata.featured_post_wpcom_data");return t?{blogId:Object(s.get)(t,"blog_id"),postId:Object(s.get)(t,"post_id")}:{}}function O(e){const t=r.a.parse(e),n=Object(s.get)(t,"hostname"),i=n&&n!==window.location.hostname;return{rel:i?"external":"",target:i?"_blank":""}}function j(e){let t;if(E(e))return!(t=Object(s.get)(e,"discover_metadata.attribution.blog_url"))&&b(e)&&(t=Object(s.get)(e,"discover_metadata.permalink")),t||""}},"./client/reader/post-key.js":function(e,t,n){"use strict";function s(e){if(e)return e.feed_ID&&e.feed_item_ID?{feedId:e.feed_ID,postId:e.feed_item_ID}:e.is_external?{feedId:e.feed_ID||e.site_ID,postId:e.feed_item_ID||e.ID}:{blogId:e.site_ID,postId:e.ID}}function i(e,t){return e===t||!(!e&&t||e&&!t||!e&&!t&&e!==t)&&(!(e.isGap&&!t.isGap||!e.isGap&&t.isGap)&&(e.isGap&&t.isGap?e.from===t.from&&e.to===t.to:e.postId===t.postId&&(e.feedId?e.feedId===t.feedId:e.blogId===t.blogId)))}function r(e){if(!e||e.isGap)return null;if(e.isCombination){const t=e.feedId?"&feedId=".concat(e.feedId):"",n=e.blogId?"&feedId=".concat(e.blogId):"",s=e.postIds.join(",");return"postIds=[".concat(s,", ]").concat(t).concat(n," ")}return e.isRecommendationBlock?"rec-".concat(e.index):e.feedId?"".concat(e.postId,"-").concat(e.feedId):e.blogId?"".concat(e.postId,"-").concat(e.blogId):null}function o(e){return e&&e.postId&&(e.blogId||e.feedId)}n.d(t,"b",function(){return s}),n.d(t,"d",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o})},"./client/reader/route/index.js":function(e,t,n){"use strict";n.d(t,"d",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"f",function(){return m}),n.d(t,"g",function(){return _}),n.d(t,"h",function(){return E}),n.d(t,"b",function(){return b});var s=n("./client/config/index.js");const i="/read/feeds/",r="/read/blogs/",o=Object(s.a)("discover_blog_id"),a={[Object(s.a)("discover_feed_id")]:"/discover"},c={[o]:"/discover"};function l(e){return c[e]}function u(e){return a[e]}function d(e){return l(e)||r+e}function p(e){return u(e)||i+e}function m(e,t){return e?p(e):d(t)}function _(e){return e.feed_ID?p(e.feed_ID):d(e.site_ID)}function E(e){return"/tag/".concat(e)}function b(e){return e.feed_ID&&e.feed_item_ID?"/read/feeds/".concat(e.feed_ID,"/posts/").concat(e.feed_item_ID):e.is_external?"/read/feeds/".concat(e.feed_ID,"/posts/").concat(e.ID):"/read/blogs/".concat(e.site_ID,"/posts/").concat(e.ID)}},"./client/reader/stats.js":function(e,t,n){"use strict";n.r(t),n.d(t,"recordAction",function(){return u}),n.d(t,"recordGaEvent",function(){return d}),n.d(t,"recordPermalinkClick",function(){return p}),n.d(t,"recordTrack",function(){return _}),n.d(t,"recordTracksRailcar",function(){return b}),n.d(t,"recordTracksRailcarRender",function(){return g}),n.d(t,"recordTracksRailcarInteract",function(){return h}),n.d(t,"recordTrackForPost",function(){return f}),n.d(t,"getTracksPropertiesForPost",function(){return S}),n.d(t,"recordTrackWithRailcar",function(){return O}),n.d(t,"pageViewForPost",function(){return j}),n.d(t,"recordFollow",function(){return T}),n.d(t,"recordUnfollow",function(){return y});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/debug/src/browser.js"),a=n.n(o),c=n("./client/lib/analytics/index.js");const l=a()("calypso:reader:stats");function u(e){l("reader action",e),c.mc.bumpStat("reader_actions",e)}function d(e,t,n){l("reader ga event",...arguments),c.ga.recordEvent("Reader",e,t,n)}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};c.mc.bumpStat({reader_actions:"visited_post_permalink",reader_permalink_source:e}),d("Clicked Post Permalink",e);n=Object.assign({source:e},n),t?f("calypso_reader_permalink_click",t,n):_("calypso_reader_permalink_click",n)}function m(e){return void 0===e||""===e?"unknown":"/"===e?"following":0===e.indexOf("/read/a8c")?"following_a8c":0===e.indexOf("/tag/")?"topic_page":e.match(/^\/read\/(blogs|feeds)\/([0-9]+)\/posts\/([0-9]+)$/i)?"single_post":e.match(/^\/read\/(blogs|feeds)\/([0-9]+)$/i)?"blog_page":0===e.indexOf("/read/list/")?"list":0===e.indexOf("/activities/likes")?"postlike":0===e.indexOf("/recommendations/mine")?"recommended_foryou":0===e.indexOf("/following/edit")?"following_edit":0===e.indexOf("/following/manage")?"following_manage":0===e.indexOf("/discover")?"discover":0===e.indexOf("/read/recommendations/posts")?"recommended_posts":0===e.indexOf("/read/search")?"search":0===e.indexOf("/read/conversations/a8c")?"conversations_a8c":0===e.indexOf("/read/conversations")?"conversations":"unknown"}function _(e,t){let n=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).pathnameOverride;l("reader track",...arguments);const s=m(n||window.location.pathname);t=Object.assign({ui_algo:s},t),t=Object.assign({subscription_count:0},t),c.tracks.recordEvent(e,t)}const E=new Set;function b(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};_(e,Object.assign(t?{action:t.replace("calypso_reader_","")}:{},n,s))}E.add("calypso_reader_related_post_from_same_site_clicked").add("calypso_reader_related_post_from_other_site_clicked").add("calypso_reader_related_post_site_clicked").add("calypso_reader_article_liked").add("calypso_reader_article_commented_on").add("calypso_reader_article_opened").add("calypso_reader_searchcard_clicked").add("calypso_reader_author_link_clicked").add("calypso_reader_permalink_click").add("calypso_reader_recommended_post_clicked").add("calypso_reader_recommended_site_clicked").add("calypso_reader_recommended_post_dismissed");const g=Object(r.partial)(b,"calypso_traintracks_render"),h=Object(r.partial)(b,"calypso_traintracks_interact");function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3?arguments[3]:void 0;_(e,Object(r.assign)(S(t),n),s),t.railcar&&E.has(e)&&h(e,t.railcar,Object(r.pick)(n,["ui_position","ui_algo"]))}function S(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{blog_id:!e.is_external&&e.site_ID>0?e.site_ID:void 0,post_id:!e.is_external&&e.ID>0?e.ID:void 0,feed_id:e.feed_ID>0?e.feed_ID:void 0,feed_item_id:e.feed_item_ID>0?e.feed_item_ID:void 0,is_jetpack:e.is_jetpack}}function O(e,t,n){_(e,n),h(e,t,Object(r.pick)(n,["ui_position","ui_algo"]))}function j(e,t,n,s){if(!e||!t||!n)return;const i={ref:"http://wordpress.com/",reader:1,host:t.replace(/.*?:\/\//g,""),blog:e,post:n};s&&(i.priv=1),l("reader page view for post",i),c.mc.bumpStatWithPageView(i)}function T(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=n.source||m(window.location.pathname);c.mc.bumpStat("reader_follows",s),u("followed_blog"),d("Clicked Follow Blog",s),_("calypso_reader_site_followed",i()({url:e,source:s},n)),t&&h("site_followed",t)}function y(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=m(window.location.pathname);c.mc.bumpStat("reader_unfollows",s),u("unfollowed_blog"),d("Clicked Unfollow Blog",s),_("calypso_reader_site_unfollowed",i()({url:e,source:s},n)),t&&h("site_unfollowed",t)}},"./client/reader/stream/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"c",function(){return m});var s=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/moment/moment.js"),r=n.n(i),o=n("./client/reader/discover/helper.js");const a=2;function c(e,t){return e&&t&&e.xPostMetadata&&t.xPostMetadata&&e.xPostMetadata.blogId&&e.xPostMetadata.blogId===t.xPostMetadata.blogId&&e.xPostMetadata.postId&&e.xPostMetadata.postId===t.xPostMetadata.postId}const l=e=>e.reduce((e,t)=>{const n=Object(s.last)(e);return!function(e,t){return e&&t&&!e.isRecommendationBlock&&!t.isRecommendationBlock&&(e.blogId&&e.blogId===t.blogId||e.feedId&&e.feedId===t.feedId)}(n,t)||!function(e,t){return r()(e.date).isSame(t.date,"day")}(n,t)||function(e){return Object(o.g)(e.blogId)||Object(o.i)(e.feedId)}(t)?e.push(t):e[e.length-1]=function(e,t){if(!e||!t)return null;const n={isCombination:!0,date:e.date&&e.date<t.date?e.date:t.date,postIds:[...e.postIds||[e.postId],...t.postIds||[t.postId]]};return e.blogId&&(n.blogId=e.blogId),e.feedId&&(n.feedId=e.feedId),n}(Object(s.last)(e),t),e},[]);function u(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2?arguments[2]:void 0;if(!t||0===t.length)return e;if(e.length<n)return e;let i=0;return Object(s.flatMap)(e,(e,s)=>{if(s&&s%n==0&&i<t.length){const n={isRecommendationBlock:!0,recommendations:t.slice(i,i+a),index:i};return i+=a,[n,e]}return e})}const d=4,p=30;function m(e){if(e<=0)return p;return Object(s.clamp)(Math.floor(Math.log(e)*Math.LOG2E*5-6),d,p)}},"./client/sections-helper.js":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c});var s=n("./node_modules/lodash/lodash.js");let i=null;function r(e){i=e}function o(){if(!i)throw new Error("sections-helper has not been initialized yet");return i}function a(e){const t=Object(s.find)(i,{name:e});t&&t.load()}function c(e,t){const n=Object(s.find)(i,{name:e,module:t});return n?Promise.resolve(n.load()):Promise.reject("Attempting to load non-existent section: ".concat(e," (module=").concat(t,")"))}},"./client/sections.js":function(e,t,n){e.exports=[{name:"sites",paths:["/sites"],module:"my-sites",group:"sites",secondary:!0,load:function(){return Promise.all([n.e(151),n.e(62),n.e(82),n.e(160)]).then(n.bind(null,"./client/my-sites/index.js"))}},{name:"customize",paths:["/customize"],module:"my-sites/customize",group:"sites",secondary:!0,load:function(){return Promise.all([n.e(190),n.e(151),n.e(62),n.e(82),n.e(149),n.e(147),n.e(135)]).then(n.bind(null,"./client/my-sites/customize/index.js"))}},{name:"me",paths:["/me"],module:"me",group:"me",secondary:!0,load:function(){return Promise.all([n.e(207),n.e(218),n.e(20),n.e(107),n.e(350),n.e(67)]).then(n.bind(null,"./client/me/index.js"))}},{name:"account",paths:["/me/account"],module:"me/account",group:"me",secondary:!0,load:function(){return Promise.all([n.e(181),n.e(207),n.e(218),n.e(212),n.e(20),n.e(107),n.e(350),n.e(127),n.e(129),n.e(10)]).then(n.bind(null,"./client/me/account/index.js"))}},{name:"account-close",paths:["/me/account/close"],module:"me/account-close",group:"me",secondary:!0,load:function(){return Promise.all([n.e(207),n.e(218),n.e(149),n.e(20),n.e(107),n.e(350),n.e(44)]).then(n.bind(null,"./client/me/account-close/index.js"))}},{name:"activity",paths:["/activity-log"],module:"my-sites/activity",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(178),n.e(379),n.e(211),n.e(151),n.e(62),n.e(82),n.e(176),n.e(104),n.e(46),n.e(351),n.e(156),n.e(157)]).then(n.bind(null,"./client/my-sites/activity/index.js"))}},{name:"security",paths:["/me/security"],module:"me/security",group:"me",secondary:!0,load:function(){return Promise.all([n.e(181),n.e(207),n.e(218),n.e(215),n.e(196),n.e(20),n.e(107),n.e(350),n.e(134)]).then(n.bind(null,"./client/me/security/index.js"))}},{name:"privacy",paths:["/me/privacy"],module:"me/privacy",group:"me",secondary:!0,load:function(){return Promise.all([n.e(207),n.e(218),n.e(20),n.e(107),n.e(350),n.e(64)]).then(n.bind(null,"./client/me/privacy/index.js"))}},{name:"purchases",paths:["/me/purchases","/purchases","/me/billing","/payment-methods/add-credit-card"],module:"me/purchases",group:"me",secondary:!0,load:function(){return Promise.all([n.e(181),n.e(207),n.e(218),n.e(191),n.e(202),n.e(151),n.e(62),n.e(82),n.e(149),n.e(20),n.e(107),n.e(350),n.e(147),n.e(219),n.e(140),n.e(11)]).then(n.bind(null,"./client/me/purchases/index.js"))}},{name:"notification-settings",paths:["/me/notifications"],module:"me/notification-settings",group:"me",secondary:!0,load:function(){return Promise.all([n.e(207),n.e(218),n.e(20),n.e(107),n.e(350),n.e(63)]).then(n.bind(null,"./client/me/notification-settings/index.js"))}},{name:"site-blocks",paths:["/me/site-blocks"],module:"me/site-blocks",group:"me",secondary:!0,load:function(){return Promise.all([n.e(207),n.e(218),n.e(20),n.e(107),n.e(350),n.e(115),n.e(66)]).then(n.bind(null,"./client/me/site-blocks/index.js"))}},{name:"concierge",paths:["/me/concierge"],module:"me/concierge",group:"me",secondary:!1,load:function(){return Promise.all([n.e(181),n.e(178),n.e(151),n.e(62),n.e(82),n.e(108)]).then(n.bind(null,"./client/me/concierge/index.js"))}},{name:"media",paths:["/media"],module:"my-sites/media",group:"sites",secondary:!0,load:function(){return Promise.all([n.e(199),n.e(151),n.e(62),n.e(82),n.e(20),n.e(40),n.e(28),n.e(70)]).then(n.bind(null,"./client/my-sites/media/index.js"))}},{name:"people",paths:["/people"],module:"my-sites/people",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(220),n.e(151),n.e(62),n.e(82),n.e(139),n.e(6)]).then(n.bind(null,"./client/my-sites/people/index.js"))}},{name:"plugins",paths:["/plugins"],module:"my-sites/plugins",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(188),n.e(151),n.e(62),n.e(82),n.e(149),n.e(133),n.e(147),n.e(47),n.e(14),n.e(16),n.e(352)]).then(n.bind(null,"./client/my-sites/plugins/index.js"))}},{name:"posts-pages",paths:["/pages"],module:"my-sites/pages",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(151),n.e(62),n.e(82),n.e(133),n.e(40),n.e(88),n.e(382),n.e(116)]).then(n.bind(null,"./client/my-sites/pages/index.js"))}},{name:"posts-pages",paths:["/posts"],module:"my-sites/posts",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(151),n.e(62),n.e(82),n.e(133),n.e(40),n.e(88),n.e(382),n.e(116)]).then(n.bind(null,"./client/my-sites/posts/index.js"))}},{name:"settings-performance",paths:["/settings/performance"],module:"my-sites/site-settings/settings-performance",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(151),n.e(62),n.e(82),n.e(133),n.e(74),n.e(29)]).then(n.bind(null,"./client/my-sites/site-settings/settings-performance/index.js"))}},{name:"settings-writing",paths:["/settings/writing","/settings/taxonomies","/settings/podcasting"],module:"my-sites/site-settings/settings-writing",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(178),n.e(195),n.e(200),n.e(151),n.e(62),n.e(82),n.e(133),n.e(74),n.e(131),n.e(38)]).then(n.bind(null,"./client/my-sites/site-settings/settings-writing/index.js"))}},{name:"settings-discussion",paths:["/settings/discussion"],module:"my-sites/site-settings/settings-discussion",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(151),n.e(62),n.e(82),n.e(133),n.e(74),n.e(75)]).then(n.bind(null,"./client/my-sites/site-settings/settings-discussion/index.js"))}},{name:"settings-security",paths:["/settings/security"],module:"my-sites/site-settings/settings-security",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(151),n.e(62),n.e(82),n.e(133),n.e(74),n.e(80),n.e(177)]).then(n.bind(null,"./client/my-sites/site-settings/settings-security/index.js"))}},{name:"settings",paths:["/settings"],module:"my-sites/site-settings",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(178),n.e(192),n.e(151),n.e(62),n.e(82),n.e(149),n.e(133),n.e(147),n.e(139),n.e(74),n.e(127),n.e(14),n.e(5)]).then(n.bind(null,"./client/my-sites/site-settings/index.js"))}},{name:"marketing",paths:["/marketing","/sharing"],module:"my-sites/marketing",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(186),n.e(151),n.e(62),n.e(82),n.e(149),n.e(133),n.e(74),n.e(39)]).then(n.bind(null,"./client/my-sites/marketing/index.js"))}},{name:"jetpack-connect",paths:["/jetpack"],module:"jetpack-connect",secondary:!1,enableLoggedOut:!0,load:function(){return Promise.all([n.e(181),n.e(192),n.e(151),n.e(62),n.e(82),n.e(149),n.e(107),n.e(78),n.e(92),n.e(130),n.e(34),n.e(105),n.e(356)]).then(n.bind(null,"./client/jetpack-connect/index.js"))}},{name:"jetpack-onboarding",paths:["/jetpack/start"],module:"jetpack-onboarding",secondary:!1,enableLoggedOut:!0,load:function(){return n.e(76).then(n.bind(null,"./client/jetpack-onboarding/index.js"))}},{name:"signup",paths:["/start"],module:"signup",secondary:!1,enableLoggedOut:!0,isomorphic:!0,load:function(){return Promise.all([n.e(193),n.e(149),n.e(154),n.e(83)]).then(n.bind(null,"./client/signup/index.web.js"))}},{name:"stats",paths:["/stats"],module:"my-sites/stats",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(178),n.e(379),n.e(211),n.e(197),n.e(151),n.e(62),n.e(82),n.e(176),n.e(104),n.e(46),n.e(351),n.e(217),n.e(156),n.e(19),n.e(15)]).then(n.bind(null,"./client/my-sites/stats/index.js"))}},{name:"checklist",paths:["/checklist"],module:"my-sites/checklist",secondary:!0,group:"checklist",load:function(){return Promise.all([n.e(151),n.e(62),n.e(82),n.e(81)]).then(n.bind(null,"./client/my-sites/checklist/index.js"))}},{name:"google-my-business",paths:["/google-my-business"],module:"my-sites/google-my-business",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(210),n.e(209),n.e(151),n.e(62),n.e(82),n.e(357),n.e(19),n.e(35)]).then(n.bind(null,"./client/my-sites/google-my-business/index.js"))}},{name:"themes",paths:["/themes","/design"],module:"my-sites/themes",enableLoggedOut:!0,secondary:!0,group:"sites",isomorphic:!0,title:"Themes",load:function(){return Promise.all([n.e(181),n.e(190),n.e(151),n.e(62),n.e(82),n.e(149),n.e(147),n.e(50),n.e(16),n.e(42)]).then(n.bind(null,"./client/my-sites/themes/index.web.js"))}},{name:"theme",paths:["/theme"],module:"my-sites/theme",enableLoggedOut:!0,secondary:!1,group:"sites",isomorphic:!0,title:"Themes",load:function(){return Promise.all([n.e(190),n.e(151),n.e(62),n.e(82),n.e(149),n.e(147),n.e(50),n.e(84)]).then(n.bind(null,"./client/my-sites/theme/index.web.js"))}},{name:"domains",paths:["/domains"],module:"my-sites/domains",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(191),n.e(202),n.e(151),n.e(62),n.e(82),n.e(149),n.e(139),n.e(219),n.e(158),n.e(141),n.e(110),n.e(73),n.e(87),n.e(90),n.e(91)]).then(n.bind(null,"./client/my-sites/domains/index.js"))}},{name:"email",paths:["/email"],module:"my-sites/email",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(202),n.e(189),n.e(151),n.e(62),n.e(82),n.e(149),n.e(158),n.e(110),n.e(90),n.e(358)]).then(n.bind(null,"./client/my-sites/email/index.js"))}},{name:"checkout",paths:["/checkout"],module:"my-sites/checkout",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(218),n.e(191),n.e(202),n.e(215),n.e(151),n.e(62),n.e(82),n.e(149),n.e(147),n.e(78),n.e(219),n.e(158),n.e(140),n.e(110),n.e(87),n.e(61),n.e(154),n.e(30)]).then(n.bind(null,"./client/my-sites/checkout/index.js"))}},{name:"plans",paths:["/plans"],module:"my-sites/plans",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(187),n.e(151),n.e(62),n.e(82),n.e(149),n.e(78),n.e(92),n.e(158),n.e(130),n.e(141),n.e(61),n.e(49)]).then(n.bind(null,"./client/my-sites/plans/index.js"))}},{name:"accept-invite",paths:["/accept-invite"],module:"my-sites/invites",enableLoggedOut:!0,load:function(){return Promise.all([n.e(220),n.e(107),n.e(34),n.e(128)]).then(n.bind(null,"./client/my-sites/invites/index.js"))}},{name:"earn",paths:["/earn","/ads"],module:"my-sites/earn",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(197),n.e(151),n.e(62),n.e(82),n.e(133),n.e(78),n.e(109)]).then(n.bind(null,"./client/my-sites/earn/index.js"))}},{name:"mailing-lists",paths:["/mailing-lists/unsubscribe"],module:"mailing-lists",enableLoggedOut:!0,load:function(){return n.e(155).then(n.bind(null,"./client/mailing-lists/index.js"))}},{name:"feature-upsell",paths:["/feature"],module:"my-sites/feature-upsell",group:"sites",secondary:!0,load:function(){return Promise.all([n.e(151),n.e(62),n.e(82),n.e(72)]).then(n.bind(null,"./client/my-sites/feature-upsell/index.js"))}},{name:"post-editor",paths:["/post","/page","/edit"],module:"post-editor",group:"editor",secondary:!0,load:function(){return Promise.all([n.e(181),n.e(178),n.e(379),n.e(198),n.e(211),n.e(195),n.e(203),n.e(381),n.e(205),n.e(204),n.e(194),n.e(151),n.e(62),n.e(82),n.e(133),n.e(20),n.e(139),n.e(40),n.e(28),n.e(33)]).then(n.bind(null,"./client/post-editor/index.js"))}},{name:"account-recovery",paths:["/account-recovery"],module:"account-recovery",secondary:!1,enableLoggedOut:!0,load:function(){return n.e(359).then(n.bind(null,"./client/account-recovery/index.js"))}},{name:"reader",paths:["/","/read"],module:"reader",secondary:!0,group:"reader",load:function(){return Promise.all([n.e(151),n.e(45),n.e(13),n.e(115),n.e(58)]).then(n.bind(null,"./client/reader/index.js"))}},{name:"reader",paths:["/read/feeds/[^\\/]+","/read/blogs/[^\\/]+","/read/a8c"],module:"reader",secondary:!0,group:"reader",load:function(){return Promise.all([n.e(151),n.e(45),n.e(13),n.e(115),n.e(58)]).then(n.bind(null,"./client/reader/index.js"))}},{name:"reader",paths:["/read/feeds/[^\\/]+/posts/[^\\/]+","/read/blogs/[^\\/]+/posts/[^\\/]+"],module:"reader/full-post",secondary:!1,group:"reader",load:function(){return Promise.all([n.e(151),n.e(45),n.e(13),n.e(115),n.e(58)]).then(n.bind(null,"./client/reader/full-post/index.js"))}},{name:"reader",paths:["/discover"],module:"reader/discover",secondary:!0,group:"reader",load:function(){return Promise.all([n.e(151),n.e(45),n.e(13),n.e(115),n.e(58)]).then(n.bind(null,"./client/reader/discover/index.js"))}},{name:"reader",paths:["/following"],module:"reader/following",secondary:!0,group:"reader",load:function(){return Promise.all([n.e(151),n.e(45),n.e(13),n.e(115),n.e(58)]).then(n.bind(null,"./client/reader/following/index.js"))}},{name:"reader",paths:["/tags","/tag"],module:"reader/tag-stream",secondary:!0,group:"reader",load:function(){return Promise.all([n.e(151),n.e(45),n.e(13),n.e(115),n.e(58)]).then(n.bind(null,"./client/reader/tag-stream/index.js"))}},{name:"reader",paths:["/activities"],module:"reader/liked-stream",secondary:!0,group:"reader",load:function(){return Promise.all([n.e(151),n.e(45),n.e(13),n.e(115),n.e(58)]).then(n.bind(null,"./client/reader/liked-stream/index.js"))}},{name:"reader",paths:["/read/search","/recommendations"],module:"reader/search",secondary:!0,group:"reader",load:function(){return Promise.all([n.e(151),n.e(45),n.e(13),n.e(115),n.e(58)]).then(n.bind(null,"./client/reader/search/index.js"))}},{name:"reader",paths:["/read/list"],module:"reader/list",secondary:!0,group:"reader",load:function(){return Promise.all([n.e(151),n.e(45),n.e(13),n.e(115),n.e(58)]).then(n.bind(null,"./client/reader/list/index.js"))}},{name:"reader",paths:["/read/conversations"],module:"reader/conversations",secondary:!0,group:"reader",load:function(){return Promise.all([n.e(151),n.e(45),n.e(13),n.e(115),n.e(58)]).then(n.bind(null,"./client/reader/conversations/index.js"))}},{name:"help",paths:["/help"],module:"me/help",secondary:!0,enableLoggedOut:!0,group:"me",load:function(){return Promise.all([n.e(181),n.e(207),n.e(178),n.e(218),n.e(149),n.e(20),n.e(107),n.e(350),n.e(21),n.e(77),n.e(41)]).then(n.bind(null,"./client/me/help/index.js"))}},{name:"login",paths:["/log-in"],module:"login",enableLoggedOut:!0,secondary:!1,isomorphic:!0,load:function(){return Promise.all([n.e(107),n.e(25)]).then(n.bind(null,"./client/login/index.web.js"))}},{name:"auth",paths:["/oauth-login","/authorize","/api/oauth/token"],module:"auth",secondary:!1,enableLoggedOut:!0,load:function(){return n.e(2).then(n.bind(null,"./client/auth/index.js"))}},{name:"posts-custom",paths:["/types"],module:"my-sites/types",secondary:!0,group:"sites",load:function(){return Promise.all([n.e(181),n.e(151),n.e(62),n.e(82),n.e(133),n.e(40),n.e(88),n.e(382),n.e(162)]).then(n.bind(null,"./client/my-sites/types/index.js"))}},{name:"happychat",paths:["/me/chat"],module:"me/happychat",group:"me",secondary:!0,load:function(){return Promise.all([n.e(207),n.e(218),n.e(20),n.e(107),n.e(350),n.e(65)]).then(n.bind(null,"./client/me/happychat/index.jsx"))}},{name:"comments",paths:["/comments","/comment"],module:"my-sites/comments",group:"sites",secondary:!0,load:function(){return Promise.all([n.e(181),n.e(178),n.e(379),n.e(198),n.e(212),n.e(151),n.e(62),n.e(82),n.e(45),n.e(118),n.e(129),n.e(355)]).then(n.bind(null,"./client/my-sites/comments/index.js"))}},{name:"preview",paths:["/view"],module:"my-sites/preview",group:"sites",secondary:!0,load:function(){return Promise.all([n.e(151),n.e(62),n.e(82),n.e(161)]).then(n.bind(null,"./client/my-sites/preview/index.js"))}},{name:"domain-connect-authorize",paths:["/domain-connect"],module:"my-sites/domains/domain-management/domain-connect",secondary:!1,load:function(){return n.e(57).then(n.bind(null,"./client/my-sites/domains/domain-management/domain-connect/index.jsx"))}},{name:"gutenberg-editor",paths:["/block-editor"],module:"gutenberg/editor",group:"gutenberg",secondary:!1,load:function(){return Promise.all([n.e(181),n.e(203),n.e(183),n.e(151),n.e(62),n.e(82),n.e(20),n.e(40),n.e(28),n.e(89),n.e(71)]).then(n.bind(null,"./client/gutenberg/editor/index.js"))}},{name:"devdocs",paths:["/devdocs"],module:"devdocs",secondary:!0,enableLoggedOut:!0,load:function(){return Promise.all([n.e(213),n.e(113)]).then(n.bind(null,"./client/devdocs/index.js"))}},{name:"devdocs",paths:["/devdocs/start"],module:"devdocs",secondary:!1,enableLoggedOut:!0,load:function(){return Promise.all([n.e(213),n.e(113)]).then(n.bind(null,"./client/devdocs/index.js"))}},{name:"hello-dolly",paths:["/hello-dolly"],module:"hello-dolly",group:"sites",secondary:!0,enableLoggedOut:!0,envId:["development","wpcalypso"],load:function(){return Promise.all([n.e(151),n.e(62),n.e(82),n.e(54)]).then(n.bind(null,"./client/extensions/hello-dolly/index.js"))}},{name:"sensei",paths:["/extensions/sensei"],module:"sensei",group:"sites",secondary:!0,envId:["development","wpcalypso"],load:function(){return Promise.all([n.e(151),n.e(62),n.e(82),n.e(55)]).then(n.bind(null,"./client/extensions/sensei/index.js"))}},{name:"woocommerce",paths:["/store"],module:"woocommerce",group:"sites",secondary:!0,envId:["development","desktop","wpcalypso","stage","production"],load:function(){return Promise.all([n.e(181),n.e(379),n.e(195),n.e(210),n.e(191),n.e(209),n.e(205),n.e(214),n.e(151),n.e(62),n.e(82),n.e(149),n.e(133),n.e(139),n.e(219),n.e(176),n.e(127),n.e(140),n.e(131),n.e(12)]).then(n.bind(null,"./client/extensions/woocommerce/index.js"))}},{name:"wp-super-cache",paths:["/extensions/wp-super-cache"],settings_path:"/extensions/wp-super-cache",module:"wp-super-cache",group:"sites",secondary:!0,envId:["development","wpcalypso","horizon","stage","production"],load:function(){return Promise.all([n.e(201),n.e(151),n.e(62),n.e(82),n.e(133),n.e(18)]).then(n.bind(null,"./client/extensions/wp-super-cache/index.js"))}},{name:"zoninator",paths:["/extensions/zoninator"],settings_path:"/extensions/zoninator",module:"zoninator",group:"sites",secondary:!0,envId:["development","wpcalypso","stage","production"],load:function(){return Promise.all([n.e(381),n.e(151),n.e(62),n.e(82),n.e(17)]).then(n.bind(null,"./client/extensions/zoninator/index.js"))}}]},"./client/signup/config/flows-pure.js":function(e,t,n){"use strict";n.d(t,"b",function(){return a});var s=n("./node_modules/lodash/lodash.js"),i=n("./packages/i18n-calypso/dist/esm/index.js"),r=n("./client/config/index.js"),o=n("./client/lib/route/index.js");function a(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.getSiteDestination,n=void 0===t?s.noop:t,a=e.getRedirectDestination,c=void 0===a?s.noop:a,l=e.getChecklistDestination,u=void 0===l?s.noop:l;const d={account:{steps:["user"],destination:"/",description:"Create an account without a blog.",lastModified:"2015-07-07",pageTitle:Object(i.translate)("Create an account")},business:{steps:["user","about","plans-business","themes","domains"],destination:n,description:"Create an account and a blog and then add the business plan to the users cart.",lastModified:"2019-03-04",meta:{skipBundlingPlan:!0}},premium:{steps:["user","about","plans-premium","themes","domains"],destination:n,description:"Create an account and a blog and then add the premium plan to the users cart.",lastModified:"2019-03-04",meta:{skipBundlingPlan:!0}},personal:{steps:["user","about","plans-personal","themes","domains"],destination:n,description:"Create an account and a blog and then add the personal plan to the users cart.",lastModified:"2019-03-04"},free:{steps:["user","about","themes","domains"],destination:n,description:"Create an account and a blog and default to the free plan.",lastModified:"2018-01-24"},blog:{steps:["user","blog-themes","domains","plans"],destination:n,description:"Signup flow starting with blog themes",lastModified:"2017-09-01"},website:{steps:["user","website-themes","domains","plans"],destination:n,description:"Signup flow starting with website themes",lastModified:"2017-09-01"},"rebrand-cities":{steps:["rebrand-cities-welcome","user"],destination:function(e){return"/plans/select/business/"+e.siteSlug},description:"Create an account for REBRAND cities partnership",lastModified:"2017-07-01",meta:{skipBundlingPlan:!0}},"with-theme":{steps:["domains-theme-preselected","plans","user"],destination:n,description:"Preselect a theme to activate/buy from an external source",lastModified:"2016-01-27"},main:{steps:["user","about","domains","plans"],destination:u,description:"The current best performing flow in AB tests",lastModified:"2019-04-30"},onboarding:{steps:["user","site-type","site-topic","site-title","domains","plans"],destination:u,description:"The improved onboarding flow.",lastModified:"2019-04-30"},"onboarding-for-business":{steps:["user","site-type","site-topic-with-preview","site-title-with-preview","site-style-with-preview","domains-with-preview","plans"],destination:u,description:"The improved onboarding flow for business site types.",lastModified:"2019-04-30"},"onboarding-dev":{steps:["user","site-type","site-topic-with-preview","site-title-with-preview","site-style-with-preview","domains-with-preview","plans"],destination:u,description:"A temporary flow for holding under-development steps",lastModified:"2019-04-30"},"delta-discover":{steps:["user"],destination:"/",description:"A copy of the `account` flow for the Delta email campaigns. Half of users who go through this flow receive a reader-specific drip email series.",lastModified:"2016-05-03"},"delta-blog":{steps:["about","themes","domains","plans","user"],destination:n,description:"A copy of the `blog` flow for the Delta email campaigns. Half of users who go through this flow receive a blogging-specific drip email series.",lastModified:"2018-01-24"},"delta-site":{steps:["about","themes","domains","plans","user"],destination:n,description:"A copy of the `website` flow for the Delta email campaigns. Half of users who go through this flow receive a website-specific drip email series.",lastModified:"2018-01-24"},desktop:{steps:["about","themes","domains","plans","user"],destination:u,description:"Signup flow for desktop app",lastModified:"2019-04-30"},developer:{steps:["site","user"],destination:"/devdocs/welcome",description:"Signup flow for developers in developer environment",lastModified:"2015-11-23"},"pressable-nux":{steps:["creds-permission","creds-confirm","creds-complete"],destination:"/stats",description:"Allow new Pressable users to grant permission to server credentials",lastModified:"2017-11-20",disallowResume:!0,allowContinue:!1,hideFlowProgress:!0},"rewind-switch":{steps:["rewind-migrate","rewind-were-backing"],destination:"/activity-log",description:"Allows users with Jetpack plan with VaultPress credentials to migrate credentials",lastModified:"2018-01-27",disallowResume:!0,allowContinue:!1,hideFlowProgress:!0},"rewind-setup":{steps:["rewind-add-creds","rewind-form-creds","rewind-were-backing"],destination:"/activity-log",description:"Allows users with Jetpack plan to setup credentials",lastModified:"2018-01-27",disallowResume:!0,allowContinue:!1,hideFlowProgress:!0},"rewind-auto-config":{steps:["creds-permission","creds-confirm","rewind-were-backing"],destination:"/activity-log",description:"Allow users of sites that can auto-config to grant permission to server credentials",lastModified:"2018-02-13",disallowResume:!0,allowContinue:!1,hideFlowProgress:!0}};return r.a.isEnabled("rewind/clone-site")&&(d["clone-site"]={steps:["clone-start","clone-destination","clone-credentials","clone-point","clone-ready","clone-cloning"],destination:"/activity-log",description:"Allow Jetpack users to clone a site via Rewind (alternate restore)",lastModified:"2018-05-28",disallowResume:!0,allowContinue:!1}),r.a.isEnabled("signup/atomic-store-flow")&&(d.ecommerce={steps:["user","about","domains","plans"],destination:n,description:"Signup flow for creating an online store with an Atomic site",lastModified:"2018-01-24"},d["ecommerce-onboarding"]={steps:["user","site-type","domains","plans"],destination:n,description:"Signup flow for creating an online store with an Atomic site",lastModified:"2018-11-21"},d["store-woo"]={steps:["domains-store","plans-store-nux","user"],destination:n,description:"Short signup flow for creating an online store with an Atomic site",lastModified:"2018-03-15"}),r.a.isEnabled("signup/wpcc")&&(d.wpcc={steps:["oauth2-user"],destination:c,description:"WordPress.com Connect signup flow",lastModified:"2017-08-24",disallowResume:!0}),d.domain={steps:["domain-only","site-or-domain","site-picker","themes","plans-site-selected","user"],destination:n,description:"An experimental approach for WordPress.com/domains",disallowResume:!0,lastModified:"2017-05-09"},d["site-selected"]={steps:["themes-site-selected","plans-site-selected"],destination:n,providesDependenciesInQuery:["siteSlug","siteId"],description:"A flow to test updating an existing site with `Signup`",lastModified:"2017-01-19"},d.private={steps:["user","site"],destination:u,description:"Test private site signup",lastModified:"2018-10-22"},d["launch-site"]={steps:["domains-launch","plans-launch","launch"],destination:n,description:"A flow to launch a private site.",providesDependenciesInQuery:["siteSlug"],lastModified:"2019-01-16",pageTitle:Object(i.translate)("Launch your site")},d.import={steps:["from-url","user","domains"],destination:e=>{let t=e.importEngine,n=e.importSiteUrl,s=e.siteSlug;return Object(o.a)({engine:t||null,"from-site":n&&encodeURIComponent(n)||null,signup:1},"/settings/import/".concat(s))},description:"A flow to kick off an import during signup",disallowResume:!0,lastModified:"2018-09-12"},d.reader={steps:["reader-landing","user"],destination:"/",description:"Signup for an account and migrate email subs to the Reader.",lastModified:"2018-10-29"},d.crowdsignal={steps:["oauth2-name"],destination:c,description:"Crowdsignal's custom WordPress.com Connect signup flow",lastModified:"2018-11-14",disallowResume:!0,autoContinue:!0},d.name={steps:["displayname","about","domains","plans"],destination:n,description:"Ask for a display name not a user name",lastModified:"2018-12-12"},d["plan-no-domain"]={steps:["user","site","plans"],destination:n,description:"Allow users to select a plan without a domain",lastModified:"2018-12-12"},d}const c=a();t.a=c},"./client/signup/config/steps-pure.js":function(e,t,n){"use strict";n.d(t,"b",function(){return c});var s=n("./node_modules/lodash/lodash.js"),i=n("./packages/i18n-calypso/dist/esm/index.js"),r=n.n(i),o=n("./client/config/index.js"),a=n("./client/lib/plans/constants.js");function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.addPlanToCart,n=void 0===t?s.noop:t,i=e.createAccount,c=void 0===i?s.noop:i,l=e.createSite,u=void 0===l?s.noop:l,d=e.createSiteOrDomain,p=void 0===d?s.noop:d,m=e.createSiteWithCart,_=void 0===m?s.noop:m,E=e.currentPage,b=void 0===E?s.noop:E,g=e.setThemeOnSite,h=void 0===g?s.noop:g,f=e.addDomainToCart,S=void 0===f?s.noop:f,O=e.launchSiteApi,j=void 0===O?s.noop:O,T=e.isPlanFulfilled,y=void 0===T?s.noop:T,I=e.isDomainFulfilled,R=void 0===I?s.noop:I,C=e.isSiteTypeFulfilled,A=void 0===C?s.noop:C,v=e.isSiteTopicFulfilled,N=void 0===v?s.noop:v;return{survey:{stepName:"survey",props:{surveySiteType:b&&b.toString().match(/\/start\/(blog|delta-blog)/)?"blog":"site"},providesDependencies:["surveySiteType","surveyQuestion"]},themes:{stepName:"themes",dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"blog-themes":{stepName:"blog-themes",props:{designType:"blog"},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"website-themes":{stepName:"website-themes",props:{designType:"page"},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"portfolio-themes":{stepName:"portfolio-themes",props:{designType:"grid"},dependencies:["siteSlug"],providesDependencies:["themeSlugWithRepo"]},"themes-site-selected":{stepName:"themes-site-selected",dependencies:["siteSlug","themeSlugWithRepo"],providesDependencies:["themeSlugWithRepo"],apiRequestFunction:h,props:{headerText:r.a.translate("Choose a theme for your new site.")}},"domains-launch":{stepName:"domains-launch",apiRequestFunction:S,fulfilledStepCallback:R,providesDependencies:["domainItem"],props:{isDomainOnly:!1,showExampleSuggestions:!1,includeWordPressDotCom:!1,showSkipButton:!0,headerText:r.a.translate("Getting ready to launch, pick a domain"),subHeaderText:r.a.translate("Select a domain name for your website")},dependencies:["siteSlug"]},"plans-site-selected":{stepName:"plans-site-selected",apiRequestFunction:n,dependencies:["siteSlug"],providesDependencies:["cartItem"]},site:{stepName:"site",apiRequestFunction:u,providesDependencies:["siteSlug"]},"rebrand-cities-welcome":{stepName:"rebrand-cities-welcome",apiRequestFunction:_,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},about:{stepName:"about",providesDependencies:["designType","themeSlugWithRepo","siteTitle","surveyQuestion"]},user:{stepName:"user",apiRequestFunction:c,providesToken:!0,providesDependencies:["bearer_token","username"],unstorableDependencies:["bearer_token"],props:{isSocialSignupEnabled:o.a.isEnabled("signup/social")}},"site-title":{stepName:"site-title",providesDependencies:["siteTitle"]},test:{stepName:"test"},plans:{stepName:"plans",apiRequestFunction:n,dependencies:["siteSlug"],providesDependencies:["cartItem"],fulfilledStepCallback:y},"plans-personal":{stepName:"plans-personal",apiRequestFunction:n,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.tc}},"plans-premium":{stepName:"plans-premium",apiRequestFunction:n,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.vc}},"plans-business":{stepName:"plans-business",apiRequestFunction:n,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],defaultDependencies:{cartItem:a.dc}},"plans-launch":{stepName:"plans-launch",apiRequestFunction:n,fulfilledStepCallback:y,dependencies:["siteSlug"],providesDependencies:["cartItem"],props:{headerText:r.a.translate("Getting ready to launch your website"),subHeaderText:r.a.translate("Pick a plan that's right for you."),fallbackHeaderText:r.a.translate("Almost there, pick a plan that's right for you."),isLaunchPage:!0}},"plans-store-nux":{stepName:"plans-store-nux",apiRequestFunction:n,dependencies:["siteSlug","domainItem"],providesDependencies:["cartItem"]},domains:{stepName:"domains",apiRequestFunction:_,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1},dependencies:["themeSlugWithRepo"],delayApiRequestUntilComplete:!0},"domain-only":{stepName:"domain-only",providesDependencies:["siteId","siteSlug","domainItem"],props:{isDomainOnly:!0}},"domains-store":{stepName:"domains",apiRequestFunction:_,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1,forceDesignType:"store"},delayApiRequestUntilComplete:!0},"domains-theme-preselected":{stepName:"domains-theme-preselected",apiRequestFunction:_,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{isDomainOnly:!1},delayApiRequestUntilComplete:!0},"jetpack-user":{stepName:"jetpack-user",apiRequestFunction:c,providesToken:!0,props:{headerText:r.a.translate("Create an account for Jetpack"),subHeaderText:r.a.translate("You're moments away from connecting Jetpack.")},providesDependencies:["bearer_token","username"]},"oauth2-user":{stepName:"oauth2-user",apiRequestFunction:c,props:{oauth2Signup:!0},providesToken:!0,providesDependencies:["bearer_token","username","oauth2_client_id","oauth2_redirect"]},"oauth2-name":{stepName:"oauth2-name",apiRequestFunction:c,providesToken:!0,providesDependencies:["bearer_token","username","oauth2_client_id","oauth2_redirect"],props:{isSocialSignupEnabled:o.a.isEnabled("signup/social"),oauth2Signup:!0,displayNameInput:!0,displayUsernameInput:!1}},displayname:{stepName:"displayname",apiRequestFunction:c,providesToken:!0,providesDependencies:["bearer_token","username"],unstorableDependencies:["bearer_token"],props:{isSocialSignupEnabled:o.a.isEnabled("signup/social"),displayNameInput:!0,displayUsernameInput:!1}},"site-or-domain":{stepName:"site-or-domain",props:{headerText:r.a.translate("Choose how you want to use your domain."),subHeaderText:r.a.translate("Don't worry you can easily add a site later if you're not ready.")},providesDependencies:["designType","siteId","siteSlug","siteUrl","domainItem","themeSlugWithRepo"]},"site-picker":{stepName:"site-picker",apiRequestFunction:p,props:{headerText:r.a.translate("Choose your site?")},providesDependencies:["siteId","siteSlug","domainItem","themeSlugWithRepo"],dependencies:["cartItem","designType","domainItem","siteUrl","themeSlugWithRepo"],delayApiRequestUntilComplete:!0},"creds-complete":{stepName:"creds-complete",providesDependencies:[]},"creds-confirm":{stepName:"creds-confirm",providesDependencies:["rewindconfig"]},"creds-permission":{stepName:"creds-permission",providesDependencies:["rewindconfig"]},"rewind-migrate":{stepName:"rewind-migrate",providesDependencies:["rewindconfig"]},"rewind-were-backing":{stepName:"rewind-were-backing",providesDependencies:[]},"rewind-add-creds":{stepName:"rewind-add-creds",providesDependencies:[]},"rewind-form-creds":{stepName:"rewind-form-creds",providesDependencies:["rewindconfig"]},"clone-start":{stepName:"clone-start",providesDependencies:["originSiteSlug","originSiteName","originBlogId"]},"clone-destination":{stepName:"clone-destination",providesDependencies:["destinationSiteName","destinationSiteUrl"]},"clone-credentials":{stepName:"clone-credentials",providesDependencies:["roleName"]},"clone-point":{stepName:"clone-point",providesDependencies:["clonePoint"]},"clone-jetpack":{stepName:"clone-jetpack",providesDependencies:["cloneJetpack"]},"clone-ready":{stepName:"clone-ready",providesDependencies:[]},"clone-cloning":{stepName:"clone-cloning",providesDependencies:[]},"from-url":{stepName:"from-url",providesDependencies:["importEngine","importFavicon","importSiteUrl","sitePreviewImageBlob","siteTitle","themeSlugWithRepo"]},"reader-landing":{stepName:"reader-landing",providesDependencies:[]},"site-type":{stepName:"site-type",providesDependencies:["siteType","themeSlugWithRepo"],fulfilledStepCallback:A},"site-topic":{stepName:"site-topic",providesDependencies:["siteTopic"],fulfilledStepCallback:N},"site-title-without-domains":{stepName:"site-title-without-domains",apiRequestFunction:_,delayApiRequestUntilComplete:!0,dependencies:["themeSlugWithRepo"],providesDependencies:["siteTitle","siteId","siteSlug","domainItem","themeItem"],props:{showSiteMockups:!0}},"site-style":{stepName:"site-style",providesDependencies:["siteStyle","themeSlugWithRepo"]},"site-topic-with-preview":{stepName:"site-topic-with-preview",providesDependencies:["siteTopic"],fulfilledStepCallback:N,props:{showSiteMockups:!0}},"site-style-with-preview":{stepName:"site-style-with-preview",providesDependencies:["siteStyle","themeSlugWithRepo"],props:{showSiteMockups:!0}},"domains-with-preview":{stepName:"domains-with-preview",apiRequestFunction:_,providesDependencies:["siteId","siteSlug","domainItem","themeItem"],props:{showSiteMockups:!0,isDomainOnly:!1},dependencies:["themeSlugWithRepo"],delayApiRequestUntilComplete:!0},"site-title-with-preview":{stepName:"site-title-with-preview",providesDependencies:["siteTitle"],props:{showSiteMockups:!0}},launch:{stepName:"launch",apiRequestFunction:j,dependencies:["siteSlug"]}}}const l=c();t.a=l},"./client/state/account-recovery/settings/selectors.js":function(e,t,n){"use strict";n.d(t,"i",function(){return s}),n.d(t,"h",function(){return i}),n.d(t,"f",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"j",function(){return c}),n.d(t,"e",function(){return l}),n.d(t,"g",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"k",function(){return m}),n.d(t,"l",function(){return _});const s=e=>e.accountRecovery.settings.isReady,i=e=>e.accountRecovery.settings.data.phoneValidated,r=e=>e.accountRecovery.settings.data.emailValidated,o=e=>e.accountRecovery.settings.data.email,a=e=>e.accountRecovery.settings.data.phone,c=e=>e.accountRecovery.settings.isValidatingPhone,l=e=>!s(e)||(e=>!!e.accountRecovery.settings.isUpdating.email)(e)||(e=>!!e.accountRecovery.settings.isDeleting.email)(e),u=e=>!s(e)||(e=>!!e.accountRecovery.settings.isUpdating.phone)(e)||(e=>!!e.accountRecovery.settings.isDeleting.phone)(e),d=e=>!!e.accountRecovery.settings.hasSentValidation.email,p=e=>!!e.accountRecovery.settings.hasSentValidation.phone,m=e=>!l(e)&&!!o(e)&&!r(e),_=e=>!u(e)&&!!a(e)&&!i(e)},"./client/state/action-watchers/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./node_modules/lodash/lodash.js");const i=(e,t)=>Object(s.isArray)(e)?e.concat(t):void 0,r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.length>1?Object(s.mergeWith)(Object.create(null),...t,i):t[0]}},"./client/state/activity-log/reducer.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./client/state/utils.js"),o=n("./node_modules/lodash/lodash.js");const a=Object(r.e)("siteId",Object(r.c)({},{REWIND_ACTIVATE_REQUEST:o.stubTrue,REWIND_ACTIVATE_FAILURE:o.stubFalse,REWIND_ACTIVATE_SUCCESS:o.stubFalse})),c=()=>null,l=Object(r.e)("siteId",Object(r.c)({},{REWIND_RESTORE:(e,t)=>{return{errorCode:"",failureReason:"",message:"",percent:0,status:"queued",timestamp:t.timestamp,rewindId:""}},REWIND_RESTORE_DISMISS_PROGRESS:c,REWIND_RESTORE_UPDATE_PROGRESS:(e,t)=>{return{errorCode:t.errorCode,failureReason:t.failureReason,message:t.message,percent:t.percent,restoreId:t.restoreId,status:t.status,timestamp:t.timestamp,rewindId:t.rewindId,context:t.context}},REWIND_RESTORE_DISMISS:c}));l.schema={type:"object",patternProperties:{"^\\d+$":{type:"object",required:["restoreId","status","timestamp"],properties:{errorCode:{type:"string"},failureReason:{type:"string"},message:{type:"string"},percent:{type:"integer"},restoreId:{type:"integer"},status:{type:"string"},timestamp:{type:"integer"},rewindId:{type:"string"}}}},additionalProperties:!1};const u=Object(r.e)("siteId",Object(r.c)(void 0,{REWIND_RESTORE:()=>void 0,REWIND_RESTORE_DISMISS:()=>void 0,REWIND_RESTORE_REQUEST:(e,t)=>{return t.activityId}})),d=Object(r.e)("siteId",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.rewindId;switch(n){case"REWIND_BACKUP_REQUEST":return s;case"REWIND_BACKUP_DISMISS":case"REWIND_BACKUP":return;default:return e}}),p=Object(r.e)("siteId",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"REWIND_BACKUP":return{backupPoint:"",downloadId:0,progress:0,rewindId:t.rewindId,startedAt:"",downloadCount:0,validUntil:"",url:""};case"REWIND_BACKUP_UPDATE_PROGRESS":return{backupPoint:t.backupPoint,downloadId:t.downloadId,progress:t.progress,rewindId:t.rewindId,startedAt:t.startedAt,downloadCount:t.downloadCount,validUntil:t.validUntil,url:t.url};case"REWIND_BACKUP_UPDATE_ERROR":return{backupPoint:t.backupPoint,downloadId:t.downloadId,backupError:t.error,rewindId:t.rewindId,startedAt:t.startedAt};case"REWIND_BACKUP_DISMISS_PROGRESS":case"REWIND_BACKUP_DISMISS":return null;default:return e}});n.d(t,"b",function(){return m});const m={page:1};t.a=Object(r.b)({activationRequesting:a,filter:Object(r.e)("siteId",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,n=t.type,s=t.filter;switch(n){case"ACTIVITY_LOG_FILTER_SET":return i()({},m,s);case"ACTIVITY_LOG_FILTER_UPDATE":return i()({},e,s);default:return e}}),restoreProgress:l,restoreRequest:u,backupProgress:p,backupRequest:d})},"./client/state/activity-log/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o});var s=n("./node_modules/lodash/lodash.js");const i=e=>{const t=!!Object(s.isUndefined)(e.aggregate)||e.aggregate;return Object.assign({},{aggregate:t},e.action&&{action:e.action},e.on&&{on:e.on},e.after&&{after:e.after},e.before&&{before:e.before},e.by&&{by:e.by},e.dateRange&&{date_range:e.dateRange},e.group&&{group:e.group},e.notGroup&&{not_group:e.notGroup},e.name&&{name:e.name},{number:1e3})},r=e=>Object.assign({},e.action&&{action:e.action.join(",")},!Object(s.isUndefined)(e.aggregate)&&{aggregate:e.aggregate},e.backButton&&{back_button:!0},e.on&&{on:e.on},e.after&&{after:e.after},e.before&&{before:e.before},e.by&&{by:e.by},e.dateRange&&{date_range:e.dateRange},e.group&&{group:e.group.join(",")},e.notGroup&&{not_group:e.notGroup.join(",")},e.name&&{name:e.name.join(",")},e.page>1&&{page:e.page}),o=e=>Object.assign({},e.action&&{action:decodeURI(e.action).split(",")},!Object(s.isUndefined)(e.aggregate)&&{aggregate:e.aggregate},e.on&&{on:e.on},e.after&&{after:e.after},e.before&&{before:e.before},e.by&&{by:e.by},e.date_range&&{dateRange:e.date_range},e.name&&{name:decodeURI(e.name).split(",")},e.group&&{group:decodeURI(e.group).split(",")},e.not_group&&{notGroup:decodeURI(e.not_group).split(",")},e.page&&e.page>0&&{page:e.page},e.back_button&&{backButton:!0})},"./client/state/analytics/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return u}),n.d(t,"k",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return _}),n.d(t,"g",function(){return E}),n.d(t,"i",function(){return b}),n.d(t,"f",function(){return g}),n.d(t,"e",function(){return h}),n.d(t,"c",function(){return S}),n.d(t,"j",function(){return j}),n.d(t,"h",function(){return T});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./client/state/ui/oauth2-clients/selectors.js"),a=n("./client/state/ui/selectors.js"),c=n("./client/state/utils.js");const l=(e,t)=>[...Object(r.get)(e,"meta.analytics",[]),...Object(r.get)(t,"meta.analytics",[])],u=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return{type:"ANALYTICS_MULTI_TRACK",meta:{analytics:Object(r.flatMap)(t,Object(r.property)("meta.analytics"))}}},d=Object(r.curry)((e,t)=>Object(r.isFunction)(t)?n=>{n(e),n(t)}:Object(r.merge)({},t,{meta:{analytics:l(e,t)}})),p=(e,t)=>({type:"ANALYTICS_STAT_BUMP",meta:{analytics:[{type:"ANALYTICS_STAT_BUMP",payload:{group:e,name:t}}]}}),m=(e,t)=>({type:"ANALYTICS_EVENT_RECORD",meta:{analytics:[{type:"ANALYTICS_EVENT_RECORD",payload:Object.assign({},{service:e},t)}]}}),_=e=>({type:"ANALYTICS_TRACKING_ON",meta:{analytics:[{type:"ANALYTICS_TRACKING_ON",payload:{trackingTool:e}}]}}),E=(e,t,n,s)=>m("ga",{category:e,action:t,label:n,value:s}),b=(e,t)=>m("tracks",{name:e,properties:t}),g=(e,t)=>m("fb",{name:e,properties:t}),h=e=>m("adwords",{properties:e}),f=function(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return{type:"ANALYTICS_PAGE_VIEW_RECORD",meta:{analytics:[{type:"ANALYTICS_PAGE_VIEW_RECORD",payload:i()({service:n,url:e,title:t},s)}]}}},S=(e,t)=>{const n=Object(a.d)(t());return null!==n&&("ANALYTICS_EVENT_RECORD"===e.type?Object(r.set)(e,"meta.analytics[0].payload.properties.site_type",n.jetpack?"jetpack":"wpcom"):Object(r.set)(e,"meta.analytics[0].payload.site_type",n.jetpack?"jetpack":"wpcom")),e},O=(e,t)=>{const n=Object(o.b)(t());return n&&("ANALYTICS_EVENT_RECORD"===e.type?Object(r.set)(e,"meta.analytics[0].payload.properties.client_id",n):Object(r.set)(e,"meta.analytics[0].payload.client_id",n)),e},j=Object(c.f)(b,O),T=Object(c.f)(f,O)},"./client/state/analytics/middleware.js":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/analytics/index.js"),a=n("./client/lib/analytics/ad-tracking.js");n.d(t,"dispatcher",function(){return u}),n.d(t,"analyticsMiddleware",function(){return d});const c={ga:e=>{let t=e.category,n=e.action,s=e.label,i=e.value;return o.default.ga.recordEvent(t,n,s,i)},tracks:e=>{let t=e.name,n=e.properties;return o.default.tracks.recordEvent(t,n)},fb:e=>{let t=e.name,n=e.properties;return Object(a.l)(t,n)},adwords:e=>{let t=e.properties;return Object(a.k)(t)}},l={ga:e=>{let t=e.url,n=e.title;return o.default.ga.recordPageView(t,n)},default:e=>{let t=e.url,n=e.title,s=i()(e,["url","title"]);return o.default.pageView.record(t,n,s)}},u=(e,t)=>{e.meta.analytics.forEach(e=>{let n=e.type,s=e.payload;const a=s.service,u=void 0===a?"default":a,d=i()(s,["service"]);switch(n){case"ANALYTICS_EVENT_RECORD":return Object(r.invoke)(c,u,d);case"ANALYTICS_PAGE_VIEW_RECORD":return Object(r.invoke)(l,u,d);case"ANALYTICS_STAT_BUMP":return(e=>{let t=e.group,n=e.name;return o.default.mc.bumpStat(t,n)})(d);case"ANALYTICS_TRACKING_ON":return((e,t)=>{"HotJar"!==e.trackingTool||function(e,t){return!!e.analyticsTracking[t]}(t,"HotJar")||o.default.hotjar.addHotJarScript()})(d,t);case"ANALYTICS_TRACKS_OPT_OUT":return(e=>{let t=e.isOptingOut;return o.default.tracks.setOptOut(t)})(d)}})},d=e=>t=>n=>(Object(r.has)(n,"meta.analytics")&&u(n,e.getState()),t(n));t.default=d},"./client/state/audio/middleware.js":function(e,t,n){"use strict";n.r(t),n.d(t,"playSound",function(){return i}),n.d(t,"playSoundForMessageToCustomer",function(){return r}),n.d(t,"handlers",function(){return o});const s=()=>"object"==typeof window&&"function"==typeof window.Audio,i=e=>{if(!s())return;new window.Audio(e).play()},r=(e,t)=>{let n=t.message;n&&"customer"===n.source||i("/calypso/audio/chat-pling.wav")},o=Object.create(null);o.HAPPYCHAT_IO_RECEIVE_MESSAGE=r,t.default=(e=>{let t=e.dispatch;return e=>s()?n=>{const s=o[n.type];return"function"==typeof s&&s(t,n),e(n)}:e})},"./client/state/automated-transfer/actions.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/data-layer/wpcom-http/utils.js"),r=n("./client/state/data-layer/wpcom-http/actions.js"),o=n("./client/state/automated-transfer/constants.js"),a=n("./client/state/analytics/actions.js"),c=n("./client/state/data-layer/handler-registry.js");const l={transfer_already_exists:o.a.TRANSFER_ALREADY_EXISTS,no_business_plan:o.a.NO_BUSINESS_PLAN,no_jetpack_sites:o.a.NO_JETPACK_SITES,no_vip_sites:o.a.NO_VIP_SITES,site_private:o.a.SITE_PRIVATE,site_graylisted:o.a.SITE_GRAYLISTED,non_admin_user:o.a.NON_ADMIN_USER,not_using_custom_domain:o.a.NOT_USING_CUSTOM_DOMAIN,not_domain_owner:o.a.NOT_DOMAIN_OWNER,no_wpcom_nameservers:o.a.NO_WPCOM_NAMESERVERS,not_resolving_to_wpcom:o.a.NOT_RESOLVING_TO_WPCOM,no_ssl_certificate:o.a.NO_SSL_CERTIFICATE,email_unverified:o.a.EMAIL_UNVERIFIED,excessive_disk_space:o.a.EXCESSIVE_DISK_SPACE},u=e=>{let t=e.errors;return(void 0===t?[]:t).map(e=>{let t=e.code;return Object(s.get)(l,t,"")}).filter(s.identity)},d=e=>{let t=e.warnings,n=void 0===t?{}:t;return Object.keys(n).reduce((e,t)=>e.concat(n[t]),[]).map(e=>{let t=e.description;return{name:e.name,description:t,supportUrl:e.support_url}})};Object(c.b)("state/data-layer/wpcom/sites/automated-transfer/eligibility/index.js",{AUTOMATED_TRANSFER_ELIGIBILITY_REQUEST:[Object(i.a)({fetch:e=>Object(r.a)({method:"GET",path:"/sites/".concat(e.siteId,"/automated-transfers/eligibility"),apiVersion:"1"},e),onSuccess:(e,t)=>{let n=e.siteId;return Object(a.k)((e=>{const t=Object(s.get)(e,"is_eligible",!1),n=Object(s.get)(e,"warnings.plugins",[]),i=Object(s.get)(e,"warnings.widgets",[]),r={has_warnings:!(Object(s.isEmpty)(n)&&Object(s.isEmpty)(i)),plugins:Object(s.map)(n,"id").join(","),widgets:Object(s.map)(i,"id").join(",")};return t?Object(a.i)("calypso_automated_transfer_eligibility_eligible",r):(r.holds=u(e).join(","),Object(a.i)("calypso_automated_transfer_eligibility_ineligible",r))})(t),T(n,(e=>({lastUpdate:Date.now(),eligibilityHolds:u(e),eligibilityWarnings:d(e)}))(t)))},onError:()=>{}})]});var p=n("./packages/i18n-calypso/dist/esm/index.js"),m=n("./client/state/notices/actions.js"),_=n("./client/state/plugins/upload/actions.js");const E=e=>"invalid_input"===e.error?Object(m.b)(Object(p.translate)("The uploaded file is not a valid zip.")):"api_success_false"===e.error?Object(m.b)(Object(p.translate)("The uploaded file is not a valid plugin.")):e.error?Object(m.b)(Object(p.translate)("Upload problem: %(error)s.",{args:{error:e.error}})):Object(m.b)(Object(p.translate)("Problem uploading the plugin.")),b=(e,t)=>{let n=e.siteId;return[Object(a.i)("calypso_automated_transfer_inititate_failure",{context:"plugin_upload",error:t.error}),E(t),Object(_.c)(n,t)]};Object(c.b)("state/data-layer/wpcom/sites/automated-transfer/initiate/index.js",{AUTOMATED_TRANSFER_INITIATE_WITH_PLUGIN_ZIP:[Object(i.a)({fetch:e=>{const t=e.siteId,n=e.pluginZip;return[Object(a.i)("calypso_automated_transfer_inititate_transfer",{context:"plugin_upload"}),Object(r.a)({method:"POST",path:"/sites/".concat(t,"/automated-transfers/initiate"),apiVersion:"1",formData:[["plugin_zip",n]]},e)]},onSuccess:(e,t)=>{return!1===t.success?b(e,{error:"api_success_false"}):[Object(a.i)("calypso_automated_transfer_inititate_success",{context:"plugin_upload"}),f(e.siteId)]},onError:b,onProgress:(e,t)=>{let n=e.siteId,s=t.loaded,i=t.total;const r=i?s/i*100:0;return Object(_.d)(n,r)}})]});var g=n("./client/state/sites/actions.js");Object(c.b)("state/data-layer/wpcom/sites/automated-transfer/status/index.js",{AUTOMATED_TRANSFER_STATUS_REQUEST:[Object(i.a)({fetch:e=>Object(r.a)({method:"GET",path:"/sites/".concat(e.siteId,"/automated-transfers/status"),apiVersion:"1"},e),onSuccess:(e,t)=>{let n=e.siteId,i=t.status,r=t.uploaded_plugin_slug,c=t.transfer_id;return e=>{e(S(n,i,r)),i!==o.b.ERROR&&i!==o.b.COMPLETE&&Object(s.delay)(e,3e3,f(n)),i===o.b.COMPLETE&&(e(Object(a.i)("calypso_automated_transfer_complete",{context:"plugin_upload",transfer_id:c,uploaded_plugin_slug:r})),e(Object(g.e)(n)))}},onError:e=>{let t=e.siteId;return O(t)}})]}),n.d(t,"c",function(){return h}),n.d(t,"b",function(){return f}),n.d(t,"e",function(){return S}),n.d(t,"a",function(){return O}),n.d(t,"d",function(){return j}),n.d(t,"f",function(){return T});const h=(e,t)=>({type:"AUTOMATED_TRANSFER_INITIATE_WITH_PLUGIN_ZIP",siteId:e,pluginZip:t}),f=e=>({type:"AUTOMATED_TRANSFER_STATUS_REQUEST",siteId:e}),S=(e,t,n)=>({type:"AUTOMATED_TRANSFER_STATUS_SET",siteId:e,status:t,uploadedPluginId:n}),O=e=>({type:"AUTOMATED_TRANSFER_STATUS_REQUEST_FAILURE",siteId:e}),j=e=>({type:"AUTOMATED_TRANSFER_ELIGIBILITY_REQUEST",siteId:e}),T=(e,t)=>{return{type:"AUTOMATED_TRANSFER_ELIGIBILITY_UPDATE",eligibilityHolds:t.eligibilityHolds,eligibilityWarnings:t.eligibilityWarnings,lastUpdate:t.lastUpdate,siteId:e,status:t.status}}},"./client/state/automated-transfer/constants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i});const s={PENDING:"pending",INQUIRING:"inquiring",FAILURE:"failure",START:"start",SETUP:"setup",CONFLICTS:"conflicts",ACTIVE:"active",UPLOADING:"uploading",BACKFILLING:"backfilling",COMPLETE:"complete",ERROR:"error"},i={TRANSFER_ALREADY_EXISTS:"TRANSFER_ALREADY_EXISTS",NO_BUSINESS_PLAN:"NO_BUSINESS_PLAN",NO_JETPACK_SITES:"NO_JETPACK_SITES",NO_VIP_SITES:"NO_VIP_SITES",SITE_PRIVATE:"SITE_PRIVATE",SITE_GRAYLISTED:"SITE_GRAYLISTED",NON_ADMIN_USER:"NON_ADMIN_USER",NOT_USING_CUSTOM_DOMAIN:"NOT_USING_CUSTOM_DOMAIN",NOT_DOMAIN_OWNER:"NOT_DOMAIN_OWNER",NO_WPCOM_NAMESERVERS:"NO_WPCOM_NAMESERVERS",NOT_RESOLVING_TO_WPCOM:"NOT_RESOLVING_TO_WPCOM",NO_SSL_CERTIFICATE:"NO_SSL_CERTIFICATE",EMAIL_UNVERIFIED:"EMAIL_UNVERIFIED",EXCESSIVE_DISK_SPACE:"EXCESSIVE_DISK_SPACE"}},"./client/state/automated-transfer/selectors.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"d",function(){return a});var s=n("./node_modules/lodash/lodash.js");const i=(e,t)=>Object(s.get)(e,["automatedTransfer",t],{}),r=Object(s.flowRight)(e=>Object(s.get)(e,"status",null),i),o=Object(s.flowRight)(e=>Object(s.get)(e,"eligibility",{lastUpdate:0}),i),a=Object(s.flowRight)(e=>!!Object(s.get)(e,"lastUpdate",0)&&!Object(s.get)(e,"eligibilityHolds",[]).length,o)},"./client/state/comments/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r});const s=50,i={PENDING:"PENDING",ERROR:"ERROR"},r={singleLine:"is-single-line",excerpt:"is-excerpt",full:"is-full"}},"./client/state/comments/reducer.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(r),a=n("./node_modules/lodash/lodash.js"),c=n("./client/state/utils.js"),l=n("./client/state/comments/constants.js");var u=Object(c.e)("siteId",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"COMMENTS_CHANGE_STATUS":return Object(a.map)(e,e=>e.commentId===t.commentId?o()({},e,{status:t.status}):e);case"COMMENTS_DELETE":return Object(a.reject)(e,{commentId:t.commentId});case"COMMENTS_RECEIVE":return Object(a.unionBy)((e=>Object(a.map)(Object(a.reject)(e,e=>{let t=e.ID;return!parseInt(t,10)}),e=>({commentId:Object(a.get)(e,"ID"),commentParentId:Object(a.get)(e,"parent.ID",0),postId:Object(a.get)(e,"post.ID"),status:Object(a.get)(e,"status"),type:Object(a.get)(e,"type","comment")})))(t.comments),e,"commentId");case"COMMENTS_TREE_SITE_ADD":return Object(a.unionBy)(t.tree,Object(a.reject)(e,{status:t.status}),"commentId")}return e}),d=n("./client/state/comments/utils.js");n.d(t,"b",function(){return m});const p=(e,t)=>n=>{if(n.ID!==e)return n;const s=Object(a.has)(t,"i_like")&&Object(a.isUndefined)(t.like_count),i=(e=>Object(a.has)(e,"commentContent")&&Object(a.has)(e,"authorDisplayName")&&Object(a.has)(e,"authorUrl"))(t)?o()({},n,{author:o()({},n.author,{name:t.authorDisplayName,url:t.authorUrl}),content:t.commentContent}):o()({},n,t);return o()({},i,s&&{like_count:t.i_like?n.like_count+1:n.like_count-1})};const m={before:!0,after:!0,hasReceivedBefore:!1,hasReceivedAfter:!1},_=e=>{const t=l.c.full,n=l.c.excerpt,s=l.c.singleLine;switch(e){case t:return 3;case n:return 2;case s:return 1}},E=Object(c.c)({},{READER_EXPAND_COMMENTS:(e,t)=>{const n=t.payload,s=n.siteId,i=n.postId,r=n.commentIds,c=n.displayType;if(!(e=>{const t=e.payload,n=t.siteId,s=t.postId,i=t.commentIds,r=t.displayType;return n&&s&&Object(a.isArray)(i)&&Object(a.includes)(Object(a.values)(l.c),r)})(t))return e;const u=Object(d.e)(s,i),p=e[u]||{},m=Object(a.map)(r,e=>!Object(a.has)(p,e)||_(c)>_(p[e])?c:p[e]),E=Object(a.zipObject)(r,m);return o()({},e,{[u]:Object.assign({},e[u],E)})}}),b=Object(c.c)({},{COMMENTS_RECEIVE:(e,t)=>{const n=t.siteId,s=t.postId,i=t.direction,r=t.commentById,c=Object(d.e)(n,s);if(r)return e;const u="before"===i?"hasReceivedBefore":"hasReceivedAfter",p=o()({},Object(a.get)(e,c,m),{[i]:t.comments.length===l.a,[u]:!0});return Object(a.isEqual)(e[c],p)?e:o()({},e,{[c]:p})}}),g=Object(c.c)({},{COMMENTS_COUNT_RECEIVE:(e,t)=>{const n=Object(d.e)(t.siteId,t.postId);return o()({},e,{[n]:t.totalCommentsCount})},COMMENTS_COUNT_INCREMENT:(e,t)=>{const n=Object(d.e)(t.siteId,t.postId);return o()({},e,{[n]:e[n]+1})}}),h=Object(c.c)({},{COMMENTS_RECEIVE_ERROR:(e,t)=>{let n=t.siteId,s=t.commentId;const i=Object(d.d)(n,s);return e[i]?e:o()({},e,{[i]:{error:!0}})},COMMENTS_WRITE_ERROR:(e,t)=>{let n=t.siteId,s=t.commentId;const i=Object(d.d)(n,s);return e[i]?e:o()({},e,{[i]:{error:!0}})}}),f=Object(c.e)("siteId",Object(c.e)("status",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return"COMMENTS_TREE_SITE_ADD"===(arguments.length>1?arguments[1]:void 0).type||e})),S=Object(c.c)({},{COMMENTS_SET_ACTIVE_REPLY:(e,t)=>{const n=t.payload,s=n.siteId,i=n.postId,r=n.commentId,c=Object(d.e)(s,i);return null===r?Object(a.omit)(e,c):o()({},e,{[c]:r})},COMMENTS_WRITE_ERROR:(e,t)=>{const n=t.siteId,s=t.postId,i=t.parentCommentId,r=Object(d.e)(n,s);return o()({},e,{[r]:i})}});function O(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;const s="unapproved"===t?"pending":t;if(!e||!Object(a.isInteger)(e[s]))return;const i=o()({},e,{[s]:e[s]+n}),r=i.pending,c=i.approved,l=i.spam;return o()({},i,{all:r+c,totalComments:r+c+l})}const j=Object(c.c)({},{COMMENT_COUNTS_UPDATE:(e,t)=>{const n=Object(a.omit)(t,"type"),s=n.siteId,r=n.postId,o=i()(n,["siteId","postId"]);if(!s)return e;const c=s&&r?r:"site",l={[s]:Object.assign({},e[s]||{},{[c]:o})};return Object.assign({},e,l)},COMMENTS_CHANGE_STATUS:(e,t)=>{const n=t.siteId,s=t.postId,i=void 0===s?-1:s,r=t.status,o=Object(a.get)(t,"meta.comment.previousStatus");if(!(n&&r&&e[n]&&o))return e;const c=e[n],l=c.site,u=c[i],d=O(O(l,r,1),o,-1),p=O(O(u,r,1),o,-1),m=Object.assign({},e[n],d&&{site:d},p&&{[i]:p});return Object.assign({},e,{[n]:m})},COMMENTS_DELETE:(e,t)=>{const n=t.siteId,s=t.postId,i=void 0===s?-1:s,r=t.commentId;if(r&&Object(a.startsWith)(r,"placeholder"))return e;const o=Object(a.get)(t,"meta.comment.previousStatus");if(!n||!e[n]||!o)return e;const c=e[n],l=c.site,u=c[i],d=O(l,o,-1),p=O(u,o,-1),m=Object.assign({},e[n],d&&{site:d},p&&{[i]:p});return Object.assign({},e,{[n]:m})},COMMENTS_RECEIVE:(e,t)=>{if("add"!==Object(a.get)(t,"meta.comment.context"))return e;const n=t.siteId,s=t.postId,i=void 0===s?-1:s;if(!n||!e[n])return e;const r=e[n],o=r.site,c=r[i],l=Object(a.get)(t,["comments",0,"status"]),u=O(o,l,1),d=O(c,l,1),p=Object.assign({},e[n],u&&{site:u},d&&{[i]:d});return Object.assign({},e,{[n]:p})}});t.a=Object(c.b)({counts:j,items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=t.type,s=t.siteId,i=t.postId,r=t.commentId,c=t.like_count;if(!s||!i)return e;const u=Object(d.e)(s,i);switch(n){case"COMMENTS_CHANGE_STATUS":const s=t.status;return o()({},e,{[u]:Object(a.map)(e[u],p(r,{status:s}))});case"COMMENTS_EDIT":const i=t.comment;return o()({},e,{[u]:Object(a.map)(e[u],p(r,i))});case"COMMENTS_RECEIVE":const m=t.skipSort,_=Object(a.map)(t.comments,e=>o()({},e,{contiguous:!t.commentById,has_link:Object(d.a)(e.content,e.has_link)})),E=Object(a.unionBy)(e[u],_,"ID");return o()({},e,{[u]:m?E:Object(a.orderBy)(E,d.c,["desc"])});case"COMMENTS_DELETE":return o()({},e,{[u]:Object(a.reject)(e[u],{ID:r})});case"COMMENTS_LIKE":return o()({},e,{[u]:Object(a.map)(e[u],p(r,{i_like:!0,like_count:c}))});case"COMMENTS_UNLIKE":return o()({},e,{[u]:Object(a.map)(e[u],p(r,{i_like:!1,like_count:c}))});case"COMMENTS_RECEIVE_ERROR":case"COMMENTS_WRITE_ERROR":const b=t.error,g=t.errorType;return o()({},e,{[u]:Object(a.map)(e[u],p(r,{placeholderState:l.b.ERROR,placeholderError:b,placeholderErrorType:g}))})}return e},pendingItems:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=t.type,s=t.siteId,i=t.postId;if(!s||!i)return e;const r=Object(d.e)(s,i);switch(n){case"COMMENTS_UPDATES_RECEIVE":const s=Object(a.map)(t.comments,e=>o()({},e,{contiguous:!t.commentById,has_link:Object(d.a)(e.content,e.has_link)})),i=Object(a.unionBy)(e[r],s,"ID");return o()({},e,{[r]:Object(a.orderBy)(i,d.c,["desc"])});case"COMMENTS_RECEIVE":const c=Object(a.map)(t.comments,"ID");return o()({},e,{[r]:Object(a.filter)(e[r],e=>!Object(a.includes)(c,e.ID))})}return e},fetchStatus:b,errors:h,expansions:E,totalCommentsCount:g,trees:u,treesInitialized:f,activeReplies:S})},"./client/state/comments/utils.js":function(e,t,n){"use strict";n.d(t,"e",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"c",function(){return u});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./client/lib/post-normalizer/utils.js");const o=(e,t)=>"".concat(e,"-").concat(t),a=e=>{const t=e.split("-"),n=i()(t,2);return{siteId:+n[0],postId:+n[1]}},c=(e,t)=>"".concat(e,"-").concat(t),l=(e,t)=>{if(void 0!==t)return t;try{return!!Object(r.b)(e).getElementsByTagName("a").length}catch(e){return!1}},u=e=>{let t=e.date;return new Date(t)}},"./client/state/current-user/gravatar-status/selectors.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r});var s=n("./node_modules/lodash/lodash.js");function i(e){return Object(s.get)(e,"currentUser.gravatarStatus.isUploading",!1)}function r(e,t){return e.currentUser.id===t&&Object(s.get)(e,"currentUser.gravatarStatus.tempImage.src",!1)}},"./client/state/data-layer/handler-registry.js":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a});var s=n("./client/state/action-watchers/utils.js");let i={};const r=new Set,o=(e,t)=>{r.has(e)||(r.add(e),i=Object(s.a)(i,t))},a=e=>i[e]},"./client/state/data-layer/http-data.js":function(e,t,n){"use strict";n.d(t,"d",function(){return c}),n.d(t,"c",function(){return d}),n.d(t,"e",function(){return _}),n.d(t,"b",function(){return g}),n.d(t,"f",function(){return h});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(r),a=n("./client/state/data-layer/wpcom-http/utils.js");const c=new Map,l=new Set,u=Object.freeze({state:"uninitialized",data:void 0,error:void 0,lastUpdated:-1/0,pendingSince:void 0}),d=e=>c.get(e)||u,p=(e,t,n)=>{const s=((e,t,n)=>{const s=Date.now(),i=c.get(e),r=void 0!==i;switch(t){case"failure":return c.set(e,{state:t,data:r?i.data:void 0,error:n,lastUpdated:r?i.lastUpdated:-1/0,pendingSince:void 0});case"pending":return c.set(e,{state:t,data:r?i.data:void 0,error:void 0,lastUpdated:r?i.lastUpdated:-1/0,pendingSince:s});case"success":return c.set(e,{state:t,data:n,error:void 0,lastUpdated:s,pendingSince:void 0})}})(e,t,n);return l.forEach(e=>e()),s},m=(e,t)=>(p(e.id,"failure",t),{type:"HTTP_DATA_TICK"});t.a={HTTP_DATA_REQUEST:[Object(a.a)({fetch:e=>(p(e.id,"pending"),[o()({},e.fetch,{onSuccess:e,onFailure:e,onProgress:e}),{type:"HTTP_DATA_TICK"}]),onSuccess:(e,t)=>{const n="function"==typeof e.fromApi&&e.fromApi(),s=n?((e,t)=>{try{return[void 0,t(e)]}catch(e){return[e,void 0]}})(t,n):[void 0,[]],r=i()(s,2),o=r[0],a=r[1];return void 0!==o?m(e,o):(p(e.id,"success",t),a.forEach(e=>{let t=i()(e,2),n=t[0],s=t[1];return p(n,"success",s)}),{type:"HTTP_DATA_TICK"})},onError:m})]};const _=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return"HTTP_DATA_TICK"===(arguments.length>1?arguments[1]:void 0).type?e+1:e};let E,b=[];const g=e=>(function(){const t=e(...arguments);return E=t.dispatch,setTimeout(()=>{b.forEach(E),b=[]},50),t}),h=(e,t,n)=>{let s=n.fromApi,i=n.freshness,r=void 0===i?1/0:i;const o=d(e),a=o.state,c=o.lastUpdated;if("uninitialized"===a||"pending"!==a&&Date.now()-c>r){0;const n={type:"HTTP_DATA_REQUEST",id:e,fetch:"function"==typeof t?t():t,fromApi:"function"==typeof s?s:()=>e=>e};E?E(n):b.push(n)}return o},f=function(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).timeout;return new Promise((n,s)=>{let r=()=>{},a=null;const c=Object.keys(e),u=()=>c.reduce((t,n)=>{let s=i()(t,3),r=s[0],a=s[1],c=s[2];const l=e[n]();return[o()({},r,{[n]:l}),a&&"failure"===l.state,c&&("success"===l.state||"failure"===l.state)]},[{},!0,!0]),d=()=>{const e=u(),t=i()(e,3),o=t[0],c=t[1];t[2]&&(clearTimeout(a),r(),c?s(o):n(o))};t&&(a=setTimeout(()=>{const e=u(),t=i()(e,1)[0];r(),s(t)},t)),r=(e=>(l.add(e),()=>l.delete(e)))(d),d()})};"object"==typeof window&&window.app&&window.app.isDebug&&(window.getHttpData=d,window.httpData=c,window.requestHttpData=h,window.waitForData=f)},"./client/state/data-layer/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/utils.js");const r={meta:{dataLayer:{doBypass:!0}}},o=e=>Object(i.d)(e,r);function a(e,t){return Object(s.isArray)(e)?Object(s.map)(e,e=>a(e,t)):Object(s.isPlainObject)(e)?Object(s.reduce)(e,(e,n,i)=>{const r=t(i),o=Object(s.isObjectLike)(n)?a(n,t):n;return Object(s.set)(e,[r],o)},{}):e}const c=e=>a(e,s.camelCase),l=e=>a(e,s.snakeCase)},"./client/state/data-layer/wpcom-http/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r);const a=function(e){let t=e.apiVersion,n=e.apiNamespace,s=e.body,r=e.method,a=e.path,c=e.query,l=void 0===c?{}:c,u=e.formData,d=e.onSuccess,p=e.onFailure,m=e.onProgress,_=o()(e,["apiVersion","apiNamespace","body","method","path","query","formData","onSuccess","onFailure","onProgress"]),E=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const b=n?{apiNamespace:n}:{apiVersion:t};return{type:"WPCOM_HTTP_REQUEST",body:s,method:r,path:a,query:i()({},l,b),formData:u,onSuccess:d||E,onFailure:p||E,onProgress:m||E,options:_}}},"./client/state/data-layer/wpcom-http/pipeline/retry-on-failure/policies.js":function(e,t,n){"use strict";n.d(t,"b",function(){return s});const s=()=>({name:"NO_RETRY"});t.a=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.delay,n=void 0===t?1e3:t,s=e.maxAttempts,i=void 0===s?3:s;return{name:"EXPONENTIAL_BACKOFF",delay:Math.max(500,n),maxAttempts:Math.min(5,i)}}()},"./client/state/data-layer/wpcom-http/utils.js":function(e,t,n){"use strict";n.d(t,"b",function(){return _}),n.d(t,"c",function(){return b}),n.d(t,"d",function(){return g}),n.d(t,"a",function(){return h});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),o=n.n(r),a=n("./node_modules/json-stable-stringify/index.js"),c=n.n(a),l=n("./node_modules/lodash/lodash.js"),u=n("./client/state/utils.js"),d=n("./client/lib/warn/index.js");const p=e=>Object(l.get)(e,"meta.dataLayer.data",void 0),m=e=>Object(l.get)(e,"meta.dataLayer.error",void 0),_=e=>Object(l.get)(e,"meta.dataLayer.headers",void 0),E=e=>Object(l.get)(e,"meta.dataLayer.progress",void 0),b=e=>{const t=e.meta,n=o()(e,["meta"]),s=Object(l.get)(t,"dataLayer.requestKey");return s||c()(n)},g=Object(u.e)("meta.dataLayer.requestKey",function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=(arguments.length>1?arguments[1]:void 0).meta,n=(t=void 0===t?{}:t).dataLayer,s=(n=void 0===n?{}:n).lastUpdated,r=n.pendingSince,o=n.status;return Object.assign(i()({},e),{status:o},s&&{lastUpdated:s},r&&{pendingSince:r})}),h=(e=>t=>(t.fetch||Object(d.a)("fetch handler is not defined: no request will ever be issued"),t.onSuccess||Object(d.a)("onSuccess handler is not defined: response to the request is being ignored"),t.onError||Object(d.a)("onError handler is not defined: error during the request is being ignored"),e((e,n)=>{const s=function(e,t){const n=e.fetch,s=void 0===n?l.noop:n,i=e.onSuccess,r=void 0===i?l.noop:i,o=e.onError,a=void 0===o?l.noop:o,c=e.onProgress,u=void 0===c?l.noop:c,d=e.fromApi,_=void 0===d?l.identity:d,b=m(t);if(b)return a(t,b);const g=p(t);if(g)try{return r(t,_(g))}catch(e){return a(t,e)}const h=E(t);return h?u(t,h):s(t)}(t,n);if(s)return Array.isArray(s)?s.map(e.dispatch):e.dispatch(s)})))(e=>(t,n)=>{if(!0!==Object(l.get)(n,"meta.dataLayer.trackRequest")||E(n))return e(t,n);const s=b(n),r=(e=>void 0!==m(e)?"failure":void 0!==p(e)?"success":"pending")(n),o=Object.assign({requestKey:s,status:r},"pending"===r?{pendingSince:Date.now()}:{lastUpdated:Date.now()});e(i()({},t,{dispatch:e=>t.dispatch(Object(l.merge)(e,{meta:{dataLayer:o}}))}),n)})},"./client/state/data-layer/wpcom/sites/jitm/index.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./client/state/selectors/get-current-route.js"),a=n("./client/lib/make-json-schema-parser/index.js"),c=n("./client/state/data-layer/wpcom/sites/jitm/schema.json"),l=n("./client/state/jitm/actions.js"),u=n("./client/state/data-layer/wpcom-http/utils.js"),d=n("./client/state/ui/selectors.js"),p=n("./client/state/data-layer/wpcom-http/actions.js"),m=n("./client/state/sites/selectors.js"),_=n("./client/state/data-layer/handler-registry.js");const E={hasInitializedSites:!1,hasInitializedSection:!1,lastSection:null,lastSite:null},b=["/jetpack/connect/user-type","/jetpack/connect/site-type","/jetpack/connect/site-topic"],g=e=>e.replace(/&#(\d+);/g,(e,t)=>String.fromCharCode(t)),h=e=>{return e.data.map(e=>({message:g(e.content.message),description:g(e.content.description),featureClass:e.feature_class,callToAction:g(e.CTA.message),id:e.id}))},f=e=>(t,n)=>{if(!E.hasInitializedSites||!E.hasInitializedSection)return;const s=E.lastSite;if(!Object(m.J)(n(),s))return;const a=Object(o.a)(n());Object(r.some)(b,e=>Object(r.startsWith)(a,e))||t(Object(p.a)({apiNamespace:"rest",method:"GET",path:"/v1.1/jetpack-blogs/".concat(s,"/rest-api/"),query:{path:"/jetpack/v4/jitm",query:JSON.stringify({message_path:"calypso:".concat(E.lastSection,":admin_notices")}),http_envelope:1}},i()({},e,{messagePath:E.lastSection})))},S=(e,t)=>(n,s)=>{const i=e.siteId||e.site_id||Object(d.e)(s());n(Object(l.c)(i,e.messagePath,t))},O=e=>(t,n)=>{const s=e.siteId||e.site_id||Object(d.e)(n());t(Object(l.a)(s,e.messagePath))};Object(_.b)("state/data-layer/wpcom/sites/jitm/index.js",{SECTION_SET:[Object(u.a)({fetch:e=>{const t=Object(r.get)(e,["section","name"]);if(!E.hasInitializedSection||!e.section||E.lastSection!==t){switch(e.isLoading){case!1:return void(E.hasInitializedSection=!0);case!0:return void(E.hasInitializedSection=!1)}return E.lastSection=t,f(e)}},onSuccess:S,onError:O,fromApi:Object(a.c)(c,h)})],SELECTED_SITE_SET:[Object(u.a)({fetch:e=>{if(!E.hasInitializedSites||E.lastSite!==e.siteId)return E.hasInitializedSites=!!e.siteId,E.lastSite=e.siteId,f(e)},onSuccess:S,onError:O,fromApi:Object(a.c)(c,h)})],JITM_DISMISS:[Object(u.a)({fetch:e=>Object(p.a)({apiNamespace:"rest",method:"POST",path:"/jetpack-blogs/".concat(e.siteId,"/rest-api/"),query:{path:"/jetpack/v4/jitm",body:JSON.stringify({feature_class:e.featureClass,id:e.id}),http_envelope:1,json:!1}},e),onSuccess:r.noop,onError:r.noop})]})},"./client/state/data-layer/wpcom/sites/jitm/schema.json":function(e){e.exports={$schema:"http://json-schema.org/draft-04/schema#",properties:{data:{items:{properties:{CTA:{properties:{hook:{type:"string"},message:{type:"string"},primary:{type:"boolean"}},type:"object"},content:{properties:{classes:{type:"string"},description:{type:"string"},emblem:{type:"null"},icon:{type:"string"},message:{type:"string"}},type:"object"},feature_class:{type:"string"},id:{type:"string"},jitm_stats_url:{type:"string"},template:{type:"string"},ttl:{type:"integer"},url:{type:"string"}},type:"object"},type:"array"}},type:"object"}},"./client/state/document-head/actions.js":function(e,t,n){"use strict";function s(e){return{type:"DOCUMENT_HEAD_TITLE_SET",title:e}}function i(e){return{type:"DOCUMENT_HEAD_UNREAD_COUNT_SET",count:e}}function r(e){return{type:"DOCUMENT_HEAD_LINK_SET",link:e}}function o(e){return{type:"DOCUMENT_HEAD_META_SET",meta:e}}n.d(t,"c",function(){return s}),n.d(t,"d",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},"./client/state/document-head/selectors.js":function(e,t,n){"use strict";n.d(t,"c",function(){return l}),n.d(t,"a",function(){return u}),n.d(t,"b",function(){return d});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/create-selector/index.js"),r=n("./client/lib/formatting/index.js"),o=n("./client/state/ui/selectors.js"),a=n("./client/state/sites/selectors.js");const c=40;function l(e){return e.documentHead.title}function u(e){const t=function(e){return e.documentHead.unreadCount}(e);return t?t<=c?String(t):"".concat(c,"+"):""}const d=Object(i.a)(e=>{let t="";const n=u(e);return n&&(t+="(".concat(n,") ")),(t+=Object(s.compact)([l(e),Object(o.i)(e)&&Object(a.x)(e,Object(o.e)(e))]).join(" ‹ "))&&(t=Object(r.b)(t)+" — "),t+"WordPress.com"},e=>[e.documentHead,e.ui.section,e.ui.selectedSiteId])},"./client/state/domains/suggestions/utils.js":function(e,t,n){"use strict";function s(e){if(!e)return null;const t=e.query,n=e.quantity,s=e.vendor;if(!t||0===t.length||!n||n<=0||!s||0===s.length)return null;const i=!(!e.include_wordpressdotcom&&!e.includeSubdomain);return JSON.stringify({query:t,quantity:n,vendor:s,include_wordpressdotcom:i}).toLocaleLowerCase()}n.d(t,"a",function(){return s})},"./client/state/happychat/connection/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"c",function(){return c}),n.d(t,"d",function(){return l}),n.d(t,"k",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"l",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"b",function(){return _}),n.d(t,"g",function(){return E}),n.d(t,"h",function(){return b}),n.d(t,"j",function(){return g}),n.d(t,"e",function(){return h}),n.d(t,"m",function(){return O}),n.d(t,"p",function(){return j}),n.d(t,"n",function(){return T}),n.d(t,"o",function(){return y}),n.d(t,"t",function(){return I}),n.d(t,"s",function(){return R}),n.d(t,"q",function(){return C}),n.d(t,"r",function(){return A});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/uuid/index.js"),o=n("./client/state/happychat/constants.js");const a=e=>({type:"HAPPYCHAT_IO_INIT",auth:e}),c=()=>({type:"HAPPYCHAT_IO_RECEIVE_CONNECT"}),l=e=>({type:"HAPPYCHAT_IO_RECEIVE_DISCONNECT",error:e}),u=()=>({type:"HAPPYCHAT_IO_RECEIVE_TOKEN"}),d=e=>({type:"HAPPYCHAT_IO_RECEIVE_INIT",user:e}),p=e=>({type:"HAPPYCHAT_IO_RECEIVE_UNAUTHORIZED",error:e}),m=()=>({type:"HAPPYCHAT_IO_RECEIVE_RECONNECTING"}),_=e=>({type:"HAPPYCHAT_IO_RECEIVE_ACCEPT",isAvailable:e}),E=e=>({type:"HAPPYCHAT_IO_RECEIVE_LOCALIZED_SUPPORT",isAvailable:e}),b=e=>({type:"HAPPYCHAT_IO_RECEIVE_MESSAGE",message:e}),g=e=>({type:"HAPPYCHAT_IO_RECEIVE_STATUS",status:e}),h=e=>({type:"HAPPYCHAT_IO_RECEIVE_ERROR",error:e}),f=e=>{return{type:"HAPPYCHAT_IO_REQUEST_TRANSCRIPT_RECEIVE",messages:e.messages,timestamp:e.timestamp}},S=()=>({type:"HAPPYCHAT_IO_REQUEST_TRANSCRIPT_TIMEOUT"}),O=function(e){return{type:"HAPPYCHAT_IO_REQUEST_TRANSCRIPT",event:"transcript",payload:e,timeout:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e4,callback:f,callbackTimeout:S}},j=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return{type:"HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE",event:"message",payload:{id:Object(r.v4)(),text:e,meta:t}}},T=e=>({type:"HAPPYCHAT_IO_SEND_MESSAGE_EVENT",event:"message",payload:{id:Object(r.v4)(),text:e,type:o.t.CUSTOMER_EVENT,meta:{forOperator:!0,event_type:o.t.CUSTOMER_EVENT}}}),y=e=>({type:"HAPPYCHAT_IO_SEND_MESSAGE_LOG",event:"message",payload:{id:Object(r.v4)(),text:e,type:o.t.LOG,meta:{forOperator:!0,event_type:o.t.LOG}}}),I=e=>({type:"HAPPYCHAT_IO_SEND_MESSAGE_USERINFO",event:"message",payload:{id:Object(r.v4)(),type:o.t.CUSTOMER_INFO,meta:i()({forOperator:!0},e)}}),R=e=>({type:"HAPPYCHAT_IO_SEND_TYPING",event:"typing",payload:{message:e}}),C=()=>R(!1),A=(e,t,n)=>({type:"HAPPYCHAT_IO_SEND_PREFERENCES",event:"preferences",payload:{locale:e,groups:t,skills:n}})},"./client/state/happychat/constants.js":function(e,t,n){"use strict";n.d(t,"j",function(){return s}),n.d(t,"p",function(){return i}),n.d(t,"l",function(){return r}),n.d(t,"k",function(){return o}),n.d(t,"m",function(){return a}),n.d(t,"n",function(){return c}),n.d(t,"o",function(){return l}),n.d(t,"s",function(){return u}),n.d(t,"v",function(){return d}),n.d(t,"u",function(){return p}),n.d(t,"q",function(){return m}),n.d(t,"r",function(){return _}),n.d(t,"t",function(){return E}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return h}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return S}),n.d(t,"f",function(){return O}),n.d(t,"h",function(){return j}),n.d(t,"g",function(){return T}),n.d(t,"i",function(){return y});const s="ping timeout",i="uninitialized",r="connecting",o="connected",a="disconnected",c="reconnecting",l="unauthorized",u=30,d="product",p="language",m="jpop",_="WP.com",E={CUSTOMER_EVENT:"customer-event",CUSTOMER_INFO:"customer-info",LOG:"log"},b="abandoned",g="assigned",h="assigning",f="blocked",S="closed",O="default",j="new",T="missed",y="pending"},"./client/state/happychat/middleware-calypso.js":function(e,t,n){"use strict";n.r(t),n.d(t,"getEventMessageFromActionData",function(){return E}),n.d(t,"getEventMessageFromTracksData",function(){return b}),n.d(t,"sendAnalyticsLogEvent",function(){return g}),n.d(t,"sendActionLogsAndEvents",function(){return h});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/happychat/constants.js"),r=n("./client/state/happychat/connection/actions.js"),o=n("./client/state/happychat/selectors/get-happychat-chat-status.js"),a=n("./client/state/happychat/selectors/get-groups.js"),c=n("./client/state/happychat/selectors/get-skills.js"),l=n("./client/state/happychat/selectors/is-happychat-chat-assigned.js"),u=n("./client/state/happychat/selectors/is-happychat-client-connected.js"),d=n("./client/state/current-user/selectors.js"),p=n("./client/state/selectors/get-current-route.js"),m=n("./client/state/analytics/actions.js");const _=(e,t)=>"Looking at https://wordpress.com".concat(t),E=e=>{switch(e.type){case"COMMENTS_CHANGE_STATUS":return"Changed a comment's status to \"".concat(e.status,'"');case"EXPORT_COMPLETE":return"Export completed";case"EXPORT_FAILURE":return"Export failed: ".concat(e.error.message);case"EXPORT_STARTED":return"Started an export";case"IMPORTS_IMPORT_START":case"JETPACK_CONNECT_AUTHORIZE":case"MEDIA_DELETE":case"PLUGIN_ACTIVATE_REQUEST":case"PLUGIN_SETUP_ACTIVATE":return null;case"POST_SAVE_SUCCESS":return'Saved post "'.concat(e.savedPost.title,'" ').concat(e.savedPost.short_URL);case"PUBLICIZE_CONNECTION_CREATE":return"Connected ".concat(e.connection.label," sharing");case"PUBLICIZE_CONNECTION_DELETE":return"Disconnected ".concat(e.connection.label," sharing");case"PURCHASE_REMOVE_COMPLETED":return null;case"SITE_SETTINGS_SAVE_SUCCESS":return"Saved site settings"}return null},b=e=>{let t=e.name,n=e.properties;switch(t){case"calypso_add_new_wordpress_click":return'Clicked "Add new site" button';case"calypso_domain_search_add_button_click":return'Clicked "Add" button to add domain "'.concat(n.domain_name,'"');case"calypso_domain_remove_button_click":return'Clicked "Remove" button to remove domain "'.concat(n.domain_name,'"');case"calypso_themeshowcase_theme_activate":return'Changed theme from "'.concat(n.previous_theme,'" to "').concat(n.theme,'"');case"calypso_editor_featured_image_upload":return"Changed the featured image on the current post";case"calypso_map_domain_step_add_domain_click":return'Add "'.concat(n.domain_name,'" to the cart in the "Map a domain" step');case"calypso_view_site_page_view":return"Looking at ".concat(n.full_url," inside the View Site section")}return null},g=(e,t)=>{t.meta.analytics.forEach(t=>{let n=t.type,s=t.payload,i=s.service,o=s.name,a=s.properties;if("ANALYTICS_EVENT_RECORD"===n&&"tracks"===i){const t=b({name:o,properties:a});t&&e(Object(r.n)(t)),e(Object(r.o)(o))}})},h=(e,t)=>{let n=e.getState,i=e.dispatch;const o=n();if(!Object(u.a)(o)||!Object(l.a)(o))return;Object(s.has)(t,"meta.analytics")&&g(i,t);const a=E(t);a&&i(Object(r.n)(a))};t.default=(e=>t=>n=>{const E=e.getState(),b=e.dispatch;switch(h(e,n),n.type){case"HAPPYCHAT_IO_RECEIVE_STATUS":Object(o.a)(E)===i.i&&n.status===i.b&&b(Object(m.k)(Object(m.i)("calypso_happychat_start"),Object(r.n)(_(0,Object(p.a)(E)))));break;case"HELP_CONTACT_FORM_SITE_SELECT":if(Object(u.a)(E)){const e=Object(d.h)(E),t=Object(a.a)(E,n.siteId),s=Object(c.a)(E,n.siteId);b(Object(r.r)(e,t,s))}break;case"ROUTE_SET":Object(u.a)(E)&&Object(l.a)(E)?b(Object(r.n)(_(0,n.path))):s.noop}return t(n)})},"./client/state/happychat/middleware.js":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/happychat/connection/actions.js");function r(){let e=null;function t(){return e||(e=new Promise(e=>Promise.all([n.e(185),n.e(150)]).then(n.bind(null,"./client/lib/happychat/connection.js")).then(function(t){e(t.default)})).then(e=>e())),e}function s(e){return function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return t().then(t=>t[e](...s))}}return{init:s("init"),request:s("request"),send:s("send")}}var o=n("./client/state/happychat/selectors/is-happychat-client-connected.js"),a=n("./client/state/happychat/selectors/is-happychat-chat-assigned.js");n.d(t,"socketMiddleware",function(){return l});const c={HAPPYCHAT_BLUR:"Stopped looking at Happychat",HAPPYCHAT_FOCUS:"Started looking at Happychat"},l=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;return null==e&&(e=r()),t=>n=>r=>{switch(r.type){case"HAPPYCHAT_IO_INIT":e.init(t.dispatch,r.auth);break;case"HAPPYCHAT_IO_REQUEST_TRANSCRIPT":e.request(r,r.timeout);break;case"HAPPYCHAT_IO_SEND_MESSAGE_EVENT":case"HAPPYCHAT_IO_SEND_MESSAGE_LOG":case"HAPPYCHAT_IO_SEND_MESSAGE_MESSAGE":case"HAPPYCHAT_IO_SEND_MESSAGE_USERINFO":case"HAPPYCHAT_IO_SEND_PREFERENCES":case"HAPPYCHAT_IO_SEND_TYPING":e.send(r);break;case"HAPPYCHAT_BLUR":case"HAPPYCHAT_FOCUS":const n=t.getState();Object(o.a)(n)&&Object(a.a)(n)&&c[r.type]?t.dispatch(Object(i.n)(c[r.type])):s.noop}return n(r)}};t.default=l()},"./client/state/happychat/selectors/get-groups.js":function(e,t,n){"use strict";var s=n("./client/state/happychat/constants.js"),i=n("./client/config/index.js"),r=n("./client/state/sites/selectors.js"),o=n("./client/lib/automated-transfer/index.js"),a=n("./client/state/ui/selectors.js");t.a=((e,t)=>{const n=[];if(Object(i.c)("jetpack/happychat")&&"jetpack-connect"===Object(a.c)(e))return n.push(s.q),n;const c=Object(r.k)(e,t);return Object(o.a)(c)?n.push(s.r):Object(r.J)(e,t)?n.push(s.q):n.push(s.r),n})},"./client/state/happychat/selectors/get-happychat-chat-status.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js");t.a=(e=>Object(s.get)(e,"happychat.chat.status"))},"./client/state/happychat/selectors/get-happychat-connection-status.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js");t.a=function(e){return Object(s.get)(e,"happychat.connection.status")}},"./client/state/happychat/selectors/get-skills.js":function(e,t,n){"use strict";var s=n("./client/state/happychat/constants.js"),i=n("./client/state/happychat/selectors/get-groups.js"),r=n("./client/state/current-user/selectors.js");t.a=((e,t)=>{const n={[s.v]:Object(i.a)(e,t)},o=Object(r.h)(e);return o&&(n[s.u]=[o]),n})},"./client/state/happychat/selectors/is-happychat-chat-assigned.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/happychat/constants.js");t.a=(e=>Object(s.get)(e,"happychat.chat.status")===i.b)},"./client/state/happychat/selectors/is-happychat-client-connected.js":function(e,t,n){"use strict";var s=n("./client/state/happychat/constants.js"),i=n("./client/state/happychat/selectors/get-happychat-connection-status.js");t.a=function(e){return Object(i.a)(e)===s.k}},"./client/state/happychat/selectors/is-happychat-open.js":function(e,t,n){"use strict";var s=n("./client/lib/create-selector/index.js"),i=n("./client/state/ui/selectors.js");t.a=Object(s.a)(e=>e.happychat.ui.isOpen&&"happychat"!==Object(i.c)(e),e=>[e.happychat.ui.isOpen,Object(i.c)(e)])},"./client/state/happychat/user/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var s=n("./client/config/index.js"),i=n("./client/lib/wp/browser.js"),r=n("./client/state/notices/actions.js");const o=()=>e=>{const t=Object(s.a)("client_slug");i.a.undocumented().getOlarkConfiguration(t).then(t=>{e((e=>({type:"HAPPYCHAT_ELIGIBILITY_SET",isEligible:e}))(t.isUserEligible)),e((e=>({type:"PRESALE_PRECANCELLATION_CHAT_AVAILABILITY_SET",availability:e}))(t.availability))}).catch(t=>{t&&t.message&&"authorization_required"!==t.error&&e(Object(r.b)(t.message))})}},"./client/state/happychat/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./client/lib/wp/browser.js"),o=n("./client/config/index.js"),a=n("./client/state/happychat/selectors/get-groups.js"),c=n("./client/state/current-user/selectors.js"),l=n("./client/state/help/selectors.js"),u=n("./client/state/happychat/selectors/get-skills.js");const d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return new Promise((e,n)=>{r.a.request(...t,(t,s)=>{if(t)return n(t);e(s)})})},p=e=>()=>{const t=Object(o.a)("happychat_url"),n=Object(c.h)(e);let s=Object(a.a)(e),r=Object(u.a)(e);const p=Object(l.a)(e);p&&p.ID&&(s=Object(a.a)(e,p.ID),r=Object(u.a)(e,p.ID));const m=Object(c.b)(e);if(!m)return Promise.reject("Failed to start an authenticated Happychat session: No current user found");const _={signer_user_id:m.ID,locale:n,groups:s,skills:r};return(()=>d({method:"POST",path:"/happychat/session"}))().then(e=>{let t=e.session_id,n=e.geo_location;return _.geoLocation=n,(e=>d({method:"POST",path:"/jwt/sign",body:{payload:JSON.stringify(e)}}))({user:m,session_id:t})}).then(e=>{let n=e.jwt;return{url:t,user:i()({jwt:n},_)}}).catch(e=>Promise.reject("Failed to start an authenticated Happychat session: "+e))}},"./client/state/help/directly/constants.js":function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o});const s="STATUS_UNINITIALIZED",i="STATUS_INITIALIZING",r="STATUS_READY",o="STATUS_ERROR"},"./client/state/help/selectors.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/ui/selectors.js"),r=n("./client/state/selectors/get-primary-site-id.js");var o=n("./client/state/sites/selectors.js");n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c});const a=e=>{const t=(e=>e.help.selectedSiteId)(e)||function(e){const t=Object(i.e)(e);return t||Object(r.a)(e)}(e),n=Object(o.k)(e,t);if(n)return n;const a=Object.keys(Object(s.get)(e,"sites.items")||{});return a.length>0?Object(o.k)(e,a[0]):null},c=e=>{const t=a(e);return Object(s.get)(t,"ID",null)}},"./client/state/immediate-login/selectors.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js");const i=["auto-renew-failed","bd_card-expiring","bd_missing-payment","bd_renewal-failure","expired-domain-notice","plan-expired","renew-domain-expiration-notice","upcoming_expiry_notification"];n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return c});const r=e=>Object(s.get)(e,"immediateLogin.attempt",!1),o=e=>Object(s.get)(e,"immediateLogin.email",null),a=e=>Object(s.get)(e,"immediateLogin.locale",null),c=e=>Object(s.includes)(i,(e=>Object(s.get)(e,"immediateLogin.reason",null))(e))},"./client/state/inline-support-article/actions.js":function(e,t,n){"use strict";function s(e){let t=e.postId,n=e.postUrl,s=void 0===n?null:n;return e=>{e({type:"SUPPORT_ARTICLE_DIALOG_OPEN",postId:t,postUrl:s})}}function i(){return e=>e({type:"SUPPORT_ARTICLE_DIALOG_CLOSE"})}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i})},"./client/state/invites/selectors.js":function(e,t,n){"use strict";n.d(t,"j",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"e",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"i",function(){return p}),n.d(t,"b",function(){return m}),n.d(t,"h",function(){return _}),n.d(t,"a",function(){return E}),n.d(t,"g",function(){return b});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./packages/tree-select/dist/esm/index.js");function a(e,t){return!!e.invites.requesting[t]}function c(e,t){const n=e.invites.items[t];return n?n.pending:null}function l(e,t){const n=e.invites.items[t];return n?n.accepted:null}function u(e,t){return e.invites.counts[t]||null}const d=n.n(o)()((e,t)=>[e.invites.items[t]],(e,t,n)=>{let s=i()(e,1)[0];return s&&(Object(r.find)(s.pending,{key:n})||Object(r.find)(s.accepted,{key:n}))||null});function p(e,t,n){return"requesting"===Object(r.get)(e,["invites","requestingResend",t,n],!1)}function m(e,t,n){return"success"===Object(r.get)(e,["invites","requestingResend",t,n],!1)}function _(e,t,n){return"requesting"===Object(r.get)(e,["invites","deleting",t,n],!1)}function E(e,t,n){return"success"===Object(r.get)(e,["invites","deleting",t,n],!1)}function b(e,t){return-1!==Object(r.indexOf)(Object(r.values)(Object(r.get)(e,["invites","deleting",t],{})),"requesting")}},"./client/state/jetpack-connect/constants.js":function(e,t,n){"use strict";n.d(t,"d",function(){return s}),n.d(t,"e",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});const s=36e5,i=s/60,r=36e5,o=6e4,a=["install","personal","premium","pro"]},"./client/state/jetpack-connect/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./client/state/jetpack-connect/constants.js");function i(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:s.d;const n=(new Date).getTime();return!!e&&n-e>=t}},"./client/state/jetpack/settings/utils.js":function(e,t,n){"use strict";n.d(t,"b",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"a",function(){return c});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js");const o=e=>Object.keys(e).reduce((t,n)=>{switch(n){case"carousel_background_color":t[n]=""===e[n]?"black":e[n];break;case"custom-content-types":case"jetpack_testimonial":case"jetpack_portfolio":case"jetpack_testimonial_posts_per_page":case"jetpack_portfolio_posts_per_page":break;case"jetpack_protect_global_whitelist":const s=Object(r.get)(e[n],["local"],[]);t[n]=s.join("\n");break;case"infinite-scroll":break;case"infinite_scroll":void 0!==e["infinite-scroll"]&&(e["infinite-scroll"]?t[n]=e[n]?"scroll":"button":t[n]="default",t["infinite-scroll"]=e["infinite-scroll"]);break;default:t[n]=e[n]}return t},{}),a=e=>Object.keys(e).reduce((t,n)=>{switch(n){case"akismet":case"custom-content-types":case"infinite-scroll":case"jetpack_portfolio":case"jetpack_testimonial":case"jetpack_testimonial_posts_per_page":case"jetpack_portfolio_posts_per_page":case"post_by_email_address":"regenerate"===e[n]&&(t[n]=e[n]);break;case"infinite_scroll":"default"===e[n]?t["infinite-scroll"]=!1:(t["infinite-scroll"]=!0,t[n]="scroll"===e[n]);break;default:t[n]=e[n]}return t},{}),c=e=>{let t=i()({},e);return Object(r.forEach)({minileven:["wp_mobile_excerpt","wp_mobile_featured_images","wp_mobile_app_promos"],subscriptions:["stb_enabled","stc_enabled"],likes:["social_notifications_like","social_notifications_reblog","social_notifications_subscribe"],markdown:["wpcom_publish_comments_with_markdown"],protect:["jetpack_protect_global_whitelist"],sso:["jetpack_sso_match_by_email","jetpack_sso_require_two_step"],comments:["highlander_comment_form_prompt","jetpack_comment_form_color_scheme"],carousel:["carousel_background_color","carousel_display_exif"],stats:["admin_bar","hide_smile","count_roles","roles"]},(n,s)=>{e[s]||(t=Object(r.omit)(t,n)),t=Object(r.omit)(t,s)}),t}},"./client/state/jitm/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"c",function(){return o}),n.d(t,"a",function(){return a});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s);n("./client/state/data-layer/wpcom/sites/jitm/index.js");const r=(e,t,n)=>({type:"JITM_DISMISS",siteId:e,id:t,featureClass:n}),o=(e,t,n)=>({type:"JITM_SET",keyedPath:t+e,jitms:n.map(e=>i()({},e,{lastUpdated:Date.now()}))}),a=(e,t)=>({type:"JITM_SET",keyedPath:t+e,jitms:[]})},"./client/state/lib/middleware.js":function(e,t,n){"use strict";n.r(t);var s=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/debug/src/browser.js"),r=n.n(i),o=n("./client/notices/index.js"),a=n("./node_modules/page/page.js"),c=n.n(a),l=n("./client/config/index.js"),u=n("./client/lib/analytics/index.js"),d=n("./client/lib/user/index.js"),p=n("./client/state/selectors/has-site-pending-automated-transfer.js"),m=n("./client/state/automated-transfer/selectors.js"),_=n("./client/state/selectors/is-notifications-open.js"),E=n("./client/state/ui/selectors.js"),b=n("./client/state/current-user/selectors.js"),g=n("./client/lib/keyboard-shortcuts/index.js"),h=n("./client/lib/keyboard-shortcuts/global.js"),f=n("./client/state/automated-transfer/actions.js"),S=n("./packages/i18n-calypso/dist/esm/index.js");n.d(t,"libraryMiddleware",function(){return U});const O=r()("calypso:state:middleware"),j=Object(d.default)(),T=l.a.isEnabled("keyboard-shortcuts");let y;T&&(y=Object(h.a)());const I=l.a.isEnabled("desktop");let R;I&&(R=n("./node_modules/lodash/noop.js").default);const C=Object(s.once)((e,t,n)=>{if(!t.query.immediate_login_attempt)return;if(e(((e,t,n,s)=>({type:"IMMEDIATE_LOGIN_SAVE_INFO",success:e,reason:t,email:n,locale:s}))(t.query.immediate_login_success,t.query.login_reason,t.query.login_email,t.query.login_locale)),c.a.replace(((e,t)=>{const n=["immediate_login_attempt","immediate_login_success","login_reason","login_email","login_locale"],s=Object.keys(t).filter(e=>-1===n.indexOf(e)).map(e=>"".concat(encodeURIComponent(e),"=").concat(encodeURIComponent(t[e])));return e+(s.length?"?"+s.join("&"):"")})(t.path,t.query)),!t.query.immediate_login_success)return;const s=Object(b.b)(n());if(!s)return;const i=s.email;("undefined"!=typeof setImmediate?setImmediate:setTimeout)(()=>{o.a.success(((e,t)=>Object(S.translate)("You're logged in as %(email)s.",{args:{email:t}}))(t.query.login_reason,i))})});let A=[];const v=(e,t)=>{const n=t(),i=Object(E.e)(n);!((e,t)=>{if(!t)return null;const n=Object(m.a)(e,t);return!n||Object(s.isEmpty)(n)?null:Object(s.get)(n,"fetchingStatus",!1)})(n,i)&&Object(p.a)(n,i)&&e(Object(f.b)(i))},N=(e,t,n)=>{switch(t.type){case"ROUTE_SET":return C(e,t,n);case"ANALYTICS_SUPER_PROPS_UPDATE":return((e,t,n)=>{const s=n(),i=Object(E.d)(s),r=Object(b.k)(s);u.default.setSelectedSite(i),u.default.setSiteCount(r)})(0,0,n);case"NOTIFICATIONS_PANEL_TOGGLE":return((e,t,n)=>{const s=!Object(_.a)(n());g.a.setNotificationsOpen(s)})(0,0,n);case"SELECTED_SITE_SET":((e,t)=>{let n=t.siteId;A.forEach(e=>e(n))})(0,t);case"SITE_RECEIVE":case"SITES_RECEIVE":return void setTimeout(()=>{T&&((e,t,n)=>{const s=n(),i=Object(E.d)(s);y.setSelectedSite(i)})(0,0,n),I&&((e,t,n)=>{const s=n(),i=Object(E.d)(s);R.setSelectedSite(i)})(0,0,n),v(e,n)},0);case"SELECTED_SITE_SUBSCRIBE":return void((e,t)=>{O("receiveSelectedSitesChangeListener"),A.push(t.listener)})(0,t);case"SELECTED_SITE_UNSUBSCRIBE":return void((e,t)=>{O("removeSelectedSitesChangeListener"),A=A.filter(e=>e!==t.listener)})(0,t);case"SITE_DELETE_RECEIVE":case"JETPACK_DISCONNECT_RECEIVE":return void j.decrementSiteCount()}},U=e=>{let t=e.dispatch,n=e.getState;return e=>s=>(N(t,s,n),e(s))};t.default=U},"./client/state/login/magic-login/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i}),n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"c",function(){return a});const s="https://wordpress.com/wp-login.php?action=magic-login",i="CHECK_YOUR_EMAIL_PAGE",r="LINK_EXPIRED_PAGE",o="REQUEST_FORM",a="INTERSTITIAL_PAGE"},"./client/state/notices/actions.js":function(e,t,n){"use strict";n.d(t,"e",function(){return c}),n.d(t,"a",function(){return l}),n.d(t,"f",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"d",function(){return _}),n.d(t,"h",function(){return E});var s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(s),r=n("./client/lib/impure-lodash/index.js"),o=n("./client/state/utils.js");const a=r.a.uniqueId;function c(e){return{noticeId:e,type:"NOTICE_REMOVE"}}function l(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=n.id,r=i()(n,["id"]);return{type:"NOTICE_CREATE",notice:Object.assign({showDismiss:!0},r,{noticeId:s||a(),status:e,text:t})}}const u=l.bind(null,"is-success"),d=l.bind(null,"is-error"),p=l.bind(null,"is-info"),m=l.bind(null,"is-warning"),_=l.bind(null,"is-plain"),E=e=>(function(){return Object(o.d)(e(...arguments),{meta:{notices:{skip:!0}}})})},"./client/state/notices/selectors.js":function(e,t,n){"use strict";n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/create-selector/index.js");const r=Object(i.a)(e=>Object(s.values)(e.notices.items),e=>e.notices.items),o=Object(i.a)((e,t)=>e.notices.lastTimeShown[t]||0,e=>e.notices.lastTimeShown)},"./client/state/notifications/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i});const s=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1?arguments[1]:void 0;return"NOTIFICATIONS_UNSEEN_COUNT_SET"===t.type?t.unseenCount:e},i=e=>({type:"NOTIFICATIONS_UNSEEN_COUNT_SET",unseenCount:e})},"./client/state/nps-survey/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"d",function(){return r}),n.d(t,"b",function(){return o});const s="NOT_SUBMITTED",i="SUBMITTING",r="SUBMIT_FAILURE",o="SUBMITTED"},"./client/state/plugins/installed/actions.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./client/lib/wp/browser.js");const o="INSTALL_PLUGIN",a="UPDATE_PLUGIN",c="ACTIVATE_PLUGIN";n.d(t,"a",function(){return u}),n.d(t,"d",function(){return d}),n.d(t,"c",function(){return m}),n.d(t,"b",function(){return _});const l=(e,t)=>{return r.a.site(e).plugin(t)};function u(e,t){return n=>{const s=t.id,r={action:c,siteId:e,pluginId:s};n(i()({},r,{type:"PLUGIN_ACTIVATE_REQUEST"}));const o=e=>{n(i()({},r,{type:"PLUGIN_ACTIVATE_REQUEST_SUCCESS",data:e}))};return l(e,s).activate().then(o).catch(e=>{e&&"activation_error"===e.error&&o(t),n(i()({},r,{type:"PLUGIN_ACTIVATE_REQUEST_FAILURE",error:e}))})}}function d(e,t){return n=>{if(!t.update)return Promise.reject("Error: Plugin already up-to-date.");const s=t.id,r={action:a,siteId:e,pluginId:s};n(i()({},r,{type:"PLUGIN_UPDATE_REQUEST"}));return l(e,s).updateVersion().then(e=>{n(i()({},r,{type:"PLUGIN_UPDATE_REQUEST_SUCCESS",data:e}))}).catch(e=>{n(i()({},r,{type:"PLUGIN_UPDATE_REQUEST_FAILURE",error:e}))})}}function p(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s=>{const r=t.id,a={action:o,siteId:e,pluginId:r};s(i()({},a,{type:"PLUGIN_INSTALL_REQUEST"}));const c=function(t){return l(e,t.slug).install()},u=function(t){return l(e,t.id).activate()},d=function(t){return l(e,t.id).updateVersion()},p=function(t){return l(e,t.id).enableAutoupdate()},m=e=>{s(i()({},a,{type:"PLUGIN_INSTALL_REQUEST_SUCCESS",data:e}))},_=e=>"PluginAlreadyInstalledError"===e.name?n?d(t).then(p).then(m).catch(_):d(t).then(u).then(p).then(m).catch(_):"ActivationErrorError"===e.name?d(t).then(p).then(m).catch(_):(s(i()({},a,{type:"PLUGIN_INSTALL_REQUEST_FAILURE",error:e})),Promise.reject(e));return n?c(t).then(p).then(m).catch(_):c(t).then(u).then(p).then(m).catch(_)}}function m(e,t){return p(e,t)}function _(e){return t=>e.map(e=>{const n={siteId:e};t(i()({},n,{type:"PLUGINS_REQUEST"}));return r.a.site(e).pluginsList().then(s=>{t(i()({},n,{type:"PLUGINS_RECEIVE",data:s.plugins})),t(i()({},n,{type:"PLUGINS_REQUEST_SUCCESS"})),s.plugins.map(n=>{n.update&&n.autoupdate&&d(e,n)(t)})}).catch(e=>{t(i()({},n,{type:"PLUGINS_REQUEST_FAILURE",error:e}))})})}},"./client/state/plugins/installed/selectors.js":function(e,t,n){"use strict";n.d(t,"g",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"a",function(){return p}),n.d(t,"d",function(){return m}),n.d(t,"e",function(){return _});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js");n("./client/state/sites/selectors.js");const o={none:function(){return!1},all:function(){return!0},active:function(e){return Object(r.some)(e.sites,function(e){return e.active})},inactive:function(e){return Object(r.some)(e.sites,function(e){return!e.active})},updates:function(e){return Object(r.some)(e.sites,function(e){return e.update})},isEqual:function(e,t){return t.slug===e}};function a(e,t){return void 0!==e.plugins.installed.isRequesting[t]&&e.plugins.installed.isRequesting[t]}function c(e,t){return!1===e.plugins.installed.isRequesting[t]}function l(e,t){return Object(r.some)(t,t=>a(e,t))}function u(e,t,n){let s=Object(r.reduce)(t,(t,n)=>{return(e.plugins.installed.plugins[n]||[]).forEach(e=>{const s=Object(r.pick)(e,["active","autoupdate","update"]);t[e.slug]?t[e.slug].sites=i()({},t[e.slug].sites,{[n]:s}):t[e.slug]=i()({},e,{sites:{[n]:s}})}),t},{});return n&&o[n]&&(s=Object(r.filter)(s,o[n])),Object(r.values)(Object(r.sortBy)(s,e=>e.slug.toLowerCase()))}function d(e,t){return Object(r.filter)(u(e,t),o.updates).map(e=>i()({},e,{version:e.update.new_version,type:"plugin"}))}function p(e,t,n){const s=u(e,[t]);return Object(r.find)(s,{slug:n})}function m(e,t,n){if(void 0===e.plugins.installed.status[t])return!1;if(void 0===e.plugins.installed.status[t][n])return!1;const s=e.plugins.installed.status[t][n];return Object.assign({},s,{siteId:t,pluginId:n})}function _(e,t){return void 0!==e.plugins.installed.status[t]&&e.plugins.installed.status[t]}},"./client/state/plugins/upload/actions.js":function(e,t,n){"use strict";var s=n("./packages/i18n-calypso/dist/esm/index.js"),i=n("./node_modules/lodash/lodash.js"),r=n("./client/state/data-layer/wpcom-http/utils.js"),o=n("./client/state/data-layer/wpcom-http/actions.js"),a=n("./client/state/notices/actions.js"),c=n("./client/state/analytics/actions.js"),l=n("./client/state/sites/selectors.js"),u=n("./client/dispatcher/index.js"),d=n("./client/state/data-layer/handler-registry.js");const p=e=>{const t={exists:Object(s.translate)("This plugin is already installed on your site."),"too large":Object(s.translate)("The plugin zip file must be smaller than 10MB."),incompatible:Object(s.translate)("The uploaded file is not a compatible plugin."),unsupported_mime_type:Object(s.translate)("The uploaded file is not a valid zip.")},n=Object(i.toLower)(e.error+e.message),r=Object(i.find)(t,(e,t)=>Object(i.includes)(n,t));return r?Object(a.b)(r):e.error?Object(a.b)(Object(s.translate)("Upload problem: %(error)s.",{args:{error:e.error}})):Object(a.b)(Object(s.translate)("Problem installing the plugin."))};function m(e,t){return{type:"PLUGIN_UPLOAD",siteId:e,file:t}}function _(e,t){return{type:"PLUGIN_UPLOAD_PROGRESS",siteId:e,progress:t}}function E(e,t){return{type:"PLUGIN_UPLOAD_COMPLETE",siteId:e,pluginId:t}}function b(e,t){return{type:"PLUGIN_UPLOAD_ERROR",siteId:e,error:t}}function g(e){return{type:"PLUGIN_UPLOAD_CLEAR",siteId:e}}Object(d.b)("state/data-layer/wpcom/sites/plugins/new/index.js",{PLUGIN_UPLOAD:[Object(r.a)({fetch:e=>{const t=e.siteId,n=e.file;return[Object(c.i)("calypso_plugin_upload"),Object(o.a)({method:"POST",path:"/sites/".concat(t,"/plugins/new"),apiVersion:"1",formData:[["zip[]",n]]},e)]},onSuccess:(e,t)=>{let n=e.siteId;return(e,s)=>{const i=t.slug,r=s(),o=Object(l.k)(r,n);e(Object(c.i)("calypso_plugin_upload_complete",{plugin_id:i})),e(E(n,i)),u.a.handleServerAction({type:"RECEIVE_INSTALLED_PLUGIN",action:"PLUGIN_UPLOAD",site:o,plugin:t,data:t})}},onError:(e,t)=>{let n=e.siteId;return[Object(c.i)("calypso_plugin_upload_error",{error_code:t.error,error_message:t.message}),p(t),b(n,t)]},onProgress:(e,t)=>{let n=e.siteId,s=t.loaded,i=t.total;return _(n,i?s/i*100:i)}})]}),n.d(t,"e",function(){return m}),n.d(t,"d",function(){return _}),n.d(t,"b",function(){return E}),n.d(t,"c",function(){return b}),n.d(t,"a",function(){return g})},"./client/state/posts/actions.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/store/dist/store.modern.js"),o=n.n(r),a=n("./node_modules/lodash/lodash.js"),c=n("./client/lib/wp/browser.js"),l=n("./client/lib/formatting/index.js"),u=n("./client/lib/preferences/store.js"),d=n("./client/state/posts/selectors.js"),p=n("./client/state/posts/stats.js"),m=n("./client/state/posts/utils.js"),_=n("./client/state/selectors/edited-post-has-content.js"),E=n("./client/state/selectors/get-previous-route.js");var b=e=>0===Object(E.a)(e).indexOf("/block-editor"),g=n("./client/state/ui/editor/actions.js"),h=n("./client/state/ui/editor/selectors.js"),f=n("./client/state/ui/editor/last-draft/actions.js"),S=n("./client/state/ui/selectors.js");function O(e,t){return j([e],t)}function j(e,t){const n={type:"POSTS_RECEIVE",posts:e};return t&&(n.saveMarker=t),n}function T(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e?I(e,t):null}function y(){return I(null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function I(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=>{return n({type:"POSTS_REQUEST",siteId:e,query:t}),(e?c.a.site(e):c.a.me()).postsList(i()({},t)).then(s=>{let i=s.found,r=s.posts;n(j(r)),n({type:"POSTS_REQUEST_SUCCESS",siteId:e,query:t,found:i,posts:r})}).catch(s=>{n({type:"POSTS_REQUEST_FAILURE",siteId:e,query:t,error:s})})}}function R(e,t){return n=>(n({type:"POST_REQUEST",siteId:e,postId:t}),c.a.site(e).post(t).get().then(s=>{n(O(s)),n({type:"POST_REQUEST_SUCCESS",siteId:e,postId:t})}).catch(s=>{n({type:"POST_REQUEST_FAILURE",siteId:e,postId:t,error:s})}))}function C(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return{type:"POST_EDIT",post:arguments.length>2?arguments[2]:void 0,siteId:e,postId:t}}function A(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0;return"string"==typeof n&&(n={[n]:s}),{type:"POST_EDIT",siteId:e,postId:t,post:{metadata:Object(a.map)(n,(e,t)=>({key:t,value:e,operation:"update"}))}}}function v(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return Array.isArray(n)||(n=[n]),{type:"POST_EDIT",siteId:e,postId:t,post:{metadata:Object(a.map)(n,e=>({key:e,operation:"delete"}))}}}function N(e){return{type:"POST_SAVE_SUCCESS",siteId:e,postId:arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,savedPost:arguments.length>2?arguments[2]:void 0,post:arguments.length>3?arguments[3]:void 0}}function U(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2?arguments[2]:void 0;return s=>{s({type:"POST_SAVE",siteId:e,postId:t,post:n});const i=c.a.site(e).post(t),r=Object(m.D)(n),o=i[t?"update":"add"]({apiVersion:"1.2"},r);return o.then(i=>{s(N(e,t,i,n)),s(O(i))},n=>{s({type:"POST_SAVE_FAILURE",siteId:e,postId:t,error:n})}),o}}function w(e,t){return n=>{const s={status:"trash"};n({type:"POST_SAVE",siteId:e,postId:t,post:s});const i=c.a.site(e).post(t).delete();return i.then(i=>{n(N(e,t,i,s)),n(O(i))},s=>{n({type:"POST_SAVE_FAILURE",siteId:e,postId:t,error:s})}),i}}function P(e,t){return n=>{n({type:"POST_DELETE",siteId:e,postId:t});const s=c.a.site(e).post(t).delete();return s.then(()=>{n({type:"POST_DELETE_SUCCESS",siteId:e,postId:t})},s=>{n({type:"POST_DELETE_FAILURE",siteId:e,postId:t,error:s})}),s}}function D(e,t){return n=>{n({type:"POST_RESTORE",siteId:e,postId:t});const s=c.a.site(e).post(t).restore();return s.then(s=>{n({type:"POST_RESTORE_SUCCESS",siteId:e,postId:t}),n(O(s))},s=>{n({type:"POST_RESTORE_FAILURE",siteId:e,postId:t,error:s})}),s}}function L(e,t,n,s){return(i,r)=>{const o=r(),c=Object(d.a)(o,e,s);if(!c||!n||!Object(a.isNumber)(n.ID))return;const l=c.terms||{},u=Object(a.toArray)(l[t]);u.push(n),i(C(e,s,{terms:{[t]:u}}))}}function k(e){return e.parent_id=function(e){return e&&e.parent?e.parent.ID?e.parent.ID:e.parent:null}(e),"page"===e.type&&(e.page_template=function(e){return e&&e.page_template&&"default"!==e.page_template?e.page_template:""}(e)),e.title&&(e.title=Object(l.b)(e.title)),e}n.d(t,"h",function(){return T}),n.d(t,"f",function(){return y}),n.d(t,"g",function(){return R}),n.d(t,"e",function(){return C}),n.d(t,"o",function(){return A}),n.d(t,"d",function(){return v}),n.d(t,"k",function(){return U}),n.d(t,"n",function(){return w}),n.d(t,"c",function(){return P}),n.d(t,"i",function(){return D}),n.d(t,"a",function(){return L}),n.d(t,"l",function(){return x}),n.d(t,"m",function(){return M}),n.d(t,"j",function(){return G}),n.d(t,"b",function(){return V});const x=(e,t)=>(n,s)=>{const i=Object(S.e)(s()),r=Object(h.f)(s());return b(s())||i!==e||r!==t?(n(Object(g.n)(e,t)),c.a.site(e).post(t).get({context:"edit",meta:"autosave"}).then(e=>(e=k(e),n(O(e)),n(Object(g.f)()),e)).catch(e=>(n(Object(g.i)(e)),null))):Promise.resolve(Object(d.a)(s(),e,t))},M=(e,t)=>n=>{n(Object(g.n)(e,null)),c.a.site(e).post(t).get({context:"edit"}).then(t=>{const s=Object(a.pick)(t,["canonical_image","content","excerpt","format","post_thumbnail","terms","type"]);s.title=Object(l.b)(t.title),s.featured_image=Object(m.g)(t);const i=["geo_latitude","geo_longitude","geo_address","geo_public"],r=Object(a.reduce)(t.metadata,(e,t)=>{let n=t.key,s=t.value;return Object(a.includes)(i,n)&&e.push({key:n,value:s,operation:"update"}),e},[]);r.length>0&&(s.metadata=r),n(Object(g.m)(e,s))}).catch(e=>{n(Object(g.i)(e))})};let F=0;const G=e=>async(t,n)=>{const s=Object(S.e)(n()),r=Object(h.f)(n()),o=Object(d.a)(n(),s,r);if(!Object(_.a)(n(),s,r))throw new Error("NO_CONTENT");if(Object(h.n)(n()))throw new Error("SAVE_BLOCKED");const l=Object(h.b)(n()),E=Object(h.i)(n());let b=Object(d.f)(n(),s,r);if(Object(a.get)(b,"content")||E===l||(b=i()({},b,{content:o.content})),Object(a.isEmpty)(b))return null;const j="save-marker-".concat(++F);t(Object(g.h)(s,r,j)),b=function(e){return e=Object(a.clone)(e),(e=Object(m.H)(e)).author&&(e.author=e.author.ID),e}(b);const T=u.a.get("editor-mode"),y=!r,I=c.a.site(s).post(r),R={context:"edit",apiVersion:"1.2"};e&&e.autosave&&(R.autosave=e.autosave),e&&!1===e.recordSaveEvent||t(Object(p.c)()),(b&&"future"===b.status&&Object(m.u)(o)||b&&"publish"===b.status&&Object(m.q)(o))&&(b=Object(a.assign)({},b,{status:"publish",date:o.date}));const C=await I[y?"add":"update"](R,b),A=u.a.get("editor-mode");t(Object(g.b)()),t(Object(g.e)());const v=k(C);return"draft"===v.status?t(Object(f.b)(v.site_ID,v.ID)):t(Object(f.a)()),t(N(v.site_ID,o.ID,v,{})),t(O(v,j)),T===A&&t(Object(g.d)(E)),{receivedPost:v,idAssigned:o.ID!==v.ID}},V=()=>async(e,t)=>{const n=t(),s=Object(S.e)(n),i=Object(h.f)(n);if(!Object(d.o)(n,s,i))return null;const r=Object(d.l)(n,s,i),a=Object(d.a)(n,s,i);return o.a.set("wpcom-autosave:"+s+":"+i,a),Object(m.y)(r)||Object(m.y)(a)?(await e(Object(g.a)(a)),null):await e(G({recordSaveEvent:!1,autosave:!0}))}},"./client/state/posts/constants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i});const s={context:"display",http_envelope:!1,pretty:!1,number:20,offset:0,page:1,order:"DESC",order_by:"date",type:"post",status:"publish",sticky:"include",search:""},i={title:"",content:"",publicize:!0,status:"draft",sticky:!1,password:"",type:"post",parent:0,format:"default",featured_image:""}},"./client/state/posts/counts/selectors.js":function(e,t,n){"use strict";n.d(t,"d",function(){return a}),n.d(t,"a",function(){return u}),n.d(t,"c",function(){return d}),n.d(t,"b",function(){return p});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js");const o=["publish","draft","pending","private","future","trash"];function a(e,t,n){return Object(r.get)(e.posts.counts.requesting,[t,n],!1)}function c(e,t,n){return Object(r.get)(e.posts.counts.counts,[t,n,"all"],null)}function l(e,t,n){return Object(r.get)(e.posts.counts.counts,[t,n,"mine"],null)}function u(e,t,n,s){const i=l(e,t,n);return i?i[s]||0:null}function d(e,t,n){const s=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:c)(e,t,n);return o.reduce((e,t)=>{const n=Object(r.get)(s,t,0);let o;switch(t){case"publish":case"private":o="publish";break;case"draft":case"pending":o="draft";break;default:o=t}return i()({},e,{[o]:(e[o]||0)+n})},{})}function p(e,t,n){return d(e,t,n,l)}},"./client/state/posts/likes/actions.js":function(e,t,n){"use strict";var s=n("./client/state/action-watchers/utils.js"),i=n("./client/state/data-layer/wpcom-http/utils.js"),r=n("./client/state/data-layer/wpcom-http/actions.js"),o=n("./client/state/data-layer/utils.js"),a=n("./client/state/data-layer/handler-registry.js");Object(a.b)("state/data-layer/wpcom/sites/posts/likes/new/index.js",{POST_LIKE:[Object(i.a)({fetch:e=>{const t={};return e.source&&(t.source=e.source),Object(r.a)({method:"POST",path:"/sites/".concat(e.siteId,"/posts/").concat(e.postId,"/likes/new"),body:{},apiVersion:"1.1",query:t},e)},onSuccess:(e,t)=>{let n=e.siteId,s=e.postId,i=t.likeCount,r=t.liker;return m(n,s,i,r)},onError:e=>{let t=e.siteId,n=e.postId;return Object(o.a)(d(t,n))},fromApi:function(e){if(!e.success)throw new Error("Unsuccessful like API call");return{likeCount:+e.like_count,liker:e.liker}}})]});Object(a.b)("state/data-layer/wpcom/sites/posts/likes/mine/delete/index.js",{POST_UNLIKE:[Object(i.a)({fetch:e=>{const t={};return e.source&&(t.source=e.source),Object(r.a)({method:"POST",path:"/sites/".concat(e.siteId,"/posts/").concat(e.postId,"/likes/mine/delete"),apiVersion:"1.1",body:{},query:t},e)},onSuccess:(e,t)=>{let n=e.siteId,s=e.postId,i=t.likeCount,r=t.liker;return _(n,s,i,r)},onError:e=>{let t=e.siteId,n=e.postId;return Object(o.a)(u(t,n))},fromApi:function(e){if(!e.success)throw new Error("Unsuccessful unlike API request");return{likeCount:+e.like_count,liker:e.liker}}})]});var c={};function l(e,t){return{type:"POST_LIKES_REQUEST",siteId:e,postId:t}}Object(a.b)("state/data-layer/wpcom/sites/posts/likes/index.js",Object(s.a)({},c,{POST_LIKES_REQUEST:[Object(i.a)({fetch:e=>Object(r.a)({method:"GET",path:"/sites/".concat(e.siteId,"/posts/").concat(e.postId,"/likes"),apiVersion:"1.1"},e),fromApi:e=>({found:+e.found,iLike:!!e.i_like,likes:e.likes}),onSuccess:(e,t)=>{let n=e.siteId,s=e.postId;return p(n,s,t)},onError:()=>{}})]})),n.d(t,"e",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"d",function(){return _});const u=function(e,t){return{type:"POST_LIKE",siteId:e,postId:t,source:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source}},d=function(e,t){return{type:"POST_UNLIKE",siteId:e,postId:t,source:(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).source}},p=(e,t,n)=>{return{type:"POST_LIKES_RECEIVE",siteId:e,postId:t,likes:n.likes,iLike:n.iLike,found:n.found}},m=(e,t,n,s)=>({type:"POST_LIKES_ADD_LIKER",siteId:e,postId:t,likeCount:n,liker:s}),_=(e,t,n,s)=>({type:"POST_LIKES_REMOVE_LIKER",siteId:e,postId:t,likeCount:n,liker:s})},"./client/state/posts/selectors.js":function(e,t,n){"use strict";n.d(t,"e",function(){return _}),n.d(t,"d",function(){return E}),n.d(t,"m",function(){return b}),n.d(t,"l",function(){return g}),n.d(t,"h",function(){return h}),n.d(t,"s",function(){return f}),n.d(t,"j",function(){return S}),n.d(t,"k",function(){return O}),n.d(t,"r",function(){return j}),n.d(t,"i",function(){return T}),n.d(t,"t",function(){return y}),n.d(t,"u",function(){return I}),n.d(t,"f",function(){return R}),n.d(t,"a",function(){return C}),n.d(t,"c",function(){return A}),n.d(t,"p",function(){return v}),n.d(t,"q",function(){return N}),n.d(t,"o",function(){return U}),n.d(t,"b",function(){return P}),n.d(t,"g",function(){return D}),n.d(t,"n",function(){return L});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/create-selector/index.js"),a=n("./packages/i18n-calypso/dist/esm/index.js"),c=n("./client/state/posts/utils.js"),l=n("./client/lib/url/index.js"),u=n("./client/state/sites/selectors.js"),d=n("./client/state/posts/constants.js"),p=n("./client/lib/route/index.js");function m(e,t){return t?e.posts.queries[t]||null:e.posts.allSitesQueries}function _(e,t){const n=e.posts.items[t];if(!n)return null;const s=i()(n,2),r=s[0],o=s[1],a=e.posts.queries[r];return a?a.getItem(o):null}const E=Object(o.a)((e,t)=>Object(c.E)(_(e,t)),e=>[e.posts.items,e.posts.queries]),b=Object(o.a)((e,t)=>{if(!t)return null;const n=e.posts.queries[t];return n?n.getItems():[]},e=>e.posts.queries),g=Object(o.a)((e,t,n)=>{if(!t)return null;const s=e.posts.queries[t];return s?s.getItem(n):null},e=>e.posts.queries),h=Object(o.a)((e,t,n)=>{const s=m(e,t);if(!s)return null;const i=s.getItems(n);return i?Object(r.includes)(i,void 0)?null:i.map(c.E):null},e=>[e.posts.queries,e.posts.allSitesQueries],(e,t,n)=>Object(c.l)(n,t));function f(e,t,n){const s=Object(c.l)(n,t);return!!e.posts.queryRequests[s]}function S(e,t,n){const s=m(e,t);return s?s.getFound(n):null}function O(e,t,n){const s=m(e,t);if(!s)return null;const i=s.getNumberOfPages(n);return null===i?null:Math.max(i,1)}function j(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const s=O(e,t,n);return null===s?s:s===(n.page||d.b.page)}const T=Object(o.a)((e,t,n)=>{const s=m(e,t);if(!s)return null;const i=s.getItemsIgnoringPage(n);return i?i.map(c.E):null},e=>[e.posts.queries,e.posts.allSitesQueries],(e,t,n)=>Object(c.m)(n,t)),y=Object(o.a)((e,t,n)=>{const s=Object(r.omit)(Object(c.h)(n),"page");return Object(r.some)(e.posts.queryRequests,(e,n)=>{if(!e)return!1;const i=Object(c.d)(n);return(!i.siteId||i.siteId===t)&&(!(!i.siteId&&t)&&Object(r.isEqual)(s,Object(r.omit)(i.query,"page")))})},e=>e.posts.queryRequests,(e,t,n)=>Object(c.l)(n,t));function I(e,t,n){return t?!!e.posts.siteRequests[t]&&!!e.posts.siteRequests[t][n]:null}const R=Object(o.a)((e,t,n)=>{const s=Object(r.get)(e.posts.edits,[t,n||""]);return s?Object(c.F)(Object(c.C)(...s)):null},e=>[e.posts.edits]),C=Object(o.a)((e,t,n)=>{const s=g(e,t,n),i=R(e,t,n);return i?Object(c.b)(s,i):s},e=>[e.posts.queries,e.posts.edits]);function A(e,t,n,s){return Object(r.get)(C(e,t,n),s)}function v(e,t,n){const s=A(e,t,n,"password");return!!(s&&s.length>0)}function N(e,t,n){const s=A(e,t,n,"password");return!!(s&&s.trim().length>0)}const U=Object(o.a)((e,t,n)=>{const s=g(e,t,n),i=R(e,t,n),o=Object(r.some)(i,(e,t)=>{if("type"===t)return!1;if(s){switch(t){case"author":return!Object(c.p)(e,s.author);case"date":return!Object(c.s)(e,s.date);case"discussion":return!Object(c.t)(e,s.discussion);case"featured_image":return e!==Object(c.g)(s);case"metadata":return!Object(c.c)(e,s.metadata);case"parent":return Object(r.get)(s,"parent.ID",0)!==e}return s[t]!==e}return!d.a.hasOwnProperty(t)||e!==d.a[t]}),a=e.ui.editor.rawContent,l=a.initial,u=a.current;return o||l!==u},e=>[e.posts.queries,e.posts.edits,e.ui.editor.rawContent]),w=Object(o.a)((e,t,n)=>{const s=g(e,t,n);return s?Object(r.includes)(["publish","private"],s.status)||"future"===s.status&&Object(a.moment)(s.date).isBefore(Object(a.moment)()):null},e=>e.posts.queries);function P(e,t,n){const s=R(e,t,n);if(Object(r.has)(s,"slug"))return s.slug;const i=g(e,t,n),o=Object(r.get)(i,"slug");if(w(e,t,n))return Object(l.d)(o);const a=Object(r.get)(i,["other_URLs","suggested_slug"]);return a&&!o?a:o}function D(e,t,n){const s=(arguments.length>3&&void 0!==arguments[3]&&arguments[3]).__forceUseRawPost,i=!!s?s:g(e,t,n);if(!i)return null;const r=i.URL,o=i.status;if(!r||"trash"===o)return null;if(i.preview_URL)return i.preview_URL;let a=r;"publish"!==o&&(a=Object(p.a)({preview:!0},a));const c=Object(u.k)(e,t);if(c&&c.options){const e=c.options,t=e.is_mapped_domain,n=e.unmapped_url;a=t?a.replace(c.URL,n):a}return a}function L(e,t,n,s){return Object(r.filter)(b(e,t),e=>e.terms&&e.terms[n]&&Object(r.find)(e.terms[n],e=>e.ID===s))}},"./client/state/posts/stats.js":function(e,t,n){"use strict";n.d(t,"b",function(){return _}),n.d(t,"a",function(){return E}),n.d(t,"c",function(){return b});var s=n("./node_modules/debug/src/browser.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./client/state/analytics/actions.js"),a=n("./client/state/posts/utils.js"),c=n("./client/state/ui/selectors.js"),l=n("./client/state/sites/selectors.js"),u=n("./client/state/ui/editor/selectors.js"),d=n("./client/state/posts/selectors.js"),p=n("./client/state/selectors/get-podcasting-category-id.js");const m=i()("calypso:posts:stats");function _(e){return Object(o.a)("editor_actions",e)}function E(e,t,n){return Object(o.g)("Editor",e,t,n)}const b=()=>(e,t)=>{const n=t(),s=Object(c.e)(n),i=Object(u.f)(n),b=Object(d.a)(n,s,i),g=Object(r.get)(Object(d.l)(n,s,i),"status","draft"),h=Object(u.j)(n,s),f=b.status,S=Object(p.a)(n,s),O=S&&b.terms&&b.terms.category&&Object(r.some)(b.terms.category,{ID:S});let j="calypso_editor_",T=!1,y=!1,I=!1,R=null;if(b.ID||a.y(b)?"draft"===f?j+="savedraft":g===f?(I="edit",j+="update"):"publish"===f||"private"===f?(j+="publish",I="new",h&&(R="confirmation_sidebar")):"pending"===f?j+="pending":"future"===f&&(j+="schedule",T="status-schedule",y="Scheduled Post",h&&(R="confirmation_sidebar")):j+="savedraft",I){const t=Object(l.J)(n,s)?"jetpack":"wpcom";e(Object(o.a)("editor_usage",I)),e(Object(o.a)("editor_usage_"+t,I)),b.type&&e(Object(o.a)("editor_cpt_usage_"+t,b.type+"_"+I))}T&&e(_(T)),y&&e(E(y)),m("recordSaveEvent %s currentStatus=%s nextStatus=%s",j,g,f),e(Object(o.i)(j,{post_id:b.ID,post_type:b.type,visibility:a.o(b),current_status:g,next_status:f,context:R,is_podcast_episode:O}))}},"./client/state/posts/utils.js":function(e,t,n){"use strict";n.d(t,"h",function(){return S}),n.d(t,"l",function(){return O}),n.d(t,"d",function(){return j}),n.d(t,"m",function(){return T}),n.d(t,"b",function(){return I}),n.d(t,"C",function(){return R}),n.d(t,"a",function(){return C}),n.d(t,"E",function(){return v}),n.d(t,"F",function(){return N}),n.d(t,"G",function(){return U}),n.d(t,"H",function(){return w}),n.d(t,"B",function(){return P}),n.d(t,"t",function(){return D}),n.d(t,"p",function(){return L}),n.d(t,"s",function(){return k}),n.d(t,"A",function(){return x}),n.d(t,"n",function(){return F}),n.d(t,"c",function(){return G}),n.d(t,"D",function(){return V}),n.d(t,"e",function(){return q}),n.d(t,"k",function(){return H}),n.d(t,"I",function(){return Q}),n.d(t,"r",function(){return B}),n.d(t,"y",function(){return Y}),n.d(t,"z",function(){return W}),n.d(t,"x",function(){return K}),n.d(t,"w",function(){return z}),n.d(t,"f",function(){return J}),n.d(t,"u",function(){return Z}),n.d(t,"q",function(){return $}),n.d(t,"v",function(){return X}),n.d(t,"o",function(){return ee}),n.d(t,"j",function(){return ne}),n.d(t,"i",function(){return se}),n.d(t,"g",function(){return ie});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./node_modules/moment/moment.js"),a=n.n(o),c=n("./node_modules/url/url.js"),l=n.n(c),u=n("./client/state/posts/constants.js"),d=n("./client/lib/post-normalizer/rule-pick-canonical-image.js"),p=n("./client/lib/post-normalizer/rule-decode-entities.js"),m=n("./client/lib/post-normalizer/rule-content-detect-media.js"),_=n("./client/lib/post-normalizer/rule-with-content-dom.js"),E=n("./client/lib/post-normalizer/rule-strip-html.js");const b=/^((\d+):)?(.*)$/,g=Object(r.flow)([function(e){if(!e||!e.terms)return e;const t=Object(r.reduce)(e.terms,(e,t,n)=>{const s=Object(r.toArray)(t);return s&&s.length&&!Object(r.isPlainObject)(s[0])?e:(e[n]=s,e)},{});if(Object(r.isEmpty)(t))return e;return i()({},e,{terms_by_id:Object(r.mapValues)(t,e=>{const t=Object(r.map)(e,"ID");return t.length?t:null})})}]),h=Object(r.flow)([w]),f=Object(r.flow)([p.a,E.a,Object(_.a)([m.a]),d.a]);function S(e){return Object(r.omitBy)(e,(e,t)=>u.b[t]===e)}function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=S(e),s=JSON.stringify(n);return t?[t,s].join(":"):s}function j(e){let t,n;const s=e.match(b);if(s){t=Number(s[2])||void 0;try{n=JSON.parse(s[3])}catch(e){}}return{siteId:t,query:n}}function T(e,t){return O(Object(r.omit)(e,"page"),t)}function y(e,t){switch(t.operation){case"update":{const n=t.key,s=t.value;return Object(r.find)(e,{key:n})?Object(r.map)(e,e=>e.key===n?{key:n,value:s}:e):Object(r.concat)(e||[],{key:n,value:s})}case"delete":{const n=t.key;return Object(r.find)(e,{key:n})?Object(r.reject)(e,{key:n}):e}}return e}function I(e,t){return Object(r.mergeWith)(Object(r.cloneDeep)(e),t,(e,t,n,s,i,o)=>"metadata"===n&&0===o.size?function(e,t){return Object(r.reduce)(t,y,e)}(e,t):Array.isArray(t)?t:void 0)}const R=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(r.reduce)(t,(e,t)=>Object(r.isString)(t)?e:null===e?t:Object(r.mergeWith)(Object(r.cloneDeep)(e),t,(e,t,n,s,i,o)=>"metadata"===n&&0===o.size?function(e,t){const n=Object(r.reject)(e,e=>Object(r.find)(t,{key:e.key}));return Object(r.concat)(n,t)}(e,t):Array.isArray(t)?t:void 0),null)},C=(e,t)=>{if(Object(r.isEmpty)(e))return[t];const n=Object(r.last)(e);if(Object(r.isString)(n))return[...e,t];const s=Object(r.initial)(e);return s.push(R(n,t)),s},A=new WeakMap;function v(e){if(!e)return null;let t=A.get(e);return t||(t=f(Object(r.cloneDeep)(e)),A.set(e,t)),t}function N(e){return e?g(e):null}function U(e){const t=Object(r.cloneDeep)(e);return Object(r.reduce)([[],...Object(r.reduce)(e.terms,(e,t,n)=>e.concat(Object(r.map)(t,(e,t)=>["terms",n,t])),[]),...Object(r.map)(e.categories,(e,t)=>["categories",t]),...Object(r.map)(e.tags,(e,t)=>["tags",t]),...Object(r.map)(e.attachments,(e,t)=>["attachments",t])],(e,t)=>(Object(r.unset)(e,t.concat("meta","links")),e),t)}function w(e){return e&&e.terms?i()({},e,{terms:Object(r.pickBy)(e.terms,e=>e.length&&Object(r.every)(e,r.isString))}):e}function P(e,t){return Object(r.every)(e,(e,n)=>{const s=Object(r.toArray)(e),i=Object(r.isPlainObject)(s[0]),o=i?Object(r.map)(s,"ID"):s,a=i?"ID":"name",c=Object(r.map)(t[n],a);return!Object(r.xor)(o,c).length})}function D(e,t){return Object(r.every)(e,(e,n)=>Object(r.get)(t,[n])===e)}function L(e,t){return Object(r.get)(e,"ID")===Object(r.get)(t,"ID")}function k(e,t){return!1===e||e&&a()(e).isSame(t)}function x(e,t){return Object(r.includes)(["publish","future"],e)?Object(r.includes)(["publish","future"],t):e===t}function M(e,t){const n=Object(r.find)(t,{key:e.key});return"update"===e.operation?!n||n.value!==e.value:"delete"===e.operation&&!!n}function F(e,t){return Object(r.filter)(e,e=>M(e,t))}function G(e,t){return Object(r.every)(e,e=>!M(e,t))}function V(e){return e?h(e):null}const q=function(e,t){if(!t)return"/post";if(!e)return"/post/".concat(t.slug);let n;const s=e.type||"post";switch(s){case"post":n="/post";break;case"page":n="/page";break;default:n="/edit/".concat(s)}return n+="/".concat(t.slug),e.ID&&(n+="/".concat(e.ID)),n},H=function(e,t,n){let s,i;if(!t||!t.URL||"trash"===t.status)return"";if(n?i=n:"publish"===t.status?i=t.URL:((s=l.a.parse(t.URL,!0)).query.preview="true",delete s.search,i=l.a.format(s)),t.site_ID){if(!e||!e.options)return i;e.options.is_mapped_domain&&(i=i.replace(e.URL,e.options.unmapped_url)),e.options.frame_nonce&&((s=l.a.parse(i,!0)).query["frame-nonce"]=e.options.frame_nonce,delete s.search,i=l.a.format(s))}return i},Q=function(e,t){const n=t.capabilities&&t.capabilities[e];return"edit_post"===e?n&&"trash"!==t.status:n},B=function(e,t){if(!e)return!1;return"future"===(t||e.status)&&a()(e.date).isBefore(a()())},Y=function(e,t){if(!e)return!1;const n=t||e.status;return"publish"===n||"private"===n||B(e,t)},W=function(e){return!!e&&"future"===e.status},K=function(e){return!!e&&"private"===e.status},z=function(e){return!!e&&"pending"===e.status},J=function(e){if(e)return"publish"===e.status||"future"===e.status?e.date:e.modified},Z=function(e){if(!e)return!1;return e&&+new Date+6e4<+new Date(e.date)},$=function(e){return!!(e&&e.date&&e.modified)&&a()(e.date).isBefore(a()(e.modified))},X=function(e){return!!e&&(e&&"page"===e.type)},ee=function(e){return e?e.password?"password":"private"===e.status?"private":"public":null},te=function(e){if(!e)return;const t=e.slice(0,-1).split("/");return t[t.length-1]="",t.join("/")},ne=function(e){if(!e)return;let t=e.URL;return!Y(e)&&e.other_URLs&&e.other_URLs.permalink_URL&&(t=e.other_URLs.permalink_URL),te(t)},se=function(e){if(e)return Y(e)?te(e.URL):ne(e)},ie=function(e){if(e)return"featured_image"in e&&!/^https?:\/\//.test(e.featured_image)?e.featured_image:e.post_thumbnail?e.post_thumbnail.ID:void 0}},"./client/state/preferences/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"c",function(){return a}),n.d(t,"b",function(){return c});var s=n("./client/lib/wp/browser.js"),i=n("./client/state/preferences/constants.js");function r(e){return{type:"PREFERENCES_RECEIVE",values:e}}function o(){return e=>(e({type:"PREFERENCES_FETCH"}),s.a.undocumented().me().preferences().get().then(t=>{e(r(t[i.b])),e({type:"PREFERENCES_FETCH_SUCCESS"})}).catch((t,n)=>{e({type:"PREFERENCES_FETCH_FAILURE",error:n})}))}const a=(e,t)=>({type:"PREFERENCES_SET",key:e,value:t}),c=(e,t)=>n=>{n(a(e,t)),n({type:"PREFERENCES_SAVE",key:e,value:t});const o={[i.b]:{[e]:t}};return s.a.undocumented().me().preferences().update(o).then(s=>{n(r(s[i.b])),n({type:"PREFERENCES_SAVE_SUCCESS",key:e,value:t})}).catch(e=>{n({type:"PREFERENCES_SAVE_FAILURE",error:e})})}},"./client/state/preferences/constants.js":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i});const s="calypso_preferences",i={"editor-mode":"tinymce",mediaModalGalleryInstructionsDismissed:!1,mediaModalGalleryInstructionsDismissedForSession:!1,"guided-tours-history":[],recentSites:[],mediaScale:.157,editorAdvancedVisible:!1,editorConfirmationDisabledSites:[],colorScheme:"default","store-dashboardStatsWidgetUnit":"week"}},"./client/state/preferences/selectors.js":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"b",function(){return o}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"c",function(){return l});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/preferences/constants.js");const r=e=>!!e.preferences.fetching;function o(e,t){return Object(s.get)(Object(s.find)([e.preferences.localValues,e.preferences.remoteValues,i.a],e=>Object(s.has)(e,t)),t,null)}function a(e){return e.preferences.remoteValues}const c=e=>e.preferences.lastFetchedTimestamp;function l(e){return!!e.preferences.remoteValues}},"./client/state/push-notifications/actions.js":function(e,t,n){"use strict";var s=n("./node_modules/debug/src/browser.js"),i=n.n(s),r=n("./client/lib/wp/browser.js"),o=n("./client/config/index.js"),a=n("./client/state/push-notifications/selectors.js");function c(){const e=window.navigator.appVersion.match(/Chrome\/(\d+)/);return e?e[1]:-1}function l(){return window&&"serviceWorker"in window.navigator&&"ServiceWorkerRegistration"in window&&"showNotification"in window.ServiceWorkerRegistration.prototype&&"PushManager"in window}function u(){if(window&&window.navigator&&window.navigator.appVersion){const e=window.navigator.appVersion.match(/OPR\/(\d+)/);return e?e[1]:-1}return-1}function d(e){const t=(e+"=".repeat((4-e.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),n=atob(t),s=new Uint8Array(n.length);for(let e=0;e<n.length;++e)s[e]=n.charCodeAt(e);return s}var p=n("./client/state/analytics/actions.js");n.d(t,"a",function(){return E}),n.d(t,"b",function(){return y}),n.d(t,"c",function(){return I});const m=i()("calypso:push-notifications"),_={path:"/service-worker.js"};function E(){return e=>{if((0,n("./client/lib/user/support-user-interop.js").isSupportSession)())return m("Push Notifications are not supported when SU is active"),void e({type:"PUSH_NOTIFICATIONS_API_NOT_READY"});if(!l())return m("Push Notifications are not supported"),void e({type:"PUSH_NOTIFICATIONS_API_NOT_READY"});if(window&&window.chrome&&window.navigator.appVersion&&c()<50){m("Push Notifications are not supported in Chrome 49 and below");const t=c();return e(Object(p.a)("calypso_push_notif_unsup_chrome",t>39&&t<50?t:"other")),void e({type:"PUSH_NOTIFICATIONS_API_NOT_READY"})}if(-1!==u()){m("Push Notifications are not supported in Opera");const t=u();return e(Object(p.a)("calypso_push_notif_unsup_opera",t>15&&t<100?t:"other")),void e({type:"PUSH_NOTIFICATIONS_API_NOT_READY"})}"Notification"in window&&"denied"!==window.Notification.permission||(m("Push Notifications have been denied"),e(T())),e(g())}}function b(){return(e,t)=>{e({type:"PUSH_NOTIFICATIONS_API_READY"});const n=t();Object(a.d)(n)||(Object(a.e)(n)?e((e,t)=>{const n=t();!Object(a.d)(n)&&Object(a.c)(n)&&window.navigator.serviceWorker.ready.then(t=>{t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:d(Object(o.a)("push_notification_vapid_key"))}).then(()=>e(j())).catch(t=>{m("Couldn't get subscription",t),e(j())})}).catch(e=>m("Error activating subscription",e))}):(e(j()),"disabling"===Object(a.b)(n)&&(m("Forcibly unregistering device (disabling on apiReady)"),e(S()))))}}function g(){return e=>{m("Registering service worker"),function(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).path||"/service-worker.js";return window.navigator.serviceWorker.register(e)}(_).then(t=>e(b())).catch(t=>{m("Error loading service worker!",t),e({type:"PUSH_NOTIFICATIONS_API_NOT_READY"})})}}function h(){return e=>{navigator.serviceWorker.getRegistration(_).then(t=>{t.pushManager.getSubscription().then(t=>{e(S()),t&&t.unsubscribe?t.unsubscribe().then(()=>m("Push subscription unsubscribed")).catch(e=>m("Error while unsubscribing",e)):m("Error getting push subscription to deactivate")}).catch(t=>{e(S()),m("Error getting subscription to deactivate",t)})}).catch(t=>{e(S()),m("Error getting ServiceWorkerRegistration to deactivate",t)})}}function f(e){return(t,n)=>{if("granted"===e)return m("Push notifications authorized"),t({type:"PUSH_NOTIFICATIONS_AUTHORIZE"}),void t(e=>{window.navigator.serviceWorker.ready.then(t=>{t.pushManager.getSubscription().then(t=>{e(function(e){return t=>{if(e)return m("Sending subscription to WPCOM",e),r.a.undocumented().registerDevice(JSON.stringify(e),"browser","Browser").then((e,n)=>t({type:"PUSH_NOTIFICATIONS_RECEIVE_REGISTER_DEVICE",data:e,headers:n})).catch(e=>m("Couldn't register device",e));m("No subscription to send to WPCOM")}}(t))}).catch(e=>m("Error getting subscription",e))}).catch(e=>m("Error fetching push manager subscription",e))});"denied"!==e?(Object(a.e)(n())&&t(y()),t({type:"PUSH_NOTIFICATIONS_MUST_PROMPT"})):t(T())}}function S(){return(e,t)=>{const n=Object(a.a)(t());return n?r.a.undocumented().unregisterDevice(n).then(t=>{m("Successfully unregistered device",t),e(O(t))}).catch(t=>{m("Couldn't unregister device",t),e(O())}):(m("Couldn't unregister device. Unknown device ID"),void e(O()))}}function O(e){return{type:"PUSH_NOTIFICATIONS_RECEIVE_UNREGISTER_DEVICE",data:e||{}}}function j(){return e=>{window.navigator.serviceWorker.ready.then(t=>{t.pushManager.permissionState({userVisibleOnly:!0}).then(t=>{m("Received push messaging state",t),e(f(t))}).catch(t=>{m("Error checking permission state",t),e(f("denied"))})}).catch(e=>m("Error checking permission state -- not ready",e))}}function T(){return e=>{e({type:"PUSH_NOTIFICATIONS_BLOCK"}),e(h()),e(Object(p.i)("calypso_web_push_notifications_blocked"))}}function y(){return(e,t)=>{const n=!Object(a.e)(t());m(n?"enabling":"disabling"),e({type:"PUSH_NOTIFICATIONS_TOGGLE_ENABLED"}),n?(e(g()),e(Object(p.i)("calypso_web_push_notifications_enabled"))):(e(h()),e(Object(p.i)("calypso_web_push_notifications_disabled")))}}function I(){return{type:"PUSH_NOTIFICATIONS_TOGGLE_UNBLOCK_INSTRUCTIONS"}}},"./client/state/push-notifications/selectors.js":function(e,t,n){"use strict";n.d(t,"c",function(){return s}),n.d(t,"d",function(){return i}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"b",function(){return l});const s=e=>!!e.pushNotifications.system.apiReady,i=e=>!!e.pushNotifications.system.blocked,r=e=>e.pushNotifications.system.wpcomSubscription,o=e=>!!e.pushNotifications.settings.enabled,a=e=>!!e.pushNotifications.settings.showingUnblockInstructions;function c(e){const t=r(e);if(t)return t.ID}function l(e){if(!s(e))return"unknown";if(i(e))return"denied";const t=r(e);return o(e)?t?"subscribed":"enabling":t?"disabling":"unsubscribed"}},"./client/state/reader/conversations/follow-status.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});const s=Object.freeze({following:"F",not_following:null,muting:"M"})},"./client/state/reader/conversations/utils.js":function(e,t,n){"use strict";function s(e,t){return"".concat(e,"-").concat(t)}n.d(t,"a",function(){return s})},"./client/state/reader/follows/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./client/lib/route/index.js");function i(e){const t=e&&Object(s.k)(e);return t&&t.replace(/^https?:\/\//,"").toLowerCase()}},"./client/state/reader/posts/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return g}),n.d(t,"a",function(){return f}),n.d(t,"b",function(){return S});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./node_modules/uuid/index.js"),o=n("./node_modules/lodash/lodash.js"),a=n("./client/state/reader/posts/normalization-rules.js"),c=n("./client/lib/wp/browser.js"),l=n("./client/reader/post-key.js"),u=n("./client/state/reader/posts/selectors.js"),d=n("./client/state/posts/likes/actions.js");let p={tracks:{recordEvent:()=>{}},mc:{bumpStat:()=>{}}},m=()=>{};function _(e){p.tracks.recordEvent("calypso_traintracks_render",e.railcar)}function E(e){return e.blogId?c.a.undocumented().readSitePost({site:e.blogId,postId:e.postId}):c.a.undocumented().readFeedPost(e)}m=n("./client/reader/stats.js").pageViewForPost,p=n("./client/lib/analytics/index.js").default;const b=e=>e.catch(()=>null),g=e=>t=>{if(!e)return Promise.resolve([]);const n=Object(o.partition)(e,"_should_reload"),s=i()(n,2),r=s[0],c=s[1];r.forEach(e=>t(function(e){return function(t){const n=e.railcar,s=Object(l.b)(e);E(s).then(e=>{e.railcar=n,t(g([e]))})}}(e)));const u=Object(o.compact)(c).map(a.b);return Object(o.forEach)(u,e=>{e.is_external||t(Object(d.c)(e.site_ID,e.ID,{iLike:Boolean(e.i_like),found:+e.like_count}))}),t({type:"READER_POSTS_RECEIVE",posts:u}),Promise.all(u.map(a.c).map(b)).then(e=>t({type:"READER_POSTS_RECEIVE",posts:Object(o.compact)(e)})),Object(o.forEach)(Object(o.filter)(u,"railcar"),_),Promise.resolve(u)},h=new Set,f=e=>t=>{const n=Object(l.c)(e);if(!h.has(n))return h.add(n),E(e).then(e=>(s(),t(g([e])))).catch(n=>(s(),t(function(e,t){return{type:"READER_POSTS_RECEIVE",posts:[{feed_ID:t.feedId,ID:t.postId,site_ID:t.blogId,is_external:!t.blogId,global_ID:Object(r.v4)(),is_error:!0,error:e}]}}(n,e))));function s(){h.delete(n)}};const S=(e,t)=>(n,s)=>{if(e&&!Object(u.d)(s(),e.global_ID)&&(n({type:"READER_POST_SEEN",payload:{post:e,site:t}}),e.site_ID)){const n=!!Object(o.get)(t,"capabilities.manage_options",!1);t&&t.ID&&(!t.is_private&&n||(m(t.ID,t.URL,e.ID,t.is_private),p.mc.bumpStat("reader_pageviews",t.is_private?"private_view":"public_view")))}}},"./client/state/reader/posts/display-types.js":function(e,t,n){"use strict";t.a={UNCLASSIFIED:0,PHOTO_ONLY:1,LARGE_BANNER:2,ONE_LINER:4,LANDSCAPE_BANNER:8,PORTRAIT_BANNER:16,GALLERY:32,VIDEO:64,THUMBNAIL:128,CANONICAL_IN_CONTENT:256,FEATURED_VIDEO:512,X_POST:1024}},"./client/state/reader/posts/normalization-rules.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/reader/posts/display-types.js"),r=n("./client/lib/post-normalizer/rule-create-better-excerpt.js"),o=n("./client/lib/post-normalizer/rule-content-detect-media.js"),a=n("./packages/i18n-calypso/dist/esm/index.js"),c=n.n(a),l=n("./client/lib/post-normalizer/utils.js");const u=['a[href^="http://polldaddy.com/poll/"]','a[href^="https://polldaddy.com/poll/"]','a[href^="http://poll.fm/"]','a[href^="https://poll.fm/"]','a[href^="http://survey.fm/"]','a[href^="https://survey.fm/"]'];var d=n("./node_modules/url/url.js"),p=n.n(d);function m(e,t){const n=Element.prototype,s=n.matches||n.webkitMatchesSelector||n.mozMatchesSelector||n.msMatchesSelector;return!!s&&s.call(e,t)}var _=n("./client/lib/safe-image-url/index.js");const E="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",b=e=>{if(!e||!e.hasAttributes())return;Object(s.filter)(e.attributes,e=>Object(s.startsWith)(e.name,"on")).forEach(t=>e.removeAttribute(t.name)),e.removeAttribute("srcset")},g=e=>{if(!e)return;return Object(s.some)(["feeds.feedburner.com","feeds.wordpress.com/",".feedsportal.com","wp-includes","wp-content/themes","wp-content/plugins","stats.wordpress.com","pixel.wp.com"],t=>Object(s.includes)(e.toLowerCase(),t))};var h=e=>(t,n)=>{if(!n)throw new Error("this transform must be used as part of withContentDOM");const i=n.querySelectorAll("img[src]");return Object(s.forEach)(i,n=>(function(e,t,n){let i=t.getAttribute("src");p.a.parse(i,!1,!0).hostname||(i=p.a.resolve(e.URL,i));let r=n?Object(l.h)(Object(_.a)(i),n):Object(_.a)(i);if(!r&&Object(s.startsWith)(i,"https://")&&(r=i),b(t),!r||g(i))return t.parentNode.removeChild(t),void t.setAttribute("src",E);t.setAttribute("src",r)})(t,n,e)),t};var f=n("./client/lib/post-normalizer/rule-decode-entities.js"),S=n("./client/lib/post-normalizer/rule-pick-canonical-image.js");var O=n("./client/lib/formatting/index.js");var j=n("./client/lib/post-normalizer/rule-strip-html.js"),T=n("./client/lib/post-normalizer/rule-with-content-dom.js");var y=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),I=n.n(y),R=n("./node_modules/debug/src/browser.js");const C=n.n(R)()("calypso:post-normalizer:wait-for-images-to-load");function A(e){const t={src:e.src,width:e.naturalWidth,height:e.naturalHeight};return e instanceof Image&&e.complete&&(t.fetched=!0),t}const v=Object(s.flow)(function(e){const t=new Image;return t.src=e,t},function(e){return e.complete&&e.naturalWidth>0?Promise.resolve(e):new Promise((t,n)=>{e.onload=(()=>t(e)),e.onerror=(()=>n(e))})});function N(e){return new Promise(t=>{const n={},i=[];function r(t,s){let r=t&&Object(l.a)(t);if(!r&&e.attachments){const t=Object.values(e.attachments).find(t=>t.URL===e.featured_image);t&&(r=Object(l.a)(t))}r&&(n[s]={src:s,naturalWidth:r.width,naturalHeight:r.height}),i.push(s)}if(Object(l.k)(e.post_thumbnail)?r(e.post_thumbnail,e.post_thumbnail.URL):e.featured_image&&r(null,e.featured_image),Object(s.forEach)(e.content_images,e=>r(e,e.src)),0===i.length)return void t(e);const o={};let a=Object(s.map)(Object(s.take)(i,10),e=>e in n?Promise.resolve(n[e]):v(e));Object(s.forEach)(a,n=>{n.then(e=>{o[e.src]=e}).catch(t=>(C("failed to load image",t,e),null)).then(()=>{if(0===(a=Object(s.pull)(a,n)).length){!function(n){e.featured_image&&(Object(s.find)(n,{src:e.featured_image})||(e.featured_image=null)),e.images=Object(s.map)(n,A),e.content_images=Object(s.filter)(Object(s.map)(e.content_images,function(t){return Object(s.find)(e.images,{src:t.src})}),Boolean),e.content_media=Object(s.map)(e.content_media,t=>{if("image"===t.mediaType){const n=Object(s.find)(e.images,{src:t.src});return I()({},t,n)}return t}),t(e)}(Object(s.filter)(Object(s.map)(i,e=>o[e]),Boolean))}}).catch(e=>{C("Fulfilling promise failed",e)})})})}function U(e){if(!e)return!1;const t=100<=e.width,n=75<=e.height;return t&&n}function w(e){return!!e&&("image"===e.mediaType?U(e):"video"===e.mediaType&&e.autoplayIframe)}function P(e){if(!e)return e;if(Object(l.f)(e.featured_image)&&(!e.post_thumbnail&&e.is_jetpack||U(e.post_thumbnail)))return e.canonical_media={src:e.featured_image,height:Object(s.get)(e,"post_thumbnail.height"),width:Object(s.get)(e,"post_thumbnail.width"),mediaType:"image"},e;const t=Object(s.find)(e.content_media,w);return t&&(e.canonical_media=t),e}const D=[".sharedaddy","script",".jp-relatedposts",".jp-relatedposts-headline",".mc4wp-form",".wpcnt",".OUTBRAIN",".adsbygoogle","form","input","select","button","textarea"].join(", ");function L(e){e.parentNode&&e.parentNode.removeChild(e)}var k=n("./client/state/reader/posts/sizes.js");function x(e){return e.width>=k.b&&e.height>=k.c}n.d(t,"a",function(){return x}),n.d(t,"b",function(){return q}),n.d(t,"c",function(){return Y});const M=e=>(function(e){return e&&e.content_no_html?e.content_no_html.length:0})(e)<=k.e;function F(e){const t=Object(s.filter)(e.content_images,x);let n=i.a.UNCLASSIFIED;return t.length>=k.a?n^=i.a.GALLERY:e.canonical_media&&"image"===e.canonical_media.mediaType&&e.canonical_media.width>=k.f&&M(e)&&(n^=i.a.PHOTO_ONLY),e.canonical_media&&"video"===e.canonical_media.mediaType&&(n^=i.a.FEATURED_VIDEO),e.tags&&e.tags["p2-xpost"]&&(n^=i.a.X_POST),e.display_type=n,e}const G=Object(s.flow)([f.a,j.a,function(e){return Object(s.forEach)(["excerpt"],function(t){e[t]&&(e[t]=Object(O.d)(e[t],2))}),e},function(e){return e.site_id&&(e.normalized_site_id=(""+e.site_id).replace(/::/g,"/")),e},function(e){const t=Object(s.maxBy)(Object(s.values)(e.tags),function(e){return e.post_count});return void 0!==t&&(e.primary_tag=t),e},(V=k.g,function(e){return Object(l.g)(e.author,"avatar_URL",V),Object(l.g)(e,"featured_image",V,e.URL),e.post_thumbnail&&Object(l.g)(e.post_thumbnail,"URL",V,e.URL),e.featured_media&&"image"===e.featured_media.type&&Object(l.g)(e.featured_media,"uri",V,e.URL),e.canonical_image&&e.canonical_image.uri&&Object(l.g)(e.canonical_image,"uri",V,e.URL),e.attachments&&Object(s.forOwn)(e.attachments,function(t){Object(s.startsWith)(t.mime_type,"image/")&&Object(l.g)(t,"URL",V,e.URL)}),e}),function(e){return e&&e.URL&&!l.j.test(e.URL)&&(e.URL=""),e&&e.short_URL&&!l.j.test(e.short_URL)&&(e.short_URL=""),e},Object(T.a)([function(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");const n='.gallery, .gallery *, .gallery-row, .gallery-row *, .gallery-group, .gallery-group *, blockquote[class^="instagram-"], blockquote[class^="instagram-"] *, blockquote[class^="twitter-"], blockquote[class^="twitter-"] *',i=t.querySelectorAll("[style]");return Object(s.forEach)(i,function(e){m(e,n)||e.removeAttribute("style")}),Object(s.forEach)(t.querySelectorAll("style"),function(e){m(e,n)||e.parentNode&&e.parentNode.removeChild(e)}),Object(s.forEach)(t.querySelectorAll("[align]"),e=>{"IMG"!==e.tagName&&e.removeAttribute("align")}),e},function(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");const n=t.querySelectorAll(D);return Object(s.forEach)(n,L),e},h(),function(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");const n=t.querySelectorAll("iframe");if(Object(s.forEach)(n,function(e){Object(s.startsWith)(e.src,"http")?(e.src=e.src.replace(/^http:/,"https:"),function(e){const t=e.src&&p.a.parse(e.src).hostname,n=t&&t.toLowerCase();return Object(s.some)(["spotify.com","kickstarter.com","soundcloud.com","embed.ted.com","player.twitch.tv"],e=>Object(s.endsWith)("."+n,"."+e))}(e)?e.removeAttribute("sandbox"):Object(l.c)(e)?e.setAttribute("sandbox","allow-same-origin allow-scripts allow-popups"):e.setAttribute("sandbox","")):e.parentNode.removeChild(e)}),e.is_external||e.is_jetpack){const e=t.querySelectorAll("embed,object");Object(s.forEach)(e,function(e){e.parentNode.removeChild(e)})}return e},function(e,t){const n=Object(s.toArray)(t.querySelectorAll("a[href]"));return Object(s.forEach)(n,e=>{l.j.test(e.href)||e.removeAttribute("href")}),e},function(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");return Object(s.forEach)(t.querySelectorAll("iframe"),e=>{const t=p.a.parse(e.src,!0,!0);t.query&&(t.query=function(e){const t=Object.keys(e).filter(function(e){return/^auto_?play$/i.test(e)});return Object(s.forEach)(t,t=>{const n=(Array.isArray(e[t])?e[t][0]:e[t]).toLowerCase();e[t]="1"===n?"0":"true"===n?"false":n}),e}(t.query),t.search=null,e.src=p.a.format(t))}),e},function(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");return Object(s.forEach)(t.querySelectorAll("audio, video"),e=>e.autoplay=!1),e},o.a,function(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");const n=t.querySelectorAll("noscript");return Object(s.forEach)(n,e=>{if(!e.firstChild)return;const t=Object(l.b)(e.innerHTML).querySelector(u.join(", "));if(t){const n=t.href.match(/https?:\/\/(polldaddy\.com\/poll|poll\.fm|survey\.fm)\/([0-9]+)/)[2];if(n){const t=document.createElement("p");t.innerHTML='<a target="_blank" rel="external noopener noreferrer" href="https://poll.fm/'+n+'">'+c.a.translate("Take our poll")+"</a>",e.parentNode.replaceChild(t,e)}}}),e},function(e,t){if(!t)throw new Error("this transform must be used as part of withContentDOM");const n=t.querySelectorAll(".pd-embed, .cs-embed");return n?(Object(s.forEach)(n,e=>{let t=null;try{t=JSON.parse(e.getAttribute("data-settings"))}catch(e){return}const n=t,s=n.domain,i=n.id;if(!s||!i)return;const r=document.createElement("p");r.innerHTML='<a target="_blank" rel="external noopener noreferrer" href="https://'+s+i+'">'+c.a.translate("Take our survey")+"</a>",e.parentNode.replaceChild(r,e)}),e):e},function(e,t){const n=t.querySelectorAll(".tiled-gallery");return Object(s.forEach)(n,t=>{let n,i=Object(s.get)(t,["dataset","carouselExtra"],!1);if(!i&&!(i=t.getAttribute("data-carousel-extra")))return e;try{n=JSON.parse(i).permalink}catch(t){return e}const r=t.querySelectorAll(".tiled-gallery-item > a");Object(s.forEach)(r,e=>{const t=e.querySelector("img"),s=t&&t.getAttribute("data-attachment-id");s&&(e.href=n+"#jp-carousel-"+s,e.setAttribute("target","_blank"))})}),e}]),r.a,S.a,P,F,function(e){const t=!(!Object(s.get)(e,"discover_metadata")&&53424024!==Object(s.get)(e,"site_ID"));let n;if(t){const t=Object(s.get)(e,"discover_metadata.discover_fp_post_formats"),i=Object(s.find)(t,e=>"pick"!==e.slug);n=i?i.slug:"feature"}return e.is_discover=t,e.discover_format=n,e}]);var V;function q(e){return e?(e=Object.assign({},e),G(e),e):e}const H=Object(s.flow)([(Q=k.d,B=k.c,function(e){const t=(n=Q,i=B,function(e){return e.width>=n&&e.height>=i});var n,i;return e.images&&(e.images=Object(s.filter)(e.images,t)),e.content_images&&(e.content_images=Object(s.filter)(e.content_images,t)),e}),S.a,P,F]);var Q,B;function Y(e){return N(e=Object.assign({},e)).then(H)}},"./client/state/reader/posts/selectors.js":function(e,t,n){"use strict";n.d(t,"a",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"c",function(){return p}),n.d(t,"d",function(){return m});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./packages/tree-select/dist/esm/index.js"),a=n.n(o),c=n("./client/reader/post-key.js");function l(e,t){return e.reader.posts.items[t]}const u=a()(e=>[e.reader.posts.items],e=>{let t=i()(e,1)[0];return Object(r.keyBy)(t,e=>Object(c.c)(Object(c.b)(e)))}),d=(e,t)=>{if(!t||!Object(c.c)(t))return null;return u(e)[Object(c.c)(t)]},p=a()(e=>[u(e)],(e,t)=>{let n=i()(e,1)[0];return!t||Object(r.some)(t,e=>!Object(c.c)(e))?null:t.map(c.c).map(e=>n[e])},{getCacheKey:e=>e.map(c.c).join()}),m=(e,t)=>!!Object(r.get)(e,["reader","posts","seen",t])},"./client/state/reader/posts/sizes.js":function(e,t,n){"use strict";n.d(t,"g",function(){return s}),n.d(t,"f",function(){return i}),n.d(t,"e",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return l});const s=800,i=440,r=85,o=4,a=300,c=144,l=72},"./client/state/reader/related-posts/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"d",function(){return o});const s="all",i="same",r="other";function o(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:s;return"".concat(e,"-").concat(t,"-").concat(n)}},"./client/state/reader/sites/selectors.js":function(e,t,n){"use strict";n.d(t,"c",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var s=n("./node_modules/lodash/lodash.js");const i=144e7;function r(e,t){const n=!e.reader.sites.queuedRequests[t],s=!o(e,t);return n&&(s||function(e,t){const n=e.reader.sites.lastFetched[t];if(!n)return!0;return n<=Date.now()-i}(e,t))}function o(e,t){return e.reader.sites.items[t]}function a(e,t){return Object(s.find)(e.reader.sites.items,{feed_URL:t})}},"./client/state/receipts/reducer.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i});var s=n("./client/state/utils.js");const i={data:null,error:null,hasLoadedFromServer:!1,isRequesting:!1};function r(e,t,n){return Object.assign({},e,{[t]:Object.assign({},i,e[t],n)})}t.a=Object(s.b)({items:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"RECEIPT_FETCH":return r(e,t.receiptId,{isRequesting:!0});case"RECEIPT_FETCH_COMPLETED":return r(e,t.receiptId,{data:t.receipt,error:null,hasLoadedFromServer:!0,isRequesting:!1});case"RECEIPT_FETCH_FAILED":return r(e,t.receiptId,{error:t.error,isRequesting:!1})}return e}})},"./client/state/selected-editor/actions.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/data-layer/wpcom-http/utils.js"),r=n("./client/state/data-layer/wpcom-http/actions.js"),o=n("./client/state/data-layer/handler-registry.js"),a=n("./client/state/data-layer/utils.js"),c=n("./client/state/ui/actions.js");const l=Object(i.a)({fetch:e=>Object(r.a)({method:"GET",path:"/sites/".concat(e.siteId,"/gutenberg"),apiNamespace:"wpcom/v2"},e),onSuccess:(e,t)=>{let n=e.siteId,s=t.editor_web;return e=>{e(Object(a.a)({type:"EDITOR_TYPE_SET",siteId:n,editor:s}))}},onError:s.noop}),u=e=>{let t=e.redirectUrl;return e=>{if(t)return Object(s.has)(window,"location.replace")&&-1!==t.indexOf("calypsoify=1")?window.location.replace(t):void e(Object(c.c)(t))}},d=Object(i.a)({fetch:e=>Object(r.a)({path:"/sites/".concat(e.siteId,"/gutenberg"),method:"POST",apiNamespace:"wpcom/v2",query:{editor:e.editor,platform:"web"},body:{}},e),onSuccess:u,onError:u});Object(o.b)("state/data-layer/wpcom/sites/gutenberg/index.js",{EDITOR_TYPE_REQUEST:[l],EDITOR_TYPE_SET:[d]}),n.d(t,"a",function(){return p}),n.d(t,"b",function(){return m});const p=e=>({type:"EDITOR_TYPE_REQUEST",siteId:e}),m=(e,t,n)=>({type:"EDITOR_TYPE_SET",siteId:e,editor:t,redirectUrl:n})},"./client/state/selectors/are-all-sites-single-user.js":function(e,t,n){"use strict";var s=n("./client/lib/create-selector/index.js"),i=n("./client/state/selectors/get-sites-items.js"),r=n("./client/state/sites/selectors.js");t.a=Object(s.a)(e=>{const t=Object.keys(Object(i.a)(e));return!!t.length&&t.every(t=>Object(r.Q)(e,t))},i.a)},"./client/state/selectors/can-current-user.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./client/state/current-user/selectors.js");const i=(e,t,n)=>Object(s.o)(e,t,n)?e.currentUser.capabilities[t][n]:null;t.b=i},"./client/state/selectors/edited-post-has-content.js":function(e,t,n){"use strict";n.d(t,"a",function(){return l});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/posts/selectors.js"),r=n("./client/state/ui/editor/selectors.js");const o=/^<p>(<br[^>]*>|&nbsp;|\s)*<\/p>$/,a=50;function c(e){return!e||e.length<a&&o.test(e)}function l(e,t,n){const o=Object(i.a)(e,t,n);if(!o)return!1;if(Object(s.some)(["title","excerpt"],e=>Object(s.trim)(o[e])))return!0;const a=Object(r.i)(e);return a?!c(a):!c(o.content)}},"./client/state/selectors/get-activity-log-filter.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i});var s=n("./client/state/activity-log/reducer.js");const i=(e,t)=>{try{return e.activityLog.filter[t]||s.b}catch(e){return s.b}};t.a=i},"./client/state/selectors/get-current-locale-slug.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/create-selector/index.js");const r=Object(i.a)(e=>Object(s.get)(e,"ui.language.localeSlug",null),e=>e.ui.language);t.a=r},"./client/state/selectors/get-current-query-arguments.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js");t.a=(e=>Object(s.get)(e,"ui.route.query.current",null))},"./client/state/selectors/get-current-route.js":function(e,t,n){"use strict";n.d(t,"b",function(){return i});var s=n("./node_modules/lodash/lodash.js");const i=e=>Object(s.get)(e,"ui.route.path.current",null);t.a=i},"./client/state/selectors/get-editor-url.js":function(e,t,n){"use strict";n.d(t,"b",function(){return c});var s=n("./client/state/selectors/get-gutenberg-editor-url.js"),i=n("./client/state/selectors/get-selected-editor.js"),r=n("./client/state/selectors/is-gutenberg-enabled.js"),o=n("./client/state/sites/selectors.js"),a=n("./client/state/ui/editor/selectors.js");const c=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,c=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post";if(Object(r.a)(e,t)&&"gutenberg"===Object(i.a)(e,t))return Object(s.a)(e,t,n,c);if(n)return Object(a.e)(e,t,n,c);const l=Object(o.v)(e,t);return"post"===c||"page"===c?"/".concat(c,"/").concat(l):"/edit/".concat(c,"/").concat(l)};t.a=c},"./client/state/selectors/get-gutenberg-editor-url.js":function(e,t,n){"use strict";var s=n("./client/state/selectors/is-wp-admin-gutenberg-enabled.js"),i=n("./client/state/sites/selectors.js"),r=n("./client/state/ui/editor/selectors.js"),o=n("./client/config/index.js"),a=n("./client/state/selectors/is-site-automated-transfer.js"),c=n("./client/lib/route/index.js"),l=n("./client/state/selectors/is-any-plugin-active.js"),u=n("./client/lib/plugins/utils.js");t.a=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,d=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post";if(Object(s.a)(e,t)){const s=Object(i.l)(e,t);let r="".concat(s,"post-new.php?post_type=").concat(d);return n&&(r="".concat(s,"post.php?post=").concat(n,"&action=edit")),Object(o.c)("calypsoify/gutenberg")&&Object(a.a)(e,t)&&!Object(l.a)(e,t,u.a)&&(r=Object(c.a)({calypsoify:"1"},r)),r}if(n)return"/block-editor".concat(Object(r.e)(e,t,n,d));const p=Object(i.v)(e,t);return"post"===d||"page"===d?"/block-editor/".concat(d,"/").concat(p):"/block-editor/edit/".concat(d,"/").concat(p)}},"./client/state/selectors/get-media-item.js":function(e,t,n){"use strict";function s(e,t,n){const s=e.media.queries[t];if(!s)return null;const i=s.getItem(n)||null;return null===i?null:i.URL?i:null}n.d(t,"a",function(){return s})},"./client/state/selectors/get-podcasting-category-id.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/is-private-site.js");function r(e,t){return Object(i.a)(e,t)?null:Object(s.get)(e.siteSettings.items,[t,"podcasting_category_id"],null)}},"./client/state/selectors/get-previous-route.js":function(e,t,n){"use strict";var s=n("./node_modules/qs/lib/index.js"),i=n("./node_modules/lodash/lodash.js");var r=e=>Object(i.get)(e,"ui.route.path.previous","");var o=e=>Object(i.get)(e,"ui.route.query.previous","");t.a=(e=>{const t=r(e),n=o(e);let i="";return n&&(i="?"+Object(s.stringify)(n)),t+i})},"./client/state/selectors/get-primary-site-id.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/current-user/selectors.js");function r(e){const t=Object(i.b)(e);return Object(s.get)(t,"primary_blog",null)}},"./client/state/selectors/get-raw-site.js":function(e,t,n){"use strict";var s=n("./client/state/selectors/get-sites-items.js");t.a=((e,t)=>Object(s.a)(e)[t]||null)},"./client/state/selectors/get-selected-editor.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./node_modules/lodash/lodash.js");const i=(e,t)=>Object(s.get)(e,["selectedEditor",t],null)},"./client/state/selectors/get-site-connection-status.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(s.get)(e.sites.connection.items,t,null)}},"./client/state/selectors/get-site-icon-id.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-raw-site.js"),r=n("./client/state/site-settings/selectors.js");function o(e,t){const n=Object(i.a)(e,t);if(n)return Object(s.get)(n,"icon.media_id",null);const o=Object(r.a)(e,t);return o?o.site_icon:null}},"./client/state/selectors/get-site-icon-url.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-raw-site.js"),r=n("./client/lib/safe-image-url/index.js"),o=n("./client/state/selectors/get-media-item.js");var a=n("./client/state/selectors/get-site-icon-id.js");function c(e,t){const n=function(e,t,n){const s=Object(o.a)(e,t,n);return s?Object(r.a)(s.URL):null}(e,t,Object(a.a)(e,t));return n||Object(s.get)(Object(i.a)(e,t),"icon.img",null)}n.d(t,"a",function(){return c})},"./client/state/selectors/get-site-options.js":function(e,t,n){"use strict";var s=n("./client/state/selectors/get-raw-site.js");const i=Object.freeze({});t.a=((e,t)=>{const n=Object(s.a)(e,t);return n?n.options||i:null})},"./client/state/selectors/get-sites-items.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});const s=Object.freeze({});function i(e){return e.sites.items||s}},"./client/state/selectors/get-sites.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./node_modules/lodash/lodash.js"),o=n("./client/lib/create-selector/index.js"),a=n("./client/state/sites/selectors.js"),c=n("./client/state/selectors/get-primary-site-id.js"),l=n("./client/state/selectors/get-sites-items.js");const u=e=>Object(r.sortBy)(e,["name","URL"]);t.a=Object(o.a)(e=>{const t=Object(c.a)(e),n=Object(r.partition)(Object(l.a)(e),{ID:t}),s=i()(n,2),o=s[0],d=s[1];return[...o,...u(d)].map(t=>Object(a.k)(e,t.ID))},e=>[Object(l.a)(e),e.currentUser.capabilities])},"./client/state/selectors/get-visible-sites.js":function(e,t,n){"use strict";var s=n("./client/state/sites/selectors.js"),i=n("./client/state/selectors/get-sites-items.js"),r=n("./client/lib/create-selector/index.js");t.a=Object(r.a)(e=>Object.values(Object(i.a)(e)).filter(e=>!0===e.visible).map(t=>Object(s.k)(e,t.ID)),e=>[Object(i.a)(e)])},"./client/state/selectors/get-wordpress-version.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-site-options.js");function r(e,t){const n=Object(i.a)(e,t);return Object(s.get)(n,"software_version")}},"./client/state/selectors/has-loaded-sites.js":function(e,t,n){"use strict";function s(e){return null!==e.sites.items}n.d(t,"a",function(){return s})},"./client/state/selectors/has-site-pending-automated-transfer.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-site-options.js"),r=n("./client/state/selectors/is-site-automated-transfer.js");t.a=((e,t)=>{const n=Object(i.a)(e,t);return n?!Object(r.a)(e,t)&&Object(s.get)(n,"has_pending_automated_transfer",!1):null})},"./client/state/selectors/is-any-plugin-active.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./client/state/selectors/is-plugin-active.js");function i(e,t,n){return!!n.filter(n=>Object(s.a)(e,t,n)).length}},"./client/state/selectors/is-domain-only-site.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/selectors/get-raw-site.js");function r(e,t){const n=Object(i.a)(e,t);return n?Object(s.get)(n,"options.is_domain_only",!1):null}},"./client/state/selectors/is-gutenberg-enabled.js":function(e,t,n){"use strict";var s=n("./client/state/selectors/is-wp-admin-gutenberg-enabled.js"),i=n("./client/config/index.js"),r=n("./client/state/selectors/is-vip-site.js"),o=n("./client/state/sites/selectors.js"),a=n("./client/lib/url/index.js"),c=n("./client/lib/version-compare/index.js"),l=n("./client/state/selectors/is-site-automated-transfer.js"),u=n("./client/state/selectors/get-wordpress-version.js"),d=n("./client/state/selectors/is-plugin-active.js"),p=n("./client/state/selectors/is-any-plugin-active.js"),m=n("./client/lib/plugins/utils.js");var _=(e,t)=>{if(!t)return!1;if(Object(o.J)(e,t)||Object(l.a)(e,t)){const n=Object(u.a)(e,t);return!Object(c.a)(n,"5.0","<")&&!Object(d.a)(e,t,"classic-editor")&&!!Object(o.H)(e,t,"7.3.1-alpha")&&!("https:"===window.location.protocol&&!Object(a.f)(Object(o.l)(e,t)))&&!Object(p.a)(e,t,m.a)&&Object(i.c)("jetpack/gutenframe")}return!Object(r.a)(e,t)};n.d(t,"b",function(){return E});const E=(e,t)=>!!t&&(!Object(r.a)(e,t)&&(Object(s.a)(e,t)||_(e,t)));t.a=E},"./client/state/selectors/is-notifications-open.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./node_modules/lodash/lodash.js");function i(e){return Object(s.get)(e,"ui.isNotificationsOpen",!1)}},"./client/state/selectors/is-plugin-active.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./node_modules/lodash/lodash.js");function i(e,t,n){const i=e.plugins.installed.plugins[t],r=Object(s.find)(i,{slug:n,active:!0});return!!r&&r.active}},"./client/state/selectors/is-private-site.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./client/state/selectors/get-raw-site.js"),i=n("./client/state/site-settings/selectors.js");function r(e,t){const n=Object(s.a)(e,t);if(n)return n.is_private;const r=Object(i.a)(e,t);return r?-1===parseInt(r.blog_public,10):null}},"./client/state/selectors/is-requesting-site-connection-status.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(s.get)(e.sites.connection.requesting,t,!1)}},"./client/state/selectors/is-rtl.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js");t.a=(e=>Object(s.get)(e,"ui.language.isRtl",null))},"./client/state/selectors/is-site-automated-transfer.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(s.get)(e,["sites","items",t,"options","is_automated_transfer"],null)}},"./client/state/selectors/is-site-upgradeable.js":function(e,t,n){"use strict";var s=n("./client/state/selectors/can-current-user.js"),i=n("./client/state/current-user/selectors.js"),r=n("./client/state/selectors/get-raw-site.js");t.a=function(e,t){return Object(i.g)(e)&&Object(r.a)(e,t)?Object(s.b)(e,t,"manage_options"):null}},"./client/state/selectors/is-vip-site.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./client/state/selectors/get-raw-site.js");function i(e,t){const n=Object(s.a)(e,t);return n&&n.hasOwnProperty("is_vip")?n.is_vip:null}},"./client/state/selectors/is-wp-admin-gutenberg-enabled.js":function(e,t,n){"use strict";var s=n("./client/config/index.js"),i=n("./client/state/sites/selectors.js"),r=n("./client/state/selectors/is-site-automated-transfer.js"),o=n("./client/state/selectors/get-wordpress-version.js"),a=n("./client/lib/version-compare/index.js"),c=n("./client/state/selectors/is-plugin-active.js"),l=n("./client/lib/url/index.js"),u=n("./client/state/selectors/is-any-plugin-active.js"),d=n("./client/lib/plugins/utils.js");t.a=((e,t)=>{if(!t)return!1;if(Object(i.J)(e,t)||Object(r.a)(e,t)){const n=Object(o.a)(e,t);return!(Object(a.a)(n,"5.0","<")||Object(c.a)(e,t,"classic-editor")||Object(s.c)("jetpack/gutenframe")&&Object(i.H)(e,t,"7.3.1-alpha")&&("http:"===window.location.protocol||Object(l.f)(Object(i.l)(e,t)))&&!Object(u.a)(e,t,d.a))}return!1})},"./client/state/simple-payments/product-list/schema.js":function(e,t,n){"use strict";n.d(t,"c",function(){return o}),n.d(t,"b",function(){return c});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./client/config/index.js");const o=i()({currency:{type:"string",metaKey:"spay_currency"},price:{type:"string",metaKey:"spay_price"},multiple:{type:"boolean",metaKey:"spay_multiple"},status:{type:"string",metaKey:"spay_status"},email:{type:"string",metaKey:"spay_email"},formatted_price:{type:"string",metaKey:"spay_formatted_price"}},r.a.isEnabled("memberships")&&{recurring:{type:"boolean"},stripe_account:{type:"string"},renewal_schedule:{type:"string"}}),a={type:"object",patternProperties:{"^\\d+$":{type:"array",items:{type:"object",properties:i()({title:{type:"string"},description:{type:"string"},ID:{type:"number"}},o)}}},additionalProperties:!1},c=Object.keys(o).reduce((e,t)=>(e[o[t].metaKey]=t,e),{});t.a=a},"./client/state/site-settings/exporter/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});const s={READY:"READY",STARTING:"STARTING",EXPORTING:"EXPORTING",COMPLETE:"COMPLETE",FAILED:"FAILED"}},"./client/state/site-settings/selectors.js":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"d",function(){return r}),n.d(t,"a",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"b",function(){return c});var s=n("./node_modules/lodash/lodash.js");function i(e,t){return Object(s.get)(e.siteSettings.requesting,[t],!1)}function r(e,t){return Object(s.get)(e.siteSettings.saveRequests,[t,"saving"],!1)}function o(e,t){return Object(s.get)(e.siteSettings.items,[t],null)}function a(e,t){return"success"===function(e,t){return Object(s.get)(e.siteSettings.saveRequests,[t,"status"])}(e,t)}function c(e,t){return Object(s.get)(e.siteSettings.saveRequests,[t,"error"],!1)}},"./client/state/sites/actions.js":function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"d",function(){return u}),n.d(t,"f",function(){return d}),n.d(t,"e",function(){return p}),n.d(t,"a",function(){return m}),n.d(t,"g",function(){return _});var s=n("./node_modules/lodash/lodash.js"),i=n("./packages/i18n-calypso/dist/esm/index.js"),r=n.n(i),o=n("./client/lib/wp/browser.js"),a=n("./client/state/sites/constants.js");function c(e){return{type:"SITE_DELETE_RECEIVE",siteId:e}}function l(e){return{type:"SITE_RECEIVE",site:e}}function u(e){return{type:"SITES_RECEIVE",sites:e}}function d(){return e=>(e({type:"SITES_REQUEST"}),o.a.me().sites({apiVersion:"1.2",site_visibility:"all",include_domain_only:!0,site_activity:"active",fields:a.a,options:a.b}).then(t=>{e(u(t.sites)),e({type:"SITES_REQUEST_SUCCESS"})}).catch(t=>{e({type:"SITES_REQUEST_FAILURE",error:t})}))}function p(e){return t=>(t({type:"SITE_REQUEST",siteId:e}),o.a.site(e).get({apiVersion:"1.2"}).then(n=>{if(!n||!n.capabilities)return t({type:"SITE_REQUEST_FAILURE",siteId:e,error:r.a.translate("No access to manage the site")});t(l(Object(s.omit)(n,"_headers"))),t({type:"SITE_REQUEST_SUCCESS",siteId:e})}).catch(n=>{t({type:"SITE_REQUEST_FAILURE",siteId:e,error:n})}))}function m(e){return t=>(t({type:"SITE_DELETE",siteId:e}),o.a.undocumented().deleteSite(e).then(()=>{t(c(e)),t({type:"SITE_DELETE_SUCCESS",siteId:e})}).catch(n=>{t({type:"SITE_DELETE_FAILURE",siteId:e,error:n})}))}const _=e=>({type:"SITE_PLUGIN_UPDATED",siteId:e})},"./client/state/sites/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i});const s=["ID","URL","capabilities","icon","is_multisite","is_private","is_vip","jetpack","jetpack_modules","name","options","plan","single_user_site","visible","lang","launch_status"].join(),i=["admin_url","advanced_seo_front_page_description","advanced_seo_title_formats","allowed_file_types","created_at","default_comment_status","default_likes_enabled","default_ping_status","default_post_format","default_sharing_status","design_type","frame_nonce","gmt_offset","has_pending_automated_transfer","is_automated_transfer","is_domain_only","is_mapped_domain","is_redirect","is_wpcom_atomic","is_wpcom_store","woocommerce_is_active","jetpack_frame_nonce","jetpack_version","main_network_site","permalink_structure","page_on_front","page_for_posts","podcasting_archive","podcasting_category_id","publicize_permanently_disabled","show_on_front","signup_is_store","site_goals","software_version","timezone","upgraded_filetypes_enabled","unmapped_url","verification_services_codes","videopress_enabled","woocommerce_is_active","wordads"].join()},"./client/state/sites/plans/assembler.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});var s=n("./node_modules/moment/moment.js"),i=n.n(s);const r=e=>e?{autoRenew:Boolean(e.auto_renew),autoRenewDateMoment:e.auto_renew_date?i()(e.auto_renew_date).startOf("day"):null,canStartTrial:Boolean(e.can_start_trial),currentPlan:Boolean(e.current_plan),currencyCode:e.currency_code,discountReason:e.discount_reason,expiry:e.expiry,expiryMoment:e.expiry?i()(e.expiry).startOf("day"):null,formattedDiscount:e.formatted_discount,formattedOriginalPrice:e.formatted_original_price,formattedPrice:e.formatted_price,freeTrial:Boolean(e.free_trial),hasDomainCredit:Boolean(e.has_domain_credit),id:Number(e.id),interval:Number(e.interval),isDomainUpgrade:Boolean(e.is_domain_upgrade),productName:e.product_name,productSlug:e.product_slug,rawDiscount:e.raw_discount,rawPrice:e.raw_price,subscribedDate:e.subscribed_date,subscribedDayMoment:i()(e.subscribed_date).startOf("day"),userFacingExpiry:e.user_facing_expiry,userFacingExpiryMoment:e.user_facing_expiry?i()(e.user_facing_expiry).startOf("day"):null,userIsOwner:Boolean(e.user_is_owner)}:{}},"./client/state/sites/plans/reducer.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return o});var s=n("./node_modules/lodash/lodash.js");const i={data:null,error:null,hasLoadedFromServer:!1,isRequesting:!1};function r(e,t,n){return Object.assign({},e,{[t]:Object.assign({},i,e[t],n)})}function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SITE_PLANS_FETCH":return r(e,t.siteId,{error:null,isRequesting:!0});case"SITE_PLANS_FETCH_COMPLETED":return r(e,t.siteId,{error:null,hasLoadedFromServer:!0,isRequesting:!1,data:t.plans});case"SITE_PLANS_FETCH_FAILED":return r(e,t.siteId,{error:t.error,isRequesting:!1});case"SITE_PLANS_REMOVE":return Object(s.omit)(e,t.siteId);case"SITE_PLANS_TRIAL_CANCEL":return r(e,t.siteId,{isRequesting:!0});case"SITE_PLANS_TRIAL_CANCEL_COMPLETED":return r(e,t.siteId,{error:null,hasLoadedFromServer:!0,isRequesting:!1,data:t.plans});case"SITE_PLANS_TRIAL_CANCEL_FAILED":return r(e,t.siteId,{error:t.error,isRequesting:!1})}return e}},"./client/state/sites/plans/selectors.js":function(e,t,n){"use strict";n.d(t,"d",function(){return _}),n.d(t,"e",function(){return E}),n.d(t,"a",function(){return b}),n.d(t,"b",function(){return f}),n.d(t,"f",function(){return S}),n.d(t,"c",function(){return O}),n.d(t,"h",function(){return j}),n.d(t,"l",function(){return T}),n.d(t,"j",function(){return y}),n.d(t,"k",function(){return I}),n.d(t,"g",function(){return R}),n.d(t,"i",function(){return C});var s=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/debug/src/browser.js"),r=n.n(i),o=n("./node_modules/moment/moment.js"),a=n.n(o),c=n("./client/state/sites/plans/reducer.js"),l=n("./client/state/sites/selectors.js"),u=n("./client/state/sites/plans/assembler.js"),d=n("./client/lib/create-selector/index.js"),p=n("./client/lib/plans/index.js");const m=r()("calypso:state:sites:plans:selectors");function _(e,t){return t?E(e,t.ID):c.a}function E(e,t){return t&&e.sites.plans[t]||c.a}const b=(e,t)=>{const n=E(e,t);if(n.data){const i=Object(s.find)(n.data,"currentPlan");if(i)return m("current plan: %o",i),i;const r=Object(l.k)(e,t),o=Object(u.a)(r.plan);return m("current plan: %o",o),o}return null},g=Object(d.a)((e,t,n)=>{const s=E(e,t);return s&&s.data?s.data.filter(e=>e.productSlug===n).shift():null},(e,t)=>E(e,t));function h(e,t,n){const i=g(e,t,n);return i?Object(s.get)(i,"rawDiscount",-1)>0:null}function f(e,t,n){let i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).isMonthly,r=void 0!==i&&i;const o=g(e,t,n);if(Object(s.get)(o,"rawPrice",-1)<0||!h(e,t,n))return null;const a=o.rawPrice;return r?Object(p.b)(n,a):a}function S(e,t,n){let i=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).isMonthly,r=void 0!==i&&i;const o=g(e,t,n);if(Object(s.get)(o,"rawPrice",-1)<0)return null;const a=o.rawPrice+Object(s.get)(o,"rawDiscount",0);return r?Object(p.b)(n,a):a}function O(e,t,n){let s=(arguments.length>3&&void 0!==arguments[3]?arguments[3]:{}).isMonthly,i=void 0!==s&&s;const r=g(e,t,n);return h(e,t,n)?i?Object(p.b)(n,r.rawDiscount):r.rawDiscount:null}function j(e,t){if(!t)return c.a;const n=b(e,t);return Object(s.get)(n,"hasDomainCredit",null)}function T(e,t){return E(e,t).isRequesting}function y(e,t){const n=b(e,t);return Object(s.get)(n,"userFacingExpiryMoment",null)<a()().add(30,"days")}function I(e,t){const n=b(e,t);return Object(s.get)(n,"userIsOwner",!1)}function R(e,t){return Object(s.get)(b(e,t),"productSlug",null)}function C(e,t,n){return Object(p.z)(R(e,t),n)}},"./client/state/sites/selectors.js":function(e,t,n){"use strict";n.d(t,"v",function(){return N}),n.d(t,"m",function(){return U}),n.d(t,"k",function(){return P}),n.d(t,"Q",function(){return k}),n.d(t,"J",function(){return x}),n.d(t,"I",function(){return M}),n.d(t,"H",function(){return F}),n.d(t,"o",function(){return G}),n.d(t,"x",function(){return V}),n.d(t,"y",function(){return q}),n.d(t,"R",function(){return H}),n.d(t,"b",function(){return Q}),n.d(t,"d",function(){return B}),n.d(t,"c",function(){return Y}),n.d(t,"r",function(){return W}),n.d(t,"P",function(){return K}),n.d(t,"O",function(){return z}),n.d(t,"j",function(){return J}),n.d(t,"a",function(){return $}),n.d(t,"i",function(){return X}),n.d(t,"n",function(){return ee}),n.d(t,"w",function(){return te}),n.d(t,"s",function(){return ne}),n.d(t,"t",function(){return se}),n.d(t,"F",function(){return ie}),n.d(t,"G",function(){return re}),n.d(t,"p",function(){return oe}),n.d(t,"u",function(){return ae}),n.d(t,"q",function(){return ce}),n.d(t,"E",function(){return le}),n.d(t,"e",function(){return ue}),n.d(t,"f",function(){return de}),n.d(t,"C",function(){return me}),n.d(t,"D",function(){return _e}),n.d(t,"L",function(){return Ee}),n.d(t,"K",function(){return be}),n.d(t,"M",function(){return ge}),n.d(t,"h",function(){return he}),n.d(t,"S",function(){return fe}),n.d(t,"l",function(){return Se}),n.d(t,"g",function(){return Oe}),n.d(t,"B",function(){return je}),n.d(t,"N",function(){return Te}),n.d(t,"A",function(){return ye}),n.d(t,"z",function(){return Ie});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(r),a=n("./packages/i18n-calypso/dist/esm/index.js"),c=n.n(a),l=n("./node_modules/moment/moment.js"),u=n.n(l),d=n("./node_modules/lodash/lodash.js"),p=n("./client/state/selectors/can-current-user.js"),m=n("./client/config/index.js"),_=n("./client/lib/create-selector/index.js"),E=n("./client/state/selectors/get-raw-site.js"),b=n("./client/state/selectors/get-site-options.js"),g=n("./client/state/selectors/get-sites-items.js"),h=n("./client/state/selectors/has-site-pending-automated-transfer.js"),f=n("./client/state/selectors/is-site-automated-transfer.js"),S=n("./client/state/selectors/is-site-upgradeable.js"),O=n("./client/lib/version-compare/index.js"),j=n("./client/lib/ads/utils.js"),T=n("./client/components/seo/meta-title-editor/mappings.js"),y=n("./client/state/automated-transfer/selectors.js"),I=n("./client/my-sites/customize/panels.js"),R=n("./client/state/ui/selectors.js"),C=n("./client/state/sites/plans/selectors.js"),A=n("./client/lib/url/index.js"),v=n("./client/state/automated-transfer/constants.js");const N=Object(_.a)((e,t)=>{const n=Object(E.a)(e,t);return n?W(e,t,"is_redirect")||L(e,t)?Object(A.m)(W(e,t,"unmapped_url")):Object(A.l)(n.URL):null},[g.a]),U=Object(_.a)((e,t)=>Object(d.find)(Object(g.a)(e),n=>N(e,n.ID)===t)||null,g.a);let w=new WeakMap;function P(e,t){const n=Object(E.a)(e,t)||U(e,t);if(!n)return null;const s=w.get(n);if(s)return s;const i=o()({},n,function(e,t){if(!Object(E.a)(e,t))return null;const n={domain:G(e,t),hasConflict:L(e,t),is_customizable:!!Object(p.b)(e,t,"edit_theme_options"),is_previewable:!!H(e,t),options:Object(b.a)(e,t),slug:N(e,t),title:V(e,t)};W(e,t,"is_mapped_domain")&&!x(e,t)&&(n.wpcom_url=Object(A.m)(W(e,t,"unmapped_url")));n.hasConflict&&(n.URL=W(e,t,"unmapped_url"));return n}(e,n.ID),function(e,t){if(!x(e,t))return{};return{hasMinimumJetpackVersion:fe(e,t),canAutoupdateFiles:pe(e,t),canUpdateFiles:de(e,t),canManage:ue(e,t),isMainNetworkSite:be(e,t),isSecondaryNetworkSite:ge(e,t),isSiteUpgradeable:Object(S.a)(e,t)}}(e,n.ID));return w.set(n,i),i}P.clearCache=(()=>{w=new WeakMap});const D=Object(_.a)(e=>Object(d.map)(Object(d.filter)(Object(g.a)(e),t=>{const n=Object(A.m)(t.URL);return!t.jetpack&&Object(d.some)(Object(g.a)(e),e=>e.jetpack&&n===Object(A.m)(e.URL))}),"ID"),g.a);function L(e,t){return Object(d.includes)(D(e),t)}function k(e,t){return Object(d.get)(P(e,t),"single_user_site",null)}function x(e,t){const n=Object(E.a)(e,t);return n?n.jetpack:null}function M(e,t,n){const s=W(e,t,"active_modules");return s?Object(d.includes)(s,n):null}function F(e,t,n){if(!x(e,t))return null;const s=W(e,t,"jetpack_version");return s?Object(O.a)(s,n,">="):null}function G(e,t){if(W(e,t,"is_redirect")||L(e,t))return N(e,t);const n=Object(E.a)(e,t);return n?Object(A.m)(n.URL):null}function V(e,t){const n=Object(E.a)(e,t);return n?n.name?n.name.trim():G(e,t):null}function q(e,t){if(W(e,t,"is_redirect")||L(e,t))return N(e,t);const n=Object(E.a)(e,t);return n?n.URL:null}function H(e,t){const n=Object(E.a)(e,t);if(!n)return null;if(n.is_vip)return!1;const s=W(e,t,"unmapped_url");return!!s&&Object(A.f)(s)}function Q(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return t||(t=Object(R.e)(e)),!!Object(p.b)(e,t,"manage_options")&&(!ie(e,t)||Object(C.k)(e,t))}function B(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=Object(R.e)(e));const n=Object(p.b)(e,t,"manage_options"),s=!!Object(f.a)(e,t),i=Object(h.a)(e,t),r=Object(y.b)(e,t),o=i&&r!==v.b.ERROR;return n&&s||m.a.isEnabled("signup/atomic-store-flow")&&o}function Y(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;t||(t=Object(R.e)(e));const n=P(e,t);return n&&!!Object(j.b)(n)}function W(e,t,n){return Object(d.get)(Object(b.a)(e,t),n,null)}function K(e){return!!e.sites.requestingAll}function z(e,t){return!!e.sites.requesting[t]}const J=Object(d.flowRight)(T.a,Object(d.partialRight)(d.get,"options.advanced_seo_title_formats",{})),Z=Object(d.flowRight)(J,E.a),$=(e,t,n)=>{let s=n.site,i=n.post,r=void 0===i?{}:i,o=n.tag,a=void 0===o?"":o,c=n.date,l=void 0===c?"":c;const u=(t,n)=>Object(d.get)(e,t,[]).reduce((e,t)=>e+function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return"string"===e.type?e.value:Object(d.get)(t,e.type,"")}(t,n),"");switch(t){case"frontPage":return u("frontPage",{siteName:s.name,tagline:s.description})||s.name;case"posts":return u("posts",{siteName:s.name,tagline:s.description,postTitle:Object(d.get)(r,"title","")})||Object(d.get)(r,"title","");case"pages":return u("pages",{siteName:s.name,tagline:s.description,pageTitle:Object(d.get)(r,"title","")});case"groups":return u("groups",{siteName:s.name,tagline:s.description,groupTitle:a});case"archives":return u("archives",{siteName:s.name,tagline:s.description,date:l});default:return r.title||s.name}},X=(e,t,n)=>{if(!Object(d.has)(n,"site.ID"))return"";const s=Z(e,n.site.ID);return $(s,t,n)};function ee(e,t){const n=Object(A.l)(t);return U(e,n)}function te(e,t){const n=Object(E.a)(e,t);if(!n||n.jetpack)return null;const s=Object(d.split)(W(e,t,"theme_slug"),"/",2),r=i()(s,2),o=r[0],a=r[1];if(!Object(d.includes)(["pub","premium"],o))return null;const c=N(e,t);return"premium"===o?"/theme/".concat(a,"/setup/").concat(c):"/theme/".concat(a,"/").concat(c)}function ne(e,t){const n=Object(E.a)(e,t);return n?Object(d.get)(n.plan,"expired",!1)?n.jetpack?{product_id:2002,product_slug:"jetpack_free",product_name_short:"Free",free_trial:!1,expired:!1}:{product_id:1,product_slug:"free_plan",product_name_short:"Free",free_trial:!1,expired:!1}:n.plan:null}function se(e,t){return Object(d.get)(ne(e,t),"product_slug")}function ie(e,t){const n=ne(e,t);return n?1!==n.product_id&&2002!==n.product_id:null}function re(e,t,n){if(void 0===n)return null;const s=ne(e,t);return s?s.product_id===n:null}function oe(e,t){return W(e,t,"page_on_front")}function ae(e,t){return W(e,t,"page_for_posts")}function ce(e,t){return W(e,t,"show_on_front")}function le(e,t){return!!oe(e,t)}function ue(e,t){const n=W(e,t,"jetpack_version");if(!n)return null;if(Object(O.a)(n,"7.3-alpha",">="))return!0;if(Object(O.a)(n,"3.4",">=")){const n=M(e,t,"manage");return null===n||n}return!0}function de(e,t){if(!x(e,t))return null;if(!fe(e,t))return!1;if(W(e,t,"is_multi_network"))return!1;if(ge(e,t))return!1;const n=W(e,t,"file_mod_disabled");return!n||!Object(d.includes)(n,"disallow_file_mods")&&!Object(d.includes)(n,"has_no_file_system_write_access")}function pe(e,t){if(!x(e,t))return null;if(!de(e,t))return!1;const n=W(e,t,"file_mod_disabled");return!n||!Object(d.includes)(n,"automatic_updater_disabled")}function me(e,t){if(!x(e,t))return null;const n=W(e,t,"jetpack_version");return Object(O.a)(n,"3.7-beta")>=0}function _e(e,t){if(!x(e,t))return null;const n=W(e,t,"jetpack_version");return Object(O.a)(n,"4.7")>=0}function Ee(e,t){const n=Object(E.a)(e,t);return n&&x(e,t)?!0===n.is_multisite:null}function be(e,t){const n=Object(E.a)(e,t);if(!n||!x(e,t))return null;if(!n.is_multisite)return!1;const s=W(e,t,"unmapped_url"),i=W(e,t,"main_network_site");return!(!s||!i)&&Object(A.m)(s)===Object(A.m)(i)}function ge(e,t){const n=Object(E.a)(e,t);if(!n||!x(e,t))return null;if(!n.is_multisite)return!1;const s=W(e,t,"unmapped_url"),i=W(e,t,"main_network_site");return!(!s||!i)&&Object(A.m)(s)!==Object(A.m)(i)}function he(e,t){if(!x(e,t))return null;const n=W(e,t,"jetpack_version");return W(e,t,"admin_url")+"admin.php?page=jetpack&configure="+(Object(O.a)(n,"3.4",">=")?"manage":"json-api")}function fe(e,t){if(!x(e,t))return null;const n=W(e,t,"jetpack_version");if(!n)return null;const s=Object(m.a)("jetpack_min_version");return Object(O.a)(n,s)>=0}function Se(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"";const s=W(e,t,"admin_url");return s?s+n.replace(/^\//,""):null}function Oe(e,t,n){if(!x(e,t)){const s=N(e,t);return[""].concat(Object(d.compact)(["customize",n,s])).join("/")}const s=Se(e,t,"customize.php");if(!s)return null;let i;return"undefined"!=typeof window&&(i=window.location.href),Object(A.a)(o()({return:i},Object(I.a)(n)),s)}const je=(e,t)=>{const n=Object(E.a)(e,t);if(!n)return null;const s=N(e,t);return n.name===c.a.translate("Site Title")||Object(d.startsWith)(s,n.name)};function Te(e,t){const n=W(e,t,"created_at");return!!n&&u()().diff(n,"minutes")<30}function ye(e){return!!e.sites.hasAllSitesList}function Ie(e,t){return Object(d.get)(Object(E.a)(e,t),"updates",null)}},"./client/state/stats/chart-tabs/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});const s=["views","visitors","likes","comments","post_titles"]},"./client/state/stats/lists/utils.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),o=n.n(r),a=n("./node_modules/lodash/lodash.js"),c=n("./packages/i18n-calypso/dist/esm/index.js");const l={twitter:{label:"Twitter",icon:"https://secure.gravatar.com/blavatar/7905d1c4e12c54933a44d19fcd5f9356?s=48"},facebook:{label:"Facebook",icon:"https://secure.gravatar.com/blavatar/2343ec78a04c6ea9d80806345d31fd78?s=48"},tumblr:{label:"Tumblr",icon:"https://secure.gravatar.com/blavatar/84314f01e87cb656ba5f382d22d85134?s=48"},google_plus:{label:"Google+",icon:"https://secure.gravatar.com/blavatar/4a4788c1dfc396b1f86355b274cc26b3?s=48"},linkedin:{label:"LinkedIn",icon:"https://secure.gravatar.com/blavatar/f54db463750940e0e7f7630fe327845e?s=48"},path:{label:"Path",icon:"https://secure.gravatar.com/blavatar/3a03c8ce5bf1271fb3760bb6e79b02c1?s=48"}};function u(e,t){const n=t.toString();switch(e){case"week":return 8===n.length&&"-W"===n.substr(4,2)?"YYYY-[W]WW":"YYYY-MM-DD";case"month":return 7===n.length&&"-"===n.substr(4,1)?"YYYY-MM":"YYYY-MM-DD";case"year":return 4===n.length?"YYYY":"YYYY-MM-DD";case"day":default:return"YYYY-MM-DD"}}function d(e,t){const n=u(e,t),s=Object(c.moment)(t,n).locale("en"),i=s.clone().startOf(e),r=s.clone().endOf(e);return"week"===e&&("0"===s.format("d")?(i.subtract(6,"d"),r.subtract(6,"d")):(i.add(1,"d"),r.add(1,"d"))),{startOf:i.format("YYYY-MM-DD"),endOf:r.format("YYYY-MM-DD")}}function p(e){if(!e||!e.date||!e.unit&&!e.period)return!0;const t=d(e.period||e.unit,e.date),n=Object(c.moment)();return n>=Object(c.moment)(t.startOf)&&n<Object(c.moment)(t.endOf).add(1,"day")}function m(e){if(!e)return null;const t=e.split("?");return o()(t,1)[0]+"?d=mm"}function _(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!e||!e.label||!e.value)return[];const n=t?t+" > "+e.label:e.label;let s=[['"'+n.replace(/\"/,'""')+'"',e.value]];if(e.children){const t=Object(a.map)(e.children,e=>_(e,n));s=Object(a.concat)(s,Object(a.flatten)(t))}return s}function E(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return JSON.stringify(Object(a.sortBy)(Object(a.toPairs)(e),e=>e[0]))}function b(e){return e&&e.deltas&&e.delta_fields&&0!==Object.keys(e.deltas).length?e.deltas.map(t=>{const n=Object.keys(t).filter(e=>"period"!==e),s={period:S(e.unit,t.period).format("YYYY-MM-DD")};return n.forEach(n=>{s[n]=t[n].reduce((t,n,s)=>(t[e.delta_fields[s]]=n,t),{})}),s}):[]}function g(e,t,n){const s=c.moment.isMoment(t)&&t.isValid(),i=c.moment.isMoment(n)&&n.isValid();if(s&&i&&e){const s=t.toDate().getDay(),i="day"===e&&(6===s||0===s),r="label".concat(e.charAt(0).toUpperCase()+e.slice(1)),o={day:Object(c.translate)("MMM D",{context:"momentjs format string (day)",comment:"This specifies a day for the stats x-axis label."}),week:Object(c.translate)("MMM D",{context:"momentjs format string (week)",comment:"This specifies a week for the stats x-axis label."}),month:"MMM",year:"YYYY"};return{[r]:n.format(o[e]),classNames:i?["is-weekend"]:[]}}return{}}function h(e){return e&&e.data?e.data.map(function(t){const n={};if(t.forEach(function(t,s){n[e.fields[s]]=t}),n.period){const t=S(e.unit,n.period).locale("en"),s=S(e.unit,n.period);Object.assign(n,g(e.unit,t,s))}return n.period=S(e.unit,n.period).format("YYYY-MM-DD"),n}):[]}function f(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e&&e.data?e.data.map(function(n){const s=t.reduce((e,t)=>(e[t]=null,e),{});if(n.forEach(function(t,n){"period"===e.fields[n]&&(t=t.replace(/W/g,"-")),s[e.fields[n]]=t}),s.period){const t=Object(c.moment)(s.period,"YYYY-MM-DD").locale("en"),n=Object(c.moment)(s.period,"YYYY-MM-DD");Object.assign(s,g(e.unit,t,n))}return s}):[]}function S(e,t){switch(e){case"week":const n=t.split("-W");return Object(c.moment)().isoWeekYear(n[0]).isoWeek(n[1]).endOf("isoWeek");case"month":return Object(c.moment)(t,"YYYY-MM").endOf("month");case"year":return Object(c.moment)(t,"YYYY").endOf("year");case"day":default:return Object(c.moment)(t,"YYYY-MM-DD")}}n.d(t,"b",function(){return u}),n.d(t,"g",function(){return d}),n.d(t,"d",function(){return p}),n.d(t,"a",function(){return _}),n.d(t,"c",function(){return E}),n.d(t,"f",function(){return f}),n.d(t,"e",function(){return O});const O={stats:e=>e&&e.stats?Object(a.mapKeys)(e.stats,(e,t)=>Object(a.camelCase)(t)):null,statsInsights:e=>{if(!e||!Object(a.isNumber)(e.highest_day_of_week))return{};const t=e.highest_hour,n=e.highest_day_percent,s=e.highest_day_of_week,i=e.highest_hour_percent,r=e.hourly_views,o=e.years;let l=s+1;return l>6&&(l=0),{day:Object(c.moment)().day(l).format("dddd"),percent:Math.round(n),hour:Object(c.moment)().hour(t).startOf("hour").format("LT"),hourPercent:Math.round(i),hourlyViews:r,years:o}},statsTopPosts:(e,t,n,s)=>{if(!e||!t.period||!t.date)return[];const i=d(t.period,t.date),r=i.startOf,o=i.endOf,l=t.summarize?["summary","postviews"]:["days",r,"postviews"],u=Object(a.get)(e,l,[]);return Object(a.map)(u,e=>{const t=s?"/stats/post/".concat(e.id,"/").concat(s.slug):null;let n=!1;if(e.date){const t=Object(c.moment)(e.date);(t.isAfter(r,"day")||t.isSame(r,"day"))&&(t.isBefore(o,"day")||t.isSame(o,"day"))&&(n=!0)}return{label:e.title,value:e.views,page:t,actions:[{type:"link",data:e.href}],labelIcon:null,children:null,className:n?"published":null}})},statsCountryViews:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e||!t.period||!t.date)return null;const n=d(t.period,t.date).startOf,s=Object(a.get)(e,["country-info"],{}),i=t.summarize?["summary","views"]:["days",n,"views"],r=Object(a.filter)(Object(a.get)(e,i,[]),e=>s[e.country_code]);return Object(a.map)(r,e=>{const t=s[e.country_code];return{label:t.country_full.replace(/’/,"'"),countryCode:e.country_code,value:e.views,region:t.map_region}})},statsPublicize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e&&e.services?e.services.map(e=>{const t=l[e.service];return{label:t.label,icon:t.icon,value:e.followers}}):[]},statsVideoPlays(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0);if(!e||!t.period||!t.date)return[];const s=d(t.period,t.date).startOf;return Object(a.get)(e,["days",s,"plays"],[]).map(e=>{const s=n?"/stats/".concat(t.period,"/videodetails/").concat(n.slug,"?post=").concat(e.post_id):null;return{label:e.title,page:s,value:e.plays,actions:[{type:"link",data:e.url}]}})},statsFollowers(e){if(!e)return null;return{total_wpcom:e.total_wpcom,total_email:e.total_email,subscribers:Object(a.get)(e,["subscribers"],[]).map(e=>({label:e.label,iconClassName:"avatar-user",icon:m(e.avatar),link:e.url,value:{type:"relative-date",value:e.date_subscribed},actions:[{type:"follow",data:!!e.follow_data&&e.follow_data.params}]}))}},statsCommentFollowers(e){if(!e)return null;const t=e.page||0,n=e.pages||0,s=e.total||0;let i=[];return e.posts&&(i=e.posts.map(e=>0===e.id?{label:"All Posts",value:e.followers}:{label:e.title,link:e.url,labelIcon:"external",value:e.followers})),{page:t,pages:n,total:s,posts:i}},statsComments(e,t,n,s){if(!e)return null;const i=s?s.options.admin_url:null;let r=[];e.authors&&(r=e.authors.map(e=>({label:e.name,value:e.comments,iconClassName:"avatar-user",icon:m(e.gravatar),link:i+"edit-comments.php"+e.link,className:"module-content-list-item-large",actions:[{type:"follow",data:!!e.follow_data&&e.follow_data.params}]})));let o=[];return e.posts&&(o=e.posts.map(e=>({label:e.name,value:e.comments,page:s?"/stats/post/"+e.id+"/"+s.slug:null,actions:[{type:"link",data:e.link}]}))),{authors:r,posts:o}},statsVideo(e){if(!e)return null;let t=[];e.data&&(t=e.data.map(e=>({period:e[0],value:e[1]})).slice(Math.max(e.data.length-10,1)));let n=[];return e.pages&&(n=e.pages.map(e=>({label:e,link:e}))),{pages:n,data:t}},statsTopAuthors(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(arguments.length>2&&arguments[2],arguments.length>3?arguments[3]:void 0);if(!e||!t.period||!t.date)return[];const s=d(t.period,t.date).startOf;return Object(a.get)(e,["days",s,"authors"],[]).map(e=>{const t={label:e.name,iconClassName:"avatar-user",icon:m(e.avatar),children:null,value:e.views,className:"module-content-list-item-large"};return e.posts&&e.posts.length>0&&(t.children=e.posts.map(e=>({label:e.title,value:e.views,page:n?"/stats/post/"+e.id+"/"+n.slug:null,actions:[{type:"link",data:e.url}],children:null}))),t})},statsTags(e){if(!e||!e.tags)return[];const t=e=>"category"===e?"folder":e;return e.tags.map(e=>{let n;const s=e.tags.length>1,i=e.tags.map(e=>({label:e.name,labelIcon:t(e.type),link:s?null:e.link}));return s&&(n=e.tags.map(e=>({label:e.name,labelIcon:t(e.type),value:null,children:null,link:e.link}))),{label:i,link:i.length>1?null:i[0].link,value:e.views,children:n}})},statsClicks(e,t){if(!e||!t.period||!t.date)return[];const n=d(t.period,t.date).startOf,s=t.summarize?["summary","clicks"]:["days",n,"clicks"];return Object(a.get)(e,s,[]).map(e=>{const t=e.children&&e.children.length>0,n={label:e.name,value:e.views,children:null,link:e.url,icon:e.icon,labelIcon:t?null:"external"};return e.children&&(n.children=e.children.map(e=>({label:e.name,value:e.views,children:null,link:e.url,labelIcon:"external"}))),n})},statsReferrers(e,t,n){if(!e||!t.period||!t.date)return[];const s=d(t.period,t.date).startOf,r=t.summarize?["summary","groups"]:["days",s,"groups"],o=Object(a.get)(e,r,[]),c=e=>{let t;e.children&&e.children.length>0&&(t=e.children.map(c));const n={label:e.name,value:e.views,link:e.url,labelIcon:t?null:"external",children:t};return e.icon&&(n.icon=e.icon),n};return o.map(e=>{let t=[];return(e.url&&-1!==e.url.indexOf(e.name)||!e.url&&e.name===e.group&&-1!==e.name.indexOf("."))&&(t=[{type:"spam",data:{siteID:n,domain:e.name}}]),i()({},c(i()({},e,{children:e.results,views:e.total})),{actions:t,actionMenu:t.length})})},statsVisits:e=>f(e,["visits","likes","visitors","comments","posts"]),statsOrders:e=>({data:h(e),deltas:b(e)}),statsStoreReferrers:e=>(function(e){if(!(e&&e.data&&e.fields&&Array.isArray(e.data)))return[];const t=e.fields;return e.data.map(n=>{const s=S(e.unit,n.date).locale("en"),r=S(e.unit,n.date),o=r.format("YYYY-MM-DD");return i()({date:o,data:n.data.map(e=>{const n={};return e.forEach((e,s)=>{const i=t[s];n[i]=e}),n})},g(e.unit,s,r))})})(e),statsTopSellers:e=>e&&e.data?e.data:[],statsTopCategories:e=>e&&e.data?e.data:[],statsTopCoupons:e=>e&&e.data?e.data:[],statsTopEarners:e=>e&&e.data?e.data:[],statsAds:e=>e&&e.data?f(e,["impressions","revenue","cpm"]):[],statsSearchTerms(e,t){if(!e||!t.period||!t.date)return[];const n=d(t.period,t.date).startOf,s=t.summarize?["summary"]:["days",n],i=Object(a.get)(e,s.concat(["search_terms"]),[]),r=Object(a.get)(e,s.concat(["encrypted_search_terms"]),!1),o=i.map(e=>({label:e.term,className:"user-selectable",value:e.views}));return r&&o.push({label:Object(c.translate)("Unknown Search Terms"),value:r,link:"http://en.support.wordpress.com/stats/#search-engine-terms",labelIcon:"external"}),o},statsPodcastDownloads(e,t,n,s){if(!e||!t.period||!t.date)return[];const i=d(t.period,t.date).startOf;return Object(a.get)(e,["days",i,"downloads"],[]).map(e=>{const n=s?"/stats/"+t.period+"/podcastdownloads/"+s.slug+"?post="+e.post_id:null;return{label:e.title,page:n,value:e.downloads,actions:[{type:"link",data:e.url}]}})}}},"./client/state/support/selectors.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./client/state/support/reducer.js");function i(e){let t=e.support;return t===s.a||t===s.b}},"./client/state/terms/utils.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js");const i={context:"display",http_envelope:!1,pretty:!1,number:100,offset:0,page:1,order:"DESC",order_by:"name",search:""};function r(){const e=function(e){return Object(s.omitBy)(e,(e,t)=>i[t]===e)}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return JSON.stringify(e).toLocaleLowerCase()}function o(e){return r(Object(s.omit)(e,"page"))}n.d(t,"a",function(){return r}),n.d(t,"b",function(){return o})},"./client/state/themes/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});const s={search:"",tier:"",filter:"",number:20,offset:0,page:1}},"./client/state/themes/utils.js":function(e,t,n){"use strict";n.d(t,"l",function(){return d}),n.d(t,"f",function(){return p}),n.d(t,"i",function(){return m}),n.d(t,"j",function(){return _}),n.d(t,"k",function(){return E}),n.d(t,"e",function(){return b}),n.d(t,"b",function(){return g}),n.d(t,"c",function(){return h}),n.d(t,"a",function(){return f}),n.d(t,"d",function(){return S}),n.d(t,"g",function(){return O}),n.d(t,"h",function(){return j});var s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(r),a=n("./node_modules/lodash/lodash.js"),c=n("./client/state/themes/constants.js");const l=/^(?:(\d+):)?(.*)$/,u=["feature"],d="//wordpress.com/themes/";function p(e){const t=Object(a.get)(e,"stylesheet",!1);return t&&Object(a.startsWith)(t,"premium/")}function m(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return e.tags?o()({},Object(a.omit)(e,"tags"),{taxonomies:{theme_feature:Object(a.map)(e.tags,e=>({slug:e}))}}):e}function _(e){const t={description_long:"descriptionLong",support_documentation:"supportDocumentation",download_uri:"download"};return Object(a.mapKeys)(e,(e,n)=>Object(a.get)(t,n,n))}function E(e){const t={slug:"id",preview_url:"demo_uri",screenshot_url:"screenshot",download_link:"download"},n=Object(a.mapKeys)(Object(a.omit)(e,["sections","author"]),(e,n)=>Object(a.get)(t,n,n)),s=Object(a.get)(e,["sections","description"]);s&&(n.description=s);const i=Object(a.get)(e,["author","display_name"]);return i&&(n.author=i),n.tags?o()({},Object(a.omit)(n,"tags"),{taxonomies:{theme_feature:Object(a.map)(n.tags,(e,t)=>({name:e,slug:t}))}}):n}function b(e){const t=Object(a.split)(e,"/",2),n=i()(t,2)[1];return n||e}function g(e){return Object(a.omitBy)(e,(e,t)=>c.a[t]===e)}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;const n=g(e),s=JSON.stringify(n);return t?[t,s].join(":"):s}function f(e){let t,n;const s=e.match(l);if(s){t=Number(s[1])||void 0;try{n=JSON.parse(s[2])}catch(e){}}return{siteId:t,query:n}}function S(e,t){return h(Object(a.omit)(e,"page"),t)}function O(e){return Object(a.includes)(e.theme_uri,"wordpress.com")}function j(e,t){const n=o()({},c.a,e);return Object(a.every)(n,(e,n)=>{switch(n){case"search":if(!e)return!0;const s=e.toLowerCase();return Object(a.some)(u,e=>t.taxonomies&&Object(a.some)(t.taxonomies["theme_"+e],e=>{let t=e.name;return t&&Object(a.includes)(t.toLowerCase(),s)}))||t.id&&Object(a.includes)(t.id.toLowerCase(),s)||t.name&&Object(a.includes)(t.name.toLowerCase(),s)||t.author&&Object(a.includes)(t.author.toLowerCase(),s)||t.descriptionLong&&Object(a.includes)(t.descriptionLong.toLowerCase(),s);case"filter":if(!e)return!0;const i=e.split(",");return Object(a.every)(i,e=>Object(a.some)(t.taxonomies,t=>Object(a.some)(t,{slug:e})))}return!0})}},"./client/state/ui/actions.js":function(e,t,n){"use strict";n.d(t,"h",function(){return s}),n.d(t,"d",function(){return i}),n.d(t,"f",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"e",function(){return a}),n.d(t,"j",function(){return c}),n.d(t,"b",function(){return l}),n.d(t,"c",function(){return u}),n.d(t,"a",function(){return d}),n.d(t,"i",function(){return p});n("./client/state/data-layer/wpcom/sites/jitm/index.js");function s(e){return{type:"SELECTED_SITE_SET",siteId:e}}function i(){return{type:"SELECTED_SITE_SET",siteId:null}}function r(e){return{type:"ROUTE_SET",path:e,query:arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}}}function o(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t.type="SECTION_SET",e&&(t.section=e),t.hasSidebar=!1!==t.hasSidebar,t}function a(e){return{type:"PREVIEW_IS_SHOWING",isShowing:e}}const c=()=>({type:"NOTIFICATIONS_PANEL_TOGGLE"}),l=e=>({type:"NAVIGATE",path:e}),u=(e,t)=>({type:"HISTORY_REPLACE",path:e,saveContext:t}),d=()=>({type:"MASTERBAR_TOGGLE_VISIBILITY",isVisible:!1}),p=()=>({type:"MASTERBAR_TOGGLE_VISIBILITY",isVisible:!0})},"./client/state/ui/comments/utils.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var s=n("./node_modules/lodash/lodash.js");const i=e=>{let t=e.order,n=void 0===t?"DESC":t,i=e.search,r=e.status,o=void 0===r?"all":r;const a=n.toUpperCase(),c=Object(s.includes)(["ASC","DESC"],a)?a:"DESC",l=i?"&s=".concat(i):"";return"".concat(o,"?order=").concat(c).concat(l)}},"./client/state/ui/editor/actions.js":function(e,t,n){"use strict";n.d(t,"n",function(){return _}),n.d(t,"m",function(){return E}),n.d(t,"o",function(){return b}),n.d(t,"j",function(){return g}),n.d(t,"l",function(){return h}),n.d(t,"k",function(){return f}),n.d(t,"b",function(){return S}),n.d(t,"a",function(){return O}),n.d(t,"c",function(){return j}),n.d(t,"g",function(){return T}),n.d(t,"d",function(){return y}),n.d(t,"f",function(){return I}),n.d(t,"i",function(){return R}),n.d(t,"e",function(){return C}),n.d(t,"h",function(){return A});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/wp/browser.js"),r=n("./client/lib/version-compare/index.js"),o=n("./client/state/ui/media-modal/constants.js"),a=n("./client/state/ui/media-modal/actions.js"),c=n("./client/state/analytics/actions.js"),l=n("./client/state/preferences/actions.js"),u=n("./client/state/preferences/selectors.js"),d=n("./client/state/ui/selectors.js"),p=n("./client/state/posts/actions.js");const m={[o.a.LIST]:"view_list",[o.a.DETAIL]:"view_detail",[o.a.GALLERY]:"view_gallery",[o.a.IMAGE_EDITOR]:"view_edit",[o.a.VIDEO_EDITOR]:"view_edit"};function _(e,t){return n=>{n(I({isLoading:!0})),n({type:"EDITOR_START",siteId:e,postId:t})}}function E(e,t){return n=>{const i=Object(s.defaults)(t,{status:"draft",type:"post",content:"",title:""});n(I({isLoading:!0})),n({type:"EDITOR_START",siteId:e,postId:null}),n(Object(p.e)(e,null,i)),n(I())}}function b(e,t){return n=>{n(I()),n({type:"EDITOR_STOP",siteId:e,postId:t})}}function g(e){return{type:"EDITOR_PASTE_EVENT",source:e}}function h(e){const t=Object(a.b)(e),n=m[e];return n?Object(c.k)(Object(c.a)("editor_media_actions",n),t):t}function f(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return(n,i)=>{const r=Object(u.b)(i(),"editorConfirmationDisabledSites");n(t?Object(l.b)("editorConfirmationDisabledSites",Object(s.filter)(r,t=>e!==t)):Object(l.b)("editorConfirmationDisabledSites",[...r,e])),n(Object(c.i)(t?"calypso_publish_confirmation_preference_enable":"calypso_publish_confirmation_preference_disable")),n(Object(c.a)("calypso_publish_confirmation",t?"enabled":"disabled"))}}const S=()=>({type:"EDITOR_AUTOSAVE_RESET"}),O=e=>(t,n)=>{const s=Object(d.d)(n());if(!e.ID||!s||s.jetpack&&Object(r.a)(s.options.jetpack_version,"3.7.0-dev","<"))return Promise.reject(new Error("NO_AUTOSAVE"));t({type:"EDITOR_AUTOSAVE"});const o=i.a.undocumented().site(e.site_ID).postAutosave(e.ID,{content:e.content,title:e.title,excerpt:e.excerpt});return o.then(e=>t((e=>({type:"EDITOR_AUTOSAVE_SUCCESS",autosave:e}))(e))).catch(e=>t((e=>({type:"EDITOR_AUTOSAVE_FAILURE",error:e}))(e))),o};function j(e){return{type:"EDITOR_EDIT_RAW_CONTENT",content:e}}function T(){return{type:"EDITOR_RESET_RAW_CONTENT"}}function y(e){return{type:"EDITOR_INIT_RAW_CONTENT",content:e}}function I(e){return{type:"EDITOR_RESET",isLoading:Object(s.get)(e,"isLoading",!1),loadingError:Object(s.get)(e,"loadingError",null)}}function R(e){return I({loadingError:e})}function C(){return{type:"EDITOR_LOADING_ERROR_RESET"}}const A=(e,t,n)=>({type:"EDITOR_SAVE",siteId:e,postId:t,saveMarker:n})},"./client/state/ui/editor/image-editor/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"c",function(){return r}),n.d(t,"b",function(){return o});var s=n("./node_modules/lodash/lodash.js");const i={FREE:"FREE",ORIGINAL:"ORIGINAL",ASPECT_1X1:"ASPECT_1X1",ASPECT_16X9:"ASPECT_16X9",ASPECT_4X3:"ASPECT_4X3",ASPECT_3X2:"ASPECT_3X2"},r={WIDTH:50,HEIGHT:50},o=Object(s.values)(i)},"./client/state/ui/editor/image-editor/reducer.js":function(e,t,n){"use strict";n.d(t,"b",function(){return u});var s=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),i=n.n(s),r=n("./client/state/utils.js"),o=n("./client/state/ui/editor/image-editor/constants.js");const a={degrees:0,scaleX:1,scaleY:1},c={src:"",fileName:"default",mimeType:"image/png",title:"default"},l={topBound:0,leftBound:0,bottomBound:100,rightBound:100},u={topRatio:0,leftRatio:0,widthRatio:1,heightRatio:1};const d=Object(r.c)(null,{IMAGE_EDITOR_IMAGE_HAS_LOADED:(e,t)=>{return{width:t.width,height:t.height}},IMAGE_EDITOR_STATE_RESET_ALL:()=>null});t.a=Object(r.b)({hasChanges:function(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"IMAGE_EDITOR_SET_ASPECT_RATIO":case"IMAGE_EDITOR_CROP":case"IMAGE_EDITOR_ROTATE_COUNTERCLOCKWISE":case"IMAGE_EDITOR_FLIP":return!0;case"IMAGE_EDITOR_STATE_RESET":case"IMAGE_EDITOR_STATE_RESET_ALL":return!1;case"IMAGE_EDITOR_SET_DEFAULT_ASPECT_RATIO":case"IMAGE_EDITOR_COMPUTED_CROP":return e}return e},fileInfo:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_SET_FILE_INFO":const n=t.src,s=t.fileName,r=t.mimeType,o=t.title;return i()({},e,{src:n,fileName:s,mimeType:r,title:o});case"IMAGE_EDITOR_STATE_RESET_ALL":return i()({},e,c)}return e},transform:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:a;switch((arguments.length>1?arguments[1]:void 0).type){case"IMAGE_EDITOR_ROTATE_COUNTERCLOCKWISE":return Object.assign({},e,{degrees:(e.degrees-90)%360});case"IMAGE_EDITOR_FLIP":return Object.assign({},e,{scaleX:-e.scaleX});case"IMAGE_EDITOR_STATE_RESET":case"IMAGE_EDITOR_STATE_RESET_ALL":return Object.assign({},a)}return e},cropBounds:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:l,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_SET_CROP_BOUNDS":return Object.assign({},e,{topBound:t.topBound,leftBound:t.leftBound,bottomBound:t.bottomBound,rightBound:t.rightBound})}return e},crop:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_CROP":case"IMAGE_EDITOR_COMPUTED_CROP":return Object.assign({},e,{topRatio:t.topRatio,leftRatio:t.leftRatio,widthRatio:t.widthRatio,heightRatio:t.heightRatio});case"IMAGE_EDITOR_ROTATE_COUNTERCLOCKWISE":return{topRatio:1-e.widthRatio-e.leftRatio,leftRatio:e.topRatio,widthRatio:e.heightRatio,heightRatio:e.widthRatio};case"IMAGE_EDITOR_FLIP":return Object.assign({},e,{leftRatio:1-e.widthRatio-e.leftRatio});case"IMAGE_EDITOR_STATE_RESET":case"IMAGE_EDITOR_STATE_RESET_ALL":return Object.assign({},u)}return e},aspectRatio:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.a.FREE,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"IMAGE_EDITOR_SET_ASPECT_RATIO":case"IMAGE_EDITOR_SET_DEFAULT_ASPECT_RATIO":return t.ratio;case"IMAGE_EDITOR_STATE_RESET":case"IMAGE_EDITOR_STATE_RESET_ALL":const e=t.additionalData,n=(void 0===e?{}:e).aspectRatio;return n&&o.a[n]?n:o.a.FREE}return e},originalAspectRatio:d,imageIsLoading:function(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];switch((arguments.length>1?arguments[1]:void 0).type){case"IMAGE_EDITOR_IMAGE_HAS_LOADED":return!1;case"IMAGE_EDITOR_STATE_RESET_ALL":return!0}return e}})},"./client/state/ui/editor/last-draft/actions.js":function(e,t,n){"use strict";function s(e,t){return{type:"EDITOR_LAST_DRAFT_SET",siteId:e,postId:t}}function i(){return s(null,null)}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i})},"./client/state/ui/editor/selectors.js":function(e,t,n){"use strict";n.d(t,"f",function(){return p}),n.d(t,"m",function(){return m}),n.d(t,"a",function(){return _}),n.d(t,"d",function(){return E}),n.d(t,"e",function(){return b}),n.d(t,"j",function(){return g}),n.d(t,"n",function(){return h}),n.d(t,"g",function(){return f}),n.d(t,"k",function(){return S}),n.d(t,"l",function(){return O}),n.d(t,"h",function(){return j}),n.d(t,"b",function(){return T}),n.d(t,"i",function(){return y}),n.d(t,"c",function(){return I});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/ui/selectors.js"),r=n("./client/state/sites/selectors.js"),o=n("./client/state/posts/selectors.js"),a=n("./client/state/preferences/selectors.js"),c=n("./client/state/selectors/can-current-user.js"),l=n("./client/state/posts/utils.js"),u=n("./client/state/selectors/get-editor-url.js"),d=n("./client/lib/route/index.js");function p(e){return e.ui.editor.postId}function m(e){return!p(e)}function _(e,t,n){let s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post";return Object(d.a)({"jetpack-copy":n},Object(u.a)(e,t,null,s))}function E(e,t){let n,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"post";switch(s){case"post":n="/post";break;case"page":n="/page";break;default:n="/edit/".concat(s)}const i=Object(r.v)(e,t);return n+="/".concat(i||t)}function b(e,t,n){let i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"post";if(!t)return"/post";const r=Object(o.a)(e,t,n);let a=E(e,t,Object(s.get)(r,"type",i));return n&&(a+="/".concat(n)),a}function g(e,t){return-1===Object(a.b)(e,"editorConfirmationDisabledSites").indexOf(t)}function h(e,t){const n=e.ui.editor.saveBlockers;return t?Object(s.includes)(n,t):!!n.length}function f(e){const t=Object(i.e)(e),n=p(e),s=Object(r.k)(e,t),a=Object(o.l)(e,t,n);return Object(l.k)(s,a,e.ui.editor.autosavePreviewUrl)}function S(e){return e.ui.editor.isAutosaving}function O(e){return e.ui.editor.isLoading}function j(e){const t=Object(i.e)(e),n=p(e),s=Object(o.l)(e,t,n),r=Object(o.a)(e,t,n),a=Object(c.b)(e,t,"publish_posts");return t&&r?Object(l.y)(s)&&!Object(l.r)(s)&&!Object(l.u)(r)||s&&"future"===s.status&&Object(l.u)(r)?"update":Object(l.u)(r)?"schedule":a?"publish":s&&"pending"===s.status?"update":"requestReview":null}function T(e){return e.ui.editor.rawContent.initial}function y(e){return e.ui.editor.rawContent.current}function I(e){return e.ui.editor.loadingError}},"./client/state/ui/language/actions.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o}),n.d(t,"b",function(){return a});var s=n("./client/lib/i18n-utils/switch-locale.js"),i=n("./packages/i18n-calypso/dist/esm/index.js"),r=n.n(i);const o=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return Object(s.a)(t||e),{type:"LOCALE_SET",localeSlug:e,localeVariant:t}},a=e=>{r.a.setLocale(e);const t=e[""],n=t.localeSlug,s=t.localeVariant;return{type:"LOCALE_SET",localeSlug:n,localeVariant:void 0===s?null:s}}},"./client/state/ui/layout-focus/actions.js":function(e,t,n){"use strict";function s(e){return{type:"LAYOUT_FOCUS_SET",area:e}}function i(e){return{type:"LAYOUT_NEXT_FOCUS_SET",area:e}}function r(){return{type:"LAYOUT_NEXT_FOCUS_ACTIVATE"}}n.d(t,"b",function(){return s}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return r})},"./client/state/ui/layout-focus/selectors.js":function(e,t,n){"use strict";function s(e){return e.ui.layoutFocus.current}n.d(t,"a",function(){return s})},"./client/state/ui/media-modal/actions.js":function(e,t,n){"use strict";function s(e){return{type:"MEDIA_MODAL_VIEW_SET",view:e}}function i(){return s(null)}n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i})},"./client/state/ui/media-modal/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return s});const s={LIST:"LIST",DETAIL:"DETAIL",GALLERY:"GALLERY",IMAGE_EDITOR:"IMAGE_EDITOR",VIDEO_EDITOR:"VIDEO_EDITOR"}},"./client/state/ui/oauth2-clients/selectors.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js");function i(e){return Object(s.get)(e,"ui.oauth2Clients.currentClientId")}n.d(t,"b",function(){return i}),n.d(t,"a",function(){return r}),n.d(t,"c",function(){return o});const r=e=>{const t=i(e);return t?((e,t)=>Object(s.get)(e,"oauth2Clients[".concat(t,"]"),null))(e,t):null},o=e=>!!i(e)},"./client/state/ui/payment/reducer.js":function(e,t,n){"use strict";var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/utils.js");var r=n("./client/lib/redux-bridge/index.js");n.d(t,"b",function(){return o}),Object(r.d)("TRANSACTION_NEW_CREDIT_CARD_DETAILS_SET"),Object(r.d)("TRANSACTION_PAYMENT_SET");const o=(e,t)=>(Object(s.find)(Object(s.get)(e,"payment.storedCard.meta"),{meta_key:t})||{}).meta_value,a=Object(i.c)(null,{PAYMENT_COUNTRY_CODE_SET:(e,t)=>t.countryCode,FLUX_TRANSACTION_NEW_CREDIT_CARD_DETAILS_SET:(e,t)=>Object(s.has)(t,"rawDetails.country")?Object(s.get)(t,"rawDetails.country",null):e,FLUX_TRANSACTION_PAYMENT_SET:(e,t)=>{const n=t.payment;return Object(s.has)(n,"newCardDetails")?Object(s.get)(n,"newCardDetails.country",null):Object(s.has)(n,"storedCard")?o(t,"country_code")||null:e}},{type:["string","null"]}),c=Object(i.c)(null,{PAYMENT_POSTAL_CODE_SET:(e,t)=>t.postalCode,FLUX_TRANSACTION_NEW_CREDIT_CARD_DETAILS_SET:(e,t)=>Object(s.has)(t,"rawDetails.postal-code")?Object(s.get)(t,"rawDetails.postal-code",null):e,FLUX_TRANSACTION_PAYMENT_SET:(e,t)=>{const n=t.payment;return Object(s.has)(n,"newCardDetails")?Object(s.get)(n,"newCardDetails.postal-code",null):Object(s.has)(n,"storedCard")?o(t,"card_zip")||null:e}},{type:["string","null"]});t.a=Object(i.b)({countryCode:a,postalCode:c})},"./client/state/ui/preview/actions.js":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"b",function(){return r}),n.d(t,"a",function(){return o});var s=n("./client/state/ui/layout-focus/actions.js");function i(e){return{type:"PREVIEW_URL_SET",url:e}}function r(e){return{type:"PREVIEW_SITE_SET",siteId:e}}function o(){return e=>{e({type:"PREVIEW_URL_CLEAR"}),e(Object(s.b)("content"))}}},"./client/state/ui/selectors.js":function(e,t,n){"use strict";n.d(t,"d",function(){return r}),n.d(t,"e",function(){return o}),n.d(t,"f",function(){return a}),n.d(t,"a",function(){return c}),n.d(t,"c",function(){return l}),n.d(t,"b",function(){return u}),n.d(t,"i",function(){return d}),n.d(t,"h",function(){return p}),n.d(t,"g",function(){return m}),n.d(t,"j",function(){return _});var s=n("./node_modules/lodash/lodash.js"),i=n("./client/state/sites/selectors.js");function r(e){const t=o(e);return t?Object(i.k)(e,t):null}function o(e){return e.ui.selectedSiteId}function a(e){const t=o(e);return t?Object(i.v)(e,t):null}function c(e){return e.ui.section||!1}function l(e){return Object(s.get)(c(e),"name",null)}function u(e){return Object(s.get)(c(e),"group",null)}function d(e){return Object(s.includes)(["sites","editor","gutenberg"],u(e))}function p(e){return e.ui.isLoading}function m(e){return!1!==e.ui.hasSidebar&&Object(s.get)(c(e),"secondary",!0)}function _(e){return e.ui.masterbarVisibility}},"./client/state/utils.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/toArray.js"),i=n.n(s),r=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),o=n.n(r),a=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),c=n.n(a),l=n("./node_modules/is-my-json-valid/index.js"),u=n.n(l),d=n("./node_modules/lodash/lodash.js"),p=n("./node_modules/redux/es/redux.js"),m=n("./node_modules/lru/index.js"),_=n.n(m);class E{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.results=e}get(){return this.results}root(){return this.results.root}addRootResult(e,t){return this.addResult("root",e,t)}addKeyResult(e,t){return this.addResult(e,null,t)}addResult(e,t,n){n instanceof E?Object(d.forEach)(n.results,(n,s)=>{"root"===s?this.addResult(e,t,n):this.addResult(s,null,n)}):t?(this.results[e]||(this.results[e]={}),this.results[e][t]=n):this.results[e]=n}}n("./client/lib/warn/index.js");function b(){const e=c()(["keyedReducer"]);return b=function(){return e},e}function g(){const e=c()([" must be a function but I detected a ",""]);return g=function(){return e},e}function h(){const e=c()(["keyedReducer"]);return h=function(){return e},e}function f(){const e=c()([" must be a string but I detected a ",""]);return f=function(){return e},e}n.d(t,"e",function(){return S}),n.d(t,"d",function(){return O}),n.d(t,"f",function(){return j}),n.d(t,"g",function(){return I}),n.d(t,"h",function(){return R}),n.d(t,"c",function(){return A}),n.d(t,"b",function(){return N}),n.d(t,"a",function(){return w});const S=(e,t)=>{if("string"!=typeof e)throw new TypeError("Key name passed into "(h())(f(),typeof keyName));if(!e.length)throw new TypeError("Key name passed into `keyedReducer` must have a non-zero length but I detected an empty string");if("function"!=typeof t)throw new TypeError("Reducer passed into "(b())(g(),typeof t));const n=t(void 0,{type:"@@calypso/INIT"});return function(){let s=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=arguments.length>1?arguments[1]:void 0;if("SERIALIZE"===i.type){return Object(d.reduce)(s,(e,s,r)=>{const o=t(s,i);return void 0===o||Object(d.isEqual)(o,n)||(e||(e=new E),e.addRootResult(r,o)),e},void 0)}if("DESERIALIZE"===i.type)return Object(d.omitBy)(Object(d.mapValues)(s,e=>t(e,i)),e=>void 0===e||Object(d.isEqual)(e,n));const r=Object(d.get)(i,e,void 0);if(null==r)return s;const a=s[r],c=t(a,i);return c===a?s:void 0===c||Object(d.isEqual)(c,n)?s.hasOwnProperty(r)?Object(d.omit)(s,r):s:o()({},s,{[r]:c})}};function O(e,t){return"function"!=typeof e?Object(d.merge)({},e,t):(n,s)=>{return e(e=>n(O(e,t)),s)}}const j=(e,t)=>(function(){for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(n,i)=>{const r=e(...s);if(Array.isArray(t)||(t=[t]),"function"==typeof r){return r(e=>n(t.reduce((e,t)=>t(e,i),e)),i)}return n(t.reduce((e,t)=>t(e,i),r))}});function T(e){return e(void 0,{type:"@@calypso/INIT"})}function y(e,t,n){const s=t(void 0,{type:"SERIALIZE"});return!!Object(d.isEqual)(n,s)||function(e,t,n){const s=u()(t,{greedy:!1,verbose:!1}),i=s(e);return i}(n,e)}const I=(e,t)=>{const n=(n,s)=>{if("DESERIALIZE"===s.type){if(void 0===n)return T(t);if(!y(e,t,n))return T(t)}return t(n,s)};return n.hasCustomPersistence=!0,n},R=(e,t)=>(t.storageKey=e,t),C=e=>{const t=(t,n)=>{switch(n.type){case"SERIALIZE":return;case"DESERIALIZE":return T(e);default:return e(t,n)}};return t.hasCustomPersistence=!0,t};function A(e,t,n){const s=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e,s=arguments.length>1?arguments[1]:void 0;const i=s.type;return t.hasOwnProperty(i)?t[i](n,s):n};return n?I(n,s):t.SERIALIZE||t.DESERIALIZE?(s.hasCustomPersistence=!0,s):C(s)}function v(e){return e.hasCustomPersistence?e:e.schema?I(e.schema,e):C(e)}function N(e){return U(Object(d.mapValues)(e,v))}function U(e){const t=Object(p.c)(e),n=(n,s)=>{switch(s.type){case"SERIALIZE":return function(e,t,n){if(void 0!==t)return Object(d.reduce)(e,(e,s,i)=>{const r=s(t[i],n);return void 0!==r&&(e||(e=new E),s.storageKey?e.addKeyResult(s.storageKey,r):e.addRootResult(i,r)),e},void 0)}(e,n,s);case"APPLY_STORED_STATE":return function(e,t,n){let s=!1;const i=Object(d.mapValues)(e,(e,i)=>{if(e.storageKey===n.storageKey)return s=!0,n.storedState;const r=t[i],o=e(r,n);return s=s||o!==r,o});return s?i:t}(e,n,s);default:return t(n,s)}};return n.hasCustomPersistence=!0,n.addReducer=function(e,t){return(n,s)=>{const r=i()(n),a=r[0],c=r.slice(1),l=t[a];let u;if(l){if(0===c.length)throw new Error("Reducer with key '".concat(a,"' is already registered"));if(!l.addReducer)throw new Error("New reducer can be added only into a reducer created with 'combineReducers'");u=l.addReducer(c,s)}else u=Object(d.reduceRight)(c,(e,t)=>U({[t]:e}),v(s));const p=U(o()({},t,{[a]:u}));return p.storageKey=e.storageKey,p}}(n,e),n.getStorageKeys=function(e){return function*(){for(const t of Object.values(e))t.storageKey&&(yield{storageKey:t.storageKey,reducer:t}),t.getStorageKeys&&(yield*t.getStorageKeys())}}(e),n}const w=function(e,t,n,s){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:e=>e.join(""),r=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{max:100,maxAge:7200};const o=new _.a(r);return function(){for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return r=>{t(r)(...a);const c=i(a),l=o.get(c);return(l?Promise.resolve(l):e(...a)).then(e=>(o.set(c,e),n(r)(e)),s(r))}}}},"./client/state/wordads/status/schema.js":function(e,t,n){"use strict";n.d(t,"b",function(){return s}),n.d(t,"a",function(){return i});const s=[!1,"mature","private","spam","other"],i={type:"object",patternProperties:{"^\\d+$":{type:"object",properties:{ID:{type:"integer"},name:{type:"string"},URL:{type:"string"},approved:{type:"boolean"},active:{type:"boolean"},unsafe:{enum:s}}}},additionalProperties:!1}},"./client/utils.js":function(e,t,n){"use strict";function s(e){return"/"===e?e:new RegExp("^"+e+"(/.*)?$")}n.d(t,"a",function(){return s}),n.d(t,"b",function(){return i});const i=e=>(function(){for(var t=arguments.length,n=new Array(t),s=0;s<t;s++)n[s]=arguments[s];return new Promise((t,s)=>{e(...n,(e,n)=>{e?s(e):t(n)})})})},"./node_modules/moment/locale lazy recursive ^\\.\\/.*$ include: \\.js$":function(e,t,n){var s={"./af":["./node_modules/moment/locale/af.js",222],"./af.js":["./node_modules/moment/locale/af.js",222],"./ar":["./node_modules/moment/locale/ar.js",229],"./ar-dz":["./node_modules/moment/locale/ar-dz.js",223],"./ar-dz.js":["./node_modules/moment/locale/ar-dz.js",223],"./ar-kw":["./node_modules/moment/locale/ar-kw.js",224],"./ar-kw.js":["./node_modules/moment/locale/ar-kw.js",224],"./ar-ly":["./node_modules/moment/locale/ar-ly.js",225],"./ar-ly.js":["./node_modules/moment/locale/ar-ly.js",225],"./ar-ma":["./node_modules/moment/locale/ar-ma.js",226],"./ar-ma.js":["./node_modules/moment/locale/ar-ma.js",226],"./ar-sa":["./node_modules/moment/locale/ar-sa.js",227],"./ar-sa.js":["./node_modules/moment/locale/ar-sa.js",227],"./ar-tn":["./node_modules/moment/locale/ar-tn.js",228],"./ar-tn.js":["./node_modules/moment/locale/ar-tn.js",228],"./ar.js":["./node_modules/moment/locale/ar.js",229],"./az":["./node_modules/moment/locale/az.js",230],"./az.js":["./node_modules/moment/locale/az.js",230],"./be":["./node_modules/moment/locale/be.js",231],"./be.js":["./node_modules/moment/locale/be.js",231],"./bg":["./node_modules/moment/locale/bg.js",232],"./bg.js":["./node_modules/moment/locale/bg.js",232],"./bm":["./node_modules/moment/locale/bm.js",233],"./bm.js":["./node_modules/moment/locale/bm.js",233],"./bn":["./node_modules/moment/locale/bn.js",234],"./bn.js":["./node_modules/moment/locale/bn.js",234],"./bo":["./node_modules/moment/locale/bo.js",235],"./bo.js":["./node_modules/moment/locale/bo.js",235],"./br":["./node_modules/moment/locale/br.js",236],"./br.js":["./node_modules/moment/locale/br.js",236],"./bs":["./node_modules/moment/locale/bs.js",237],"./bs.js":["./node_modules/moment/locale/bs.js",237],"./ca":["./node_modules/moment/locale/ca.js",238],"./ca.js":["./node_modules/moment/locale/ca.js",238],"./cs":["./node_modules/moment/locale/cs.js",239],"./cs.js":["./node_modules/moment/locale/cs.js",239],"./cv":["./node_modules/moment/locale/cv.js",240],"./cv.js":["./node_modules/moment/locale/cv.js",240],"./cy":["./node_modules/moment/locale/cy.js",241],"./cy.js":["./node_modules/moment/locale/cy.js",241],"./da":["./node_modules/moment/locale/da.js",242],"./da.js":["./node_modules/moment/locale/da.js",242],"./de":["./node_modules/moment/locale/de.js",245],"./de-at":["./node_modules/moment/locale/de-at.js",243],"./de-at.js":["./node_modules/moment/locale/de-at.js",243],"./de-ch":["./node_modules/moment/locale/de-ch.js",244],"./de-ch.js":["./node_modules/moment/locale/de-ch.js",244],"./de.js":["./node_modules/moment/locale/de.js",245],"./dv":["./node_modules/moment/locale/dv.js",246],"./dv.js":["./node_modules/moment/locale/dv.js",246],"./el":["./node_modules/moment/locale/el.js",247],"./el.js":["./node_modules/moment/locale/el.js",247],"./en-SG":["./node_modules/moment/locale/en-SG.js",248],"./en-SG.js":["./node_modules/moment/locale/en-SG.js",248],"./en-au":["./node_modules/moment/locale/en-au.js",249],"./en-au.js":["./node_modules/moment/locale/en-au.js",249],"./en-ca":["./node_modules/moment/locale/en-ca.js",250],"./en-ca.js":["./node_modules/moment/locale/en-ca.js",250],"./en-gb":["./node_modules/moment/locale/en-gb.js",251],"./en-gb.js":["./node_modules/moment/locale/en-gb.js",251],"./en-ie":["./node_modules/moment/locale/en-ie.js",252],"./en-ie.js":["./node_modules/moment/locale/en-ie.js",252],"./en-il":["./node_modules/moment/locale/en-il.js",253],"./en-il.js":["./node_modules/moment/locale/en-il.js",253],"./en-nz":["./node_modules/moment/locale/en-nz.js",254],"./en-nz.js":["./node_modules/moment/locale/en-nz.js",254],"./eo":["./node_modules/moment/locale/eo.js",255],"./eo.js":["./node_modules/moment/locale/eo.js",255],"./es":["./node_modules/moment/locale/es.js",258],"./es-do":["./node_modules/moment/locale/es-do.js",256],"./es-do.js":["./node_modules/moment/locale/es-do.js",256],"./es-us":["./node_modules/moment/locale/es-us.js",257],"./es-us.js":["./node_modules/moment/locale/es-us.js",257],"./es.js":["./node_modules/moment/locale/es.js",258],"./et":["./node_modules/moment/locale/et.js",259],"./et.js":["./node_modules/moment/locale/et.js",259],"./eu":["./node_modules/moment/locale/eu.js",260],"./eu.js":["./node_modules/moment/locale/eu.js",260],"./fa":["./node_modules/moment/locale/fa.js",261],"./fa.js":["./node_modules/moment/locale/fa.js",261],"./fi":["./node_modules/moment/locale/fi.js",262],"./fi.js":["./node_modules/moment/locale/fi.js",262],"./fo":["./node_modules/moment/locale/fo.js",263],"./fo.js":["./node_modules/moment/locale/fo.js",263],"./fr":["./node_modules/moment/locale/fr.js",266],"./fr-ca":["./node_modules/moment/locale/fr-ca.js",264],"./fr-ca.js":["./node_modules/moment/locale/fr-ca.js",264],"./fr-ch":["./node_modules/moment/locale/fr-ch.js",265],"./fr-ch.js":["./node_modules/moment/locale/fr-ch.js",265],"./fr.js":["./node_modules/moment/locale/fr.js",266],"./fy":["./node_modules/moment/locale/fy.js",267],"./fy.js":["./node_modules/moment/locale/fy.js",267],"./ga":["./node_modules/moment/locale/ga.js",268],"./ga.js":["./node_modules/moment/locale/ga.js",268],"./gd":["./node_modules/moment/locale/gd.js",269],"./gd.js":["./node_modules/moment/locale/gd.js",269],"./gl":["./node_modules/moment/locale/gl.js",270],"./gl.js":["./node_modules/moment/locale/gl.js",270],"./gom-latn":["./node_modules/moment/locale/gom-latn.js",271],"./gom-latn.js":["./node_modules/moment/locale/gom-latn.js",271],"./gu":["./node_modules/moment/locale/gu.js",272],"./gu.js":["./node_modules/moment/locale/gu.js",272],"./he":["./node_modules/moment/locale/he.js",273],"./he.js":["./node_modules/moment/locale/he.js",273],"./hi":["./node_modules/moment/locale/hi.js",274],"./hi.js":["./node_modules/moment/locale/hi.js",274],"./hr":["./node_modules/moment/locale/hr.js",275],"./hr.js":["./node_modules/moment/locale/hr.js",275],"./hu":["./node_modules/moment/locale/hu.js",276],"./hu.js":["./node_modules/moment/locale/hu.js",276],"./hy-am":["./node_modules/moment/locale/hy-am.js",277],"./hy-am.js":["./node_modules/moment/locale/hy-am.js",277],"./id":["./node_modules/moment/locale/id.js",278],"./id.js":["./node_modules/moment/locale/id.js",278],"./is":["./node_modules/moment/locale/is.js",279],"./is.js":["./node_modules/moment/locale/is.js",279],"./it":["./node_modules/moment/locale/it.js",281],"./it-ch":["./node_modules/moment/locale/it-ch.js",280],"./it-ch.js":["./node_modules/moment/locale/it-ch.js",280],"./it.js":["./node_modules/moment/locale/it.js",281],"./ja":["./node_modules/moment/locale/ja.js",282],"./ja.js":["./node_modules/moment/locale/ja.js",282],"./jv":["./node_modules/moment/locale/jv.js",283],"./jv.js":["./node_modules/moment/locale/jv.js",283],"./ka":["./node_modules/moment/locale/ka.js",284],"./ka.js":["./node_modules/moment/locale/ka.js",284],"./kk":["./node_modules/moment/locale/kk.js",285],"./kk.js":["./node_modules/moment/locale/kk.js",285],"./km":["./node_modules/moment/locale/km.js",286],"./km.js":["./node_modules/moment/locale/km.js",286],"./kn":["./node_modules/moment/locale/kn.js",287],"./kn.js":["./node_modules/moment/locale/kn.js",287],"./ko":["./node_modules/moment/locale/ko.js",288],"./ko.js":["./node_modules/moment/locale/ko.js",288],"./ku":["./node_modules/moment/locale/ku.js",289],"./ku.js":["./node_modules/moment/locale/ku.js",289],"./ky":["./node_modules/moment/locale/ky.js",290],"./ky.js":["./node_modules/moment/locale/ky.js",290],"./lb":["./node_modules/moment/locale/lb.js",291],"./lb.js":["./node_modules/moment/locale/lb.js",291],"./lo":["./node_modules/moment/locale/lo.js",292],"./lo.js":["./node_modules/moment/locale/lo.js",292],"./lt":["./node_modules/moment/locale/lt.js",293],"./lt.js":["./node_modules/moment/locale/lt.js",293],"./lv":["./node_modules/moment/locale/lv.js",294],"./lv.js":["./node_modules/moment/locale/lv.js",294],"./me":["./node_modules/moment/locale/me.js",295],"./me.js":["./node_modules/moment/locale/me.js",295],"./mi":["./node_modules/moment/locale/mi.js",296],"./mi.js":["./node_modules/moment/locale/mi.js",296],"./mk":["./node_modules/moment/locale/mk.js",297],"./mk.js":["./node_modules/moment/locale/mk.js",297],"./ml":["./node_modules/moment/locale/ml.js",298],"./ml.js":["./node_modules/moment/locale/ml.js",298],"./mn":["./node_modules/moment/locale/mn.js",299],"./mn.js":["./node_modules/moment/locale/mn.js",299],"./mr":["./node_modules/moment/locale/mr.js",300],"./mr.js":["./node_modules/moment/locale/mr.js",300],"./ms":["./node_modules/moment/locale/ms.js",302],"./ms-my":["./node_modules/moment/locale/ms-my.js",301],"./ms-my.js":["./node_modules/moment/locale/ms-my.js",301],"./ms.js":["./node_modules/moment/locale/ms.js",302],"./mt":["./node_modules/moment/locale/mt.js",303],"./mt.js":["./node_modules/moment/locale/mt.js",303],"./my":["./node_modules/moment/locale/my.js",304],"./my.js":["./node_modules/moment/locale/my.js",304],"./nb":["./node_modules/moment/locale/nb.js",305],"./nb.js":["./node_modules/moment/locale/nb.js",305],"./ne":["./node_modules/moment/locale/ne.js",306],"./ne.js":["./node_modules/moment/locale/ne.js",306],"./nl":["./node_modules/moment/locale/nl.js",308],"./nl-be":["./node_modules/moment/locale/nl-be.js",307],"./nl-be.js":["./node_modules/moment/locale/nl-be.js",307],"./nl.js":["./node_modules/moment/locale/nl.js",308],"./nn":["./node_modules/moment/locale/nn.js",309],"./nn.js":["./node_modules/moment/locale/nn.js",309],"./pa-in":["./node_modules/moment/locale/pa-in.js",310],"./pa-in.js":["./node_modules/moment/locale/pa-in.js",310],"./pl":["./node_modules/moment/locale/pl.js",311],"./pl.js":["./node_modules/moment/locale/pl.js",311],"./pt":["./node_modules/moment/locale/pt.js",313],"./pt-br":["./node_modules/moment/locale/pt-br.js",312],"./pt-br.js":["./node_modules/moment/locale/pt-br.js",312],"./pt.js":["./node_modules/moment/locale/pt.js",313],"./ro":["./node_modules/moment/locale/ro.js",314],"./ro.js":["./node_modules/moment/locale/ro.js",314],"./ru":["./node_modules/moment/locale/ru.js",315],"./ru.js":["./node_modules/moment/locale/ru.js",315],"./sd":["./node_modules/moment/locale/sd.js",316],"./sd.js":["./node_modules/moment/locale/sd.js",316],"./se":["./node_modules/moment/locale/se.js",317],"./se.js":["./node_modules/moment/locale/se.js",317],"./si":["./node_modules/moment/locale/si.js",318],"./si.js":["./node_modules/moment/locale/si.js",318],"./sk":["./node_modules/moment/locale/sk.js",319],"./sk.js":["./node_modules/moment/locale/sk.js",319],"./sl":["./node_modules/moment/locale/sl.js",320],"./sl.js":["./node_modules/moment/locale/sl.js",320],"./sq":["./node_modules/moment/locale/sq.js",321],"./sq.js":["./node_modules/moment/locale/sq.js",321],"./sr":["./node_modules/moment/locale/sr.js",323],"./sr-cyrl":["./node_modules/moment/locale/sr-cyrl.js",322],"./sr-cyrl.js":["./node_modules/moment/locale/sr-cyrl.js",322],"./sr.js":["./node_modules/moment/locale/sr.js",323],"./ss":["./node_modules/moment/locale/ss.js",324],"./ss.js":["./node_modules/moment/locale/ss.js",324],"./sv":["./node_modules/moment/locale/sv.js",325],"./sv.js":["./node_modules/moment/locale/sv.js",325],"./sw":["./node_modules/moment/locale/sw.js",326],"./sw.js":["./node_modules/moment/locale/sw.js",326],"./ta":["./node_modules/moment/locale/ta.js",327],"./ta.js":["./node_modules/moment/locale/ta.js",327],"./te":["./node_modules/moment/locale/te.js",328],"./te.js":["./node_modules/moment/locale/te.js",328],"./tet":["./node_modules/moment/locale/tet.js",329],"./tet.js":["./node_modules/moment/locale/tet.js",329],"./tg":["./node_modules/moment/locale/tg.js",330],"./tg.js":["./node_modules/moment/locale/tg.js",330],"./th":["./node_modules/moment/locale/th.js",331],"./th.js":["./node_modules/moment/locale/th.js",331],"./tl-ph":["./node_modules/moment/locale/tl-ph.js",332],"./tl-ph.js":["./node_modules/moment/locale/tl-ph.js",332],"./tlh":["./node_modules/moment/locale/tlh.js",333],"./tlh.js":["./node_modules/moment/locale/tlh.js",333],"./tr":["./node_modules/moment/locale/tr.js",334],"./tr.js":["./node_modules/moment/locale/tr.js",334],"./tzl":["./node_modules/moment/locale/tzl.js",335],"./tzl.js":["./node_modules/moment/locale/tzl.js",335],"./tzm":["./node_modules/moment/locale/tzm.js",337],"./tzm-latn":["./node_modules/moment/locale/tzm-latn.js",336],"./tzm-latn.js":["./node_modules/moment/locale/tzm-latn.js",336],"./tzm.js":["./node_modules/moment/locale/tzm.js",337],"./ug-cn":["./node_modules/moment/locale/ug-cn.js",338],"./ug-cn.js":["./node_modules/moment/locale/ug-cn.js",338],"./uk":["./node_modules/moment/locale/uk.js",339],"./uk.js":["./node_modules/moment/locale/uk.js",339],"./ur":["./node_modules/moment/locale/ur.js",340],"./ur.js":["./node_modules/moment/locale/ur.js",340],"./uz":["./node_modules/moment/locale/uz.js",342],"./uz-latn":["./node_modules/moment/locale/uz-latn.js",341],"./uz-latn.js":["./node_modules/moment/locale/uz-latn.js",341],"./uz.js":["./node_modules/moment/locale/uz.js",342],"./vi":["./node_modules/moment/locale/vi.js",343],"./vi.js":["./node_modules/moment/locale/vi.js",343],"./x-pseudo":["./node_modules/moment/locale/x-pseudo.js",344],"./x-pseudo.js":["./node_modules/moment/locale/x-pseudo.js",344],"./yo":["./node_modules/moment/locale/yo.js",345],"./yo.js":["./node_modules/moment/locale/yo.js",345],"./zh-cn":["./node_modules/moment/locale/zh-cn.js",346],"./zh-cn.js":["./node_modules/moment/locale/zh-cn.js",346],"./zh-hk":["./node_modules/moment/locale/zh-hk.js",347],"./zh-hk.js":["./node_modules/moment/locale/zh-hk.js",347],"./zh-tw":["./node_modules/moment/locale/zh-tw.js",348],"./zh-tw.js":["./node_modules/moment/locale/zh-tw.js",348]};function i(e){if(!n.o(s,e))return Promise.resolve().then(function(){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t});var t=s[e],i=t[0];return n.e(t[1]).then(function(){return n.t(i,7)})}i.keys=function(){return Object.keys(s)},i.id="./node_modules/moment/locale lazy recursive ^\\.\\/.*$ include: \\.js$",e.exports=i},"./packages/format-currency/dist/esm/currencies.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.getCurrencyDefaults=function(e){return s[e]||{symbol:"$",grouping:",",decimal:".",precision:2}},t.CURRENCIES=void 0;var s={AED:{symbol:"د.إ.‏",grouping:",",decimal:".",precision:2},AFN:{symbol:"؋",grouping:",",decimal:".",precision:2},ALL:{symbol:"Lek",grouping:".",decimal:",",precision:2},AMD:{symbol:"֏",grouping:",",decimal:".",precision:2},ANG:{symbol:"ƒ",grouping:",",decimal:".",precision:2},AOA:{symbol:"Kz",grouping:",",decimal:".",precision:2},ARS:{symbol:"$",grouping:".",decimal:",",precision:2},AUD:{symbol:"A$",grouping:",",decimal:".",precision:2},AWG:{symbol:"ƒ",grouping:",",decimal:".",precision:2},AZN:{symbol:"₼",grouping:" ",decimal:",",precision:2},BAM:{symbol:"КМ",grouping:".",decimal:",",precision:2},BBD:{symbol:"Bds$",grouping:",",decimal:".",precision:2},BDT:{symbol:"৳",grouping:",",decimal:".",precision:0},BGN:{symbol:"лв.",grouping:" ",decimal:",",precision:2},BHD:{symbol:"د.ب.‏",grouping:",",decimal:".",precision:3},BIF:{symbol:"FBu",grouping:",",decimal:".",precision:0},BMD:{symbol:"$",grouping:",",decimal:".",precision:2},BND:{symbol:"$",grouping:".",decimal:",",precision:0},BOB:{symbol:"Bs",grouping:".",decimal:",",precision:2},BRL:{symbol:"R$",grouping:".",decimal:",",precision:2},BSD:{symbol:"$",grouping:",",decimal:".",precision:2},BTC:{symbol:"Ƀ",grouping:",",decimal:".",precision:2},BTN:{symbol:"Nu.",grouping:",",decimal:".",precision:1},BWP:{symbol:"P",grouping:",",decimal:".",precision:2},BYR:{symbol:"р.",grouping:" ",decimal:",",precision:2},BZD:{symbol:"BZ$",grouping:",",decimal:".",precision:2},CAD:{symbol:"C$",grouping:",",decimal:".",precision:2},CDF:{symbol:"FC",grouping:",",decimal:".",precision:2},CHF:{symbol:"CHF",grouping:"'",decimal:".",precision:2},CLP:{symbol:"$",grouping:".",decimal:",",precision:2},CNY:{symbol:"¥",grouping:",",decimal:".",precision:2},COP:{symbol:"$",grouping:".",decimal:",",precision:2},CRC:{symbol:"₡",grouping:".",decimal:",",precision:2},CUC:{symbol:"CUC",grouping:",",decimal:".",precision:2},CUP:{symbol:"$MN",grouping:",",decimal:".",precision:2},CVE:{symbol:"$",grouping:",",decimal:".",precision:2},CZK:{symbol:"Kč",grouping:" ",decimal:",",precision:2},DJF:{symbol:"Fdj",grouping:",",decimal:".",precision:0},DKK:{symbol:"kr.",grouping:"",decimal:",",precision:2},DOP:{symbol:"RD$",grouping:",",decimal:".",precision:2},DZD:{symbol:"د.ج.‏",grouping:",",decimal:".",precision:2},EGP:{symbol:"ج.م.‏",grouping:",",decimal:".",precision:2},ERN:{symbol:"Nfk",grouping:",",decimal:".",precision:2},ETB:{symbol:"ETB",grouping:",",decimal:".",precision:2},EUR:{symbol:"€",grouping:".",decimal:",",precision:2},FJD:{symbol:"FJ$",grouping:",",decimal:".",precision:2},FKP:{symbol:"£",grouping:",",decimal:".",precision:2},GBP:{symbol:"£",grouping:",",decimal:".",precision:2},GEL:{symbol:"Lari",grouping:" ",decimal:",",precision:2},GHS:{symbol:"₵",grouping:",",decimal:".",precision:2},GIP:{symbol:"£",grouping:",",decimal:".",precision:2},GMD:{symbol:"D",grouping:",",decimal:".",precision:2},GNF:{symbol:"FG",grouping:",",decimal:".",precision:0},GTQ:{symbol:"Q",grouping:",",decimal:".",precision:2},GYD:{symbol:"G$",grouping:",",decimal:".",precision:2},HKD:{symbol:"HK$",grouping:",",decimal:".",precision:2},HNL:{symbol:"L.",grouping:",",decimal:".",precision:2},HRK:{symbol:"kn",grouping:".",decimal:",",precision:2},HTG:{symbol:"G",grouping:",",decimal:".",precision:2},HUF:{symbol:"Ft",grouping:".",decimal:",",precision:0},IDR:{symbol:"Rp",grouping:".",decimal:",",precision:0},ILS:{symbol:"₪",grouping:",",decimal:".",precision:2},INR:{symbol:"₹",grouping:",",decimal:".",precision:2},IQD:{symbol:"د.ع.‏",grouping:",",decimal:".",precision:2},IRR:{symbol:"﷼",grouping:",",decimal:"/",precision:2},ISK:{symbol:"kr.",grouping:".",decimal:",",precision:0},JMD:{symbol:"J$",grouping:",",decimal:".",precision:2},JOD:{symbol:"د.ا.‏",grouping:",",decimal:".",precision:3},JPY:{symbol:"¥",grouping:",",decimal:".",precision:0},KES:{symbol:"S",grouping:",",decimal:".",precision:2},KGS:{symbol:"сом",grouping:" ",decimal:"-",precision:2},KHR:{symbol:"៛",grouping:",",decimal:".",precision:0},KMF:{symbol:"CF",grouping:",",decimal:".",precision:2},KPW:{symbol:"₩",grouping:",",decimal:".",precision:0},KRW:{symbol:"₩",grouping:",",decimal:".",precision:0},KWD:{symbol:"د.ك.‏",grouping:",",decimal:".",precision:3},KYD:{symbol:"$",grouping:",",decimal:".",precision:2},KZT:{symbol:"₸",grouping:" ",decimal:"-",precision:2},LAK:{symbol:"₭",grouping:",",decimal:".",precision:0},LBP:{symbol:"ل.ل.‏",grouping:",",decimal:".",precision:2},LKR:{symbol:"₨",grouping:",",decimal:".",precision:0},LRD:{symbol:"L$",grouping:",",decimal:".",precision:2},LSL:{symbol:"M",grouping:",",decimal:".",precision:2},LYD:{symbol:"د.ل.‏",grouping:",",decimal:".",precision:3},MAD:{symbol:"د.م.‏",grouping:",",decimal:".",precision:2},MDL:{symbol:"lei",grouping:",",decimal:".",precision:2},MGA:{symbol:"Ar",grouping:",",decimal:".",precision:0},MKD:{symbol:"ден.",grouping:".",decimal:",",precision:2},MMK:{symbol:"K",grouping:",",decimal:".",precision:2},MNT:{symbol:"₮",grouping:" ",decimal:",",precision:2},MOP:{symbol:"MOP$",grouping:",",decimal:".",precision:2},MRO:{symbol:"UM",grouping:",",decimal:".",precision:2},MTL:{symbol:"₤",grouping:",",decimal:".",precision:2},MUR:{symbol:"₨",grouping:",",decimal:".",precision:2},MVR:{symbol:"MVR",grouping:",",decimal:".",precision:1},MWK:{symbol:"MK",grouping:",",decimal:".",precision:2},MXN:{symbol:"MX$",grouping:",",decimal:".",precision:2},MYR:{symbol:"RM",grouping:",",decimal:".",precision:2},MZN:{symbol:"MT",grouping:",",decimal:".",precision:0},NAD:{symbol:"N$",grouping:",",decimal:".",precision:2},NGN:{symbol:"₦",grouping:",",decimal:".",precision:2},NIO:{symbol:"C$",grouping:",",decimal:".",precision:2},NOK:{symbol:"kr",grouping:" ",decimal:",",precision:2},NPR:{symbol:"₨",grouping:",",decimal:".",precision:2},NZD:{symbol:"NZ$",grouping:",",decimal:".",precision:2},OMR:{symbol:"﷼",grouping:",",decimal:".",precision:3},PAB:{symbol:"B/.",grouping:",",decimal:".",precision:2},PEN:{symbol:"S/.",grouping:",",decimal:".",precision:2},PGK:{symbol:"K",grouping:",",decimal:".",precision:2},PHP:{symbol:"₱",grouping:",",decimal:".",precision:2},PKR:{symbol:"₨",grouping:",",decimal:".",precision:2},PLN:{symbol:"zł",grouping:" ",decimal:",",precision:2},PYG:{symbol:"₲",grouping:".",decimal:",",precision:2},QAR:{symbol:"﷼",grouping:",",decimal:".",precision:2},RON:{symbol:"lei",grouping:".",decimal:",",precision:2},RSD:{symbol:"Дин.",grouping:".",decimal:",",precision:2},RUB:{symbol:"₽",grouping:" ",decimal:",",precision:2},RWF:{symbol:"RWF",grouping:" ",decimal:",",precision:2},SAR:{symbol:"﷼",grouping:",",decimal:".",precision:2},SBD:{symbol:"S$",grouping:",",decimal:".",precision:2},SCR:{symbol:"₨",grouping:",",decimal:".",precision:2},SDD:{symbol:"LSd",grouping:",",decimal:".",precision:2},SDG:{symbol:"£‏",grouping:",",decimal:".",precision:2},SEK:{symbol:"kr",grouping:",",decimal:".",precision:2},SGD:{symbol:"S$",grouping:",",decimal:".",precision:2},SHP:{symbol:"£",grouping:",",decimal:".",precision:2},SLL:{symbol:"Le",grouping:",",decimal:".",precision:2},SOS:{symbol:"S",grouping:",",decimal:".",precision:2},SRD:{symbol:"$",grouping:",",decimal:".",precision:2},STD:{symbol:"Db",grouping:",",decimal:".",precision:2},SVC:{symbol:"₡",grouping:",",decimal:".",precision:2},SYP:{symbol:"£",grouping:",",decimal:".",precision:2},SZL:{symbol:"E",grouping:",",decimal:".",precision:2},THB:{symbol:"฿",grouping:",",decimal:".",precision:2},TJS:{symbol:"TJS",grouping:" ",decimal:";",precision:2},TMT:{symbol:"m",grouping:" ",decimal:",",precision:0},TND:{symbol:"د.ت.‏",grouping:",",decimal:".",precision:3},TOP:{symbol:"T$",grouping:",",decimal:".",precision:2},TRY:{symbol:"TL",grouping:".",decimal:",",precision:2},TTD:{symbol:"TT$",grouping:",",decimal:".",precision:2},TVD:{symbol:"$T",grouping:",",decimal:".",precision:2},TWD:{symbol:"NT$",grouping:",",decimal:".",precision:2},TZS:{symbol:"TSh",grouping:",",decimal:".",precision:2},UAH:{symbol:"₴",grouping:" ",decimal:",",precision:2},UGX:{symbol:"USh",grouping:",",decimal:".",precision:2},USD:{symbol:"$",grouping:",",decimal:".",precision:2},UYU:{symbol:"$U",grouping:".",decimal:",",precision:2},UZS:{symbol:"сўм",grouping:" ",decimal:",",precision:2},VEB:{symbol:"Bs.",grouping:",",decimal:".",precision:2},VEF:{symbol:"Bs. F.",grouping:".",decimal:",",precision:2},VND:{symbol:"₫",grouping:".",decimal:",",precision:1},VUV:{symbol:"VT",grouping:",",decimal:".",precision:0},WST:{symbol:"WS$",grouping:",",decimal:".",precision:2},XAF:{symbol:"F",grouping:",",decimal:".",precision:2},XCD:{symbol:"$",grouping:",",decimal:".",precision:2},XOF:{symbol:"F",grouping:" ",decimal:",",precision:2},XPF:{symbol:"F",grouping:",",decimal:".",precision:2},YER:{symbol:"﷼",grouping:",",decimal:".",precision:2},ZAR:{symbol:"R",grouping:" ",decimal:",",precision:2},ZMW:{symbol:"ZK",grouping:",",decimal:".",precision:2},WON:{symbol:"₩",grouping:",",decimal:".",precision:2}};t.CURRENCIES=s},"./packages/format-currency/dist/esm/index.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=(0,o.getCurrencyDefaults)(t);if(!s||isNaN(e))return null;var a=(0,i.default)({},s,n),c=a.decimal,l=a.grouping,u=a.precision,d=a.symbol,p=e<0?"-":"",m=(0,r.numberFormat)(Math.abs(e),{decimals:u,thousandsSep:l,decPoint:c});return"".concat(p).concat(d).concat(m)},t.getCurrencyObject=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=(0,o.getCurrencyDefaults)(t);if(!s||isNaN(e))return null;var a=(0,i.default)({},s,n),c=a.decimal,l=a.grouping,u=a.precision,d=a.symbol,p=e<0?"-":"",m=Math.abs(e),_=Math.floor(m),E=(0,r.numberFormat)(_,{decimals:0,thousandsSep:l,decPoint:c}),b=u>0?(0,r.numberFormat)(m-_,{decimals:u,thousandsSep:l,decPoint:c}).slice(1):"";return{sign:p,symbol:d,integer:E,fraction:b}},Object.defineProperty(t,"getCurrencyDefaults",{enumerable:!0,get:function(){return o.getCurrencyDefaults}}),Object.defineProperty(t,"CURRENCIES",{enumerable:!0,get:function(){return o.CURRENCIES}});var i=s(n("./node_modules/@babel/runtime/helpers/objectSpread.js")),r=n("./packages/i18n-calypso/dist/esm/index.js"),o=n("./packages/format-currency/dist/esm/currencies.js")},"./packages/photon/dist/esm/index.js":function(e,t,n){"use strict";var s=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=i.default.parse(e,!0,!0),s="https:"===n.protocol;delete n.protocol,delete n.auth,delete n.port;var l={slashes:!0,protocol:"https:",query:{}};if(E=n.host,/^i[0-2]\.wp\.com$/.test(E))l.pathname=n.pathname,l.hostname=n.hostname;else{if(n.search)return null;var u=i.default.format(n);l.pathname=0===u.indexOf("//")?u.substring(1):u,l.hostname=(d=l.pathname,p=(0,r.default)(d),m=(0,o.default)(p),_="i"+Math.floor(3*m()),a('determined server "%s" to use with "%s"',_,d),_+".wp.com"),s&&(l.query.ssl=1)}var d,p,m,_;var E;if(t)for(var b in t)"host"!==b&&"hostname"!==b?"secure"!==b||t[b]?l.query[c[b]||b]=t[b]:l.protocol="http:":l.hostname=t[b];var g=i.default.format(l);return a("generated Photon URL: %s",g),g};var i=s(n("./node_modules/url/url.js")),r=s(n("./node_modules/crc32/lib/crc32.js")),o=s(n("./node_modules/seed-random/index.js")),a=(0,s(n("./node_modules/debug/src/browser.js")).default)("photon"),c={width:"w",height:"h",letterboxing:"lb",removeLetterboxing:"ulb"}},"./packages/tree-select/dist/esm/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};0;var i=new WeakMap,o=n.getCacheKey,a=void 0===o?s:o,c=function(n){for(var s=arguments.length,o=new Array(s>1?s-1:0),c=1;c<s;c++)o[c-1]=arguments[c];var l=e.apply(void 0,[n].concat(o));var u=l.reduce(r,i),d=a.apply(void 0,o);if(u.has(d))return u.get(d);var p=t.apply(void 0,[l].concat(o));return u.set(d,p),p};return c.clearCache=function(){i=new WeakMap},c};var s=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join()};var i={};function r(e,t,n,s){var r=t||i,o=e.get(r);if(o)return o;var a=n===s.length-1?new Map:new WeakMap;return e.set(r,a),a}},0:function(e,t,n){e.exports=n("./client/boot/app.js")},electron:function(e,t){e.exports=electron}},[[0,0,179,180,48]]]);