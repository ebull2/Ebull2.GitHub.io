(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"./client/components/button/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return h});var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(s),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(a),p=n("./node_modules/react/index.js"),u=n.n(p),l=n("./node_modules/prop-types/index.js"),d=n.n(l),m=n("./node_modules/classnames/index.js"),f=n.n(m);class h extends p.PureComponent{render(){const e=f()("button",this.props.className,{"is-compact":this.props.compact,"is-primary":this.props.primary,"is-scary":this.props.scary,"is-busy":this.props.busy,"is-borderless":this.props.borderless});if(this.props.href){const t=this.props,n=(t.compact,t.primary,t.scary,t.busy,t.borderless,t.type,i()(t,["compact","primary","scary","busy","borderless","type"])),o=n.target?(n.rel||"").replace(/noopener|noreferrer/g,"")+" noopener noreferrer":n.rel;return u.a.createElement("a",r()({},n,{rel:o,className:e}))}const t=this.props,n=(t.compact,t.primary,t.scary,t.busy,t.borderless,t.target,t.rel,i()(t,["compact","primary","scary","busy","borderless","target","rel"]));return u.a.createElement("button",r()({},n,{className:e}))}}c()(h,"propTypes",{compact:d.a.bool,primary:d.a.bool,scary:d.a.bool,busy:d.a.bool,type:d.a.string,href:d.a.string,borderless:d.a.bool,target:d.a.string,rel:d.a.string}),c()(h,"defaultProps",{type:"button"})},"./client/components/card/index.jsx":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(s),a=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),c=n.n(a),p=n("./node_modules/react/index.js"),u=n.n(p),l=n("./node_modules/classnames/index.js"),d=n.n(l),m=n("./client/components/gridicon/index.jsx"),f=n("./node_modules/prop-types/index.js"),h=n.n(f);const g=e=>{let t=e.className,n=e.compact,o=e.displayAsLink,r=e.highlight,s=e.href,i=e.onClick;return d()("card",t,{"is-card-link":o||!!s,"is-clickable":!!i,"is-compact":n,"is-highlight":r},!!r&&"is-"+r)};class y extends p.PureComponent{render(){const e=this.props,t=e.children,n=(e.compact,e.displayAsLink),o=(e.highlight,e.tagName),s=e.href,a=e.target,c=i()(e,["children","compact","displayAsLink","highlight","tagName","href","target"]);return s?u.a.createElement("a",r()({},c,{href:s,target:a,className:g(this.props)}),u.a.createElement(m.a,{className:"card__link-indicator",icon:a?"external":"chevron-right"}),t):u.a.createElement(o,r()({},c,{className:g(this.props)}),n&&u.a.createElement(m.a,{className:"card__link-indicator",icon:a?"external":"chevron-right"}),t)}}c()(y,"propTypes",{className:h.a.string,displayAsLink:h.a.bool,href:h.a.string,tagName:h.a.oneOfType([h.a.func,h.a.string]).isRequired,target:h.a.string,compact:h.a.bool,highlight:h.a.oneOf([!1,"error","info","success","warning"])}),c()(y,"defaultProps",{tagName:"div",highlight:!1}),t.a=y},"./client/components/gridicon/index.jsx":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/extends.js"),r=n.n(o),s=n("./node_modules/@babel/runtime/helpers/objectWithoutProperties.js"),i=n.n(s),a=n("./node_modules/react/index.js"),c=n.n(a),p=n("./node_modules/prop-types/index.js"),u=n.n(p),l=n("./node_modules/classnames/index.js"),d=n.n(l),m=n("./node_modules/gridicons/dist/util/icons-offset.js"),f=n("./node_modules/gridicons/svg-sprite/gridicons.svg"),h=n.n(f);function g(e,t){return t.indexOf(e)>=0}const y=c.a.forwardRef((e,t)=>{const n=e.size,o=void 0===n?24:n,s=e.icon,a=e.onClick,p=e.className,u=i()(e,["size","icon","onClick","className"]),l=o%18==0,f="gridicons-".concat(s),y=l?[!!g(f,m.iconsThatNeedOffset)&&"needs-offset",!!g(f,m.iconsThatNeedOffsetX)&&"needs-offset-x",!!g(f,m.iconsThatNeedOffsetY)&&"needs-offset-y"]:[],b=d()("gridicon",f,p,...y);return c.a.createElement("svg",r()({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",className:b,height:o,width:o,onClick:a,ref:t},u),c.a.createElement("use",{xlinkHref:"".concat(h.a,"#").concat(f)}))});y.propTypes={icon:u.a.string.isRequired,size:u.a.number,onClick:u.a.func,className:u.a.string},t.a=c.a.memo(y)},"./client/components/main/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return a});var o=n("./node_modules/react/index.js"),r=n.n(o),s=n("./node_modules/classnames/index.js"),i=n.n(s);function a(e){let t=e.className,n=e.children,o=e.wideLayout,s=void 0!==o&&o;const a=i()(t,"main",{"is-wide-layout":s});return r.a.createElement("main",{className:a,role:"main"},n)}},"./client/components/wordpress-logo/index.jsx":function(e,t,n){"use strict";n.d(t,"a",function(){return p});var o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),r=n.n(o),s=n("./node_modules/react/index.js"),i=n.n(s),a=n("./node_modules/prop-types/index.js"),c=n.n(a);class p extends s.PureComponent{render(){return i.a.createElement("svg",{className:this.props.className,height:this.props.size,width:this.props.size,viewBox:"0 0 72 72"},i.a.createElement("path",{d:"M36,0C16.1,0,0,16.1,0,36c0,19.9,16.1,36,36,36c19.9,0,36-16.2,36-36C72,16.1,55.8,0,36,0z M3.6,36 c0-4.7,1-9.1,2.8-13.2l15.4,42.3C11.1,59.9,3.6,48.8,3.6,36z M36,68.4c-3.2,0-6.2-0.5-9.1-1.3l9.7-28.2l9.9,27.3 c0.1,0.2,0.1,0.3,0.2,0.4C43.4,67.7,39.8,68.4,36,68.4z M40.5,20.8c1.9-0.1,3.7-0.3,3.7-0.3c1.7-0.2,1.5-2.8-0.2-2.7 c0,0-5.2,0.4-8.6,0.4c-3.2,0-8.5-0.4-8.5-0.4c-1.7-0.1-2,2.6-0.2,2.7c0,0,1.7,0.2,3.4,0.3l5,13.8L28,55.9L16.2,20.8 c2-0.1,3.7-0.3,3.7-0.3c1.7-0.2,1.5-2.8-0.2-2.7c0,0-5.2,0.4-8.6,0.4c-0.6,0-1.3,0-2.1,0C14.7,9.4,24.7,3.6,36,3.6 c8.4,0,16.1,3.2,21.9,8.5c-0.1,0-0.3,0-0.4,0c-3.2,0-5.4,2.8-5.4,5.7c0,2.7,1.5,4.9,3.2,7.6c1.2,2.2,2.7,4.9,2.7,8.9 c0,2.8-0.8,6.3-2.5,10.5l-3.2,10.8L40.5,20.8z M52.3,64l9.9-28.6c1.8-4.6,2.5-8.3,2.5-11.6c0-1.2-0.1-2.3-0.2-3.3 c2.5,4.6,4,9.9,4,15.5C68.4,47.9,61.9,58.4,52.3,64z"}))}}r()(p,"displayName","WordPressLogo"),r()(p,"defaultProps",{size:72,className:"wordpress-logo"}),r()(p,"propTypes",{size:c.a.number,className:c.a.string})},"./client/config/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return p}),n.d(t,"c",function(){return d});var o=n("./node_modules/cookie/index.js"),r=n.n(o),s=n("./client/lib/create-config/index.js"),i=n.n(s);if("undefined"==typeof window||!window.configData)throw new ReferenceError("No configuration was found: please see client/config/README.md for more information");const a=window.configData,c=/^([a-zA-Z0-9-]+\.)?calypso\.live$/;function p(){return"undefined"!=typeof window&&c.test(window.location.host)}function u(e,t){e.split(",").forEach(e=>{const n=e.replace(/^[-+]/,""),o=!/^-/.test(e);a.features[n]=o,console.log("%cConfig flag %s via %s: %s","font-weight: bold;",o?"enabled":"disabled",t,n)})}if("stage"===a.env_id||p()){const e=r.a.parse(document.cookie);e.flags&&u(e.flags,"cookie");const t=document.location.search&&document.location.search.match(/[?&]flags=([^&]+)(&|$)/);t&&u(t[1],"URL")}const l=i()(a);t.a=l;const d=l.isEnabled},"./client/dispatcher/index.js":function(e,t,n){"use strict";var o=n("./node_modules/flux/index.js"),r=n("./node_modules/debug/src/browser.js");const s=n.n(r)()("calypso:dispatcher"),i=Object.assign(new o.Dispatcher,{handleViewAction:function(e){s("Dispatching view action %s: %o",e.type,e),this.dispatch({source:"VIEW_ACTION",action:e})},handleServerAction:function(e){s("Dispatching server action %s: %o",e.type,e),this.dispatch({source:"SERVER_ACTION",action:e})}});t.a=i},"./client/lib/abtest/active-tests.js":function(e,t,n){"use strict";t.a={improvedOnboarding:{datestamp:"20190314",variations:{main:0,onboarding:100},defaultVariation:"main",allowExistingUsers:!0,localeTargets:"any"},cartNudgeUpdateToPremium:{datestamp:"20180917",variations:{test:50,control:50},defaultVariation:"control",allowExistingUsers:!0},springSale30PercentOff:{datestamp:"20180413",variations:{upsell:50,control:50},defaultVariation:"control",allowExistingUsers:!0},ATPromptOnCancel:{datestamp:"20170515",variations:{hide:20,show:80},defaultVariation:"hide",allowExistingUsers:!0},ATUpgradeOnCancel:{datestamp:"20170515",variations:{hide:20,show:80},defaultVariation:"hide",allowExistingUsers:!0},skipThemesSelectionModal:{datestamp:"20170904",variations:{skip:50,show:50},defaultVariation:"show",allowExistingUsers:!0,localeTargets:"any"},showConciergeSessionUpsell:{datestamp:"20181214",variations:{skip:100,show:0},defaultVariation:"skip",allowExistingUsers:!0},builderReferralStatsNudge:{datestamp:"20181218",variations:{builderReferralBanner:25,googleMyBusinessBanner:75},defaultVariation:"googleMyBusinessBanner"},builderReferralThemesBanner:{datestamp:"20181218",variations:{builderReferralBanner:25,original:75},defaultVariation:"original"},removeDomainsStepFromOnboarding:{datestamp:"20190412",variations:{keep:100,remove:0},defaultVariation:"keep"},twoYearPlanByDefault:{datestamp:"20190207",variations:{originalFlavor:100,twoYearFlavor:0},defaultVariation:"originalFlavor"},gSuitePostCheckoutNotice:{datestamp:"20190211",variations:{original:50,enhanced:50},defaultVariation:"original"},pluginFeaturedTitle:{datestamp:"20190220",variations:{featured:50,recommended:50},defaultVariation:"featured"},builderReferralHelpPopover:{datestamp:"20190227",variations:{builderReferralLink:10,original:90},defaultVariation:"original"},gSuiteContinueButtonCopy:{datestamp:"20190307",variations:{purchase:50,original:50},defaultVariation:"original"},checklistSiteLogo:{datestamp:"20190305",variations:{icon:50,logo:50},defaultVariation:"icon",allowExistingUsers:!0,localeTargets:"any"},builderReferralHelpBanner:{datestamp:"20190304",variations:{builderReferralBanner:25,original:75},defaultVariation:"original"},pageBuilderMVP:{datestamp:"20190419",variations:{control:100,test:0},defaultVariation:"control",allowExistingUsers:!0},conciergeUpsellDial:{datestamp:"20190429",variations:{offer:100,noOffer:0},defaultVariation:"noOffer",allowExistingUsers:!0},showCheckoutCartRight:{datestamp:"20190502",variations:{variantRightColumn:50,control:50},defaultVariation:"control",allowExistingUsers:!0}}},"./client/lib/abtest/utility.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r}),n.d(t,"b",function(){return s});var o=n("./client/lib/abtest/active-tests.js");const r="ABTests";function s(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.appendDatestamp,n=void 0!==t&&t,r=e.asCSV,s=void 0!==r&&r;const i=Object.keys(o.a).map(e=>n?"".concat(e,"_").concat(o.a[e].datestamp):e);return s?i.join(","):i}},"./client/lib/create-config/index.js":function(e,t,n){e.exports=(e=>{const t=(e=>t=>{if(t in e)return e[t];"undefined"!=typeof window&&console.error("%cCore Error: %cCould not find config value for key %c${ key }%c. Please make sure that if you need it then it has a default value assigned in %cconfig/_shared.json%c.","color: red; font-size: 120%","color: black;","color: blue;","color: black;","color: blue;","color: black")})(e);return t.isEnabled=(e=>t=>e.features&&!!e.features[t]||!1)(e),t})},"./client/lib/e2e/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return r});const o="wp-e2e-tests";function r(){return new RegExp(o).test(navigator.userAgent)}},"./client/lib/formatting/index.js":function(e,t,n){"use strict";var o=n("./node_modules/lodash/lodash.js"),r=n("./node_modules/striptags/striptags.js"),s=n.n(r);const i=(()=>document.implementation&&document.implementation.createHTMLDocument?document.implementation.createHTMLDocument("").createElement("textarea"):document.createElement("textarea"))();function a(e){return"string"!=typeof e||-1===e.indexOf("&")?e:function(e){i.innerHTML=e;const t=i.textContent;return i.innerHTML="",t}(e)}function c(e){return s()(e)}function p(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:2;if("string"!=typeof e)return e;if(!(e=e&&Object(o.trim)(e)))return e;const n=e.match(/\S+/g);if(!n||1===n.length)return e;if(n.length<=t)return n.join(" ");const r=n.splice(-t,t);return n.join(" ")+" "+r.join(" ")}function u(e){return!!e&&-1!==e.indexOf("\x3c!-- wp:")}
/**
 * Automatically add paragraph and break tags
 *
 * Adapted from WordPress
 *
 * @copyright 2015 by the WordPress contributors.
 * @license See CREDITS.md.
 * @see wp-admin/js/editor.js
 *
 * @param {string} pee     html string
 * @return {string}        html string with HTML paragraphs instead of double line-breaks
 */function l(e){if(u(e))return e.replace(/-->\s+<!--/g,"--\x3e\x3c!--");const t="table|thead|tfoot|caption|col|colgroup|tbody|tr|td|th|div|dl|dd|dt|ul|ol|li|pre|form|map|area|blockquote|address|math|style|p|h[1-6]|hr|fieldset|legend|section|article|aside|hgroup|header|footer|nav|figure|figcaption|details|menu|summary";let n=!1,o=!1;return-1!==e.indexOf("<object")&&(e=e.replace(/<object[\s\S]+?<\/object>/g,function(e){return e.replace(/[\r\n]+/g,"")})),-1===(e=e.replace(/<[^<>]+>/g,function(e){return e.replace(/[\r\n]+/g," ")})).indexOf("<pre")&&-1===e.indexOf("<script")||(n=!0,e=e.replace(/<(pre|script)[^>]*>[\s\S]+?<\/\1>/g,function(e){return e.replace(/(\r\n|\n)/g,"<wp-line-break>")})),-1!==e.indexOf("[caption")&&(o=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(e){return(e=(e=e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>")).replace(/<[a-zA-Z0-9]+( [^<>]+)?>/g,function(e){return e.replace(/[\r\n\t]+/," ")})).replace(/\s*\n\s*/g,"<wp-temp-br />")})),e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e+="\n\n").replace(/<br \/>\s*<br \/>/gi,"\n\n")).replace(new RegExp("(<(?:"+t+")(?: [^>]*)?>)","gi"),"\n$1")).replace(new RegExp("(</(?:"+t+")>)","gi"),"$1\n\n")).replace(/<hr( [^>]*)?>/gi,"<hr$1>\n\n")).replace(/\s*<option/gi,"<option")).replace(/<\/option>\s*/gi,"</option>")).replace(/\r\n|\r/g,"\n")).replace(/\n\s*\n+/g,"\n\n")).replace(/([\s\S]+?)\n\n/g,"<p>$1</p>\n")).replace(/<p>\s*?<\/p>/gi,"")).replace(new RegExp("<p>\\s*(</?(?:"+t+")(?: [^>]*)?>)\\s*</p>","gi"),"$1")).replace(/<p>(<li.+?)<\/p>/gi,"$1")).replace(/<p>\s*<blockquote([^>]*)>/gi,"<blockquote$1><p>")).replace(/<\/blockquote>\s*<\/p>/gi,"</p></blockquote>")).replace(new RegExp("<p>\\s*(</?(?:"+t+")(?: [^>]*)?>)","gi"),"$1")).replace(new RegExp("(</?(?:"+t+")(?: [^>]*)?>)\\s*</p>","gi"),"$1")).replace(/\s*\n/gi,"<br />\n")).replace(new RegExp("(</?(?:"+t+")[^>]*>)\\s*<br />","gi"),"$1")).replace(/<br \/>(\s*<\/?(?:p|li|div|dl|dd|dt|th|pre|td|ul|ol)>)/gi,"$1")).replace(/(?:<p>|<br ?\/?>)*\s*\[caption([^\[]+)\[\/caption\]\s*(?:<\/p>|<br ?\/?>)*/gi,"[caption$1[/caption]")).replace(/(<(?:div|th|td|form|fieldset|dd)[^>]*>)(.*?)<\/p>/g,function(e,t,n){return n.match(/<p( [^>]*)?>/)?e:t+"<p>"+n+"</p>"}),n&&(e=e.replace(/<wp-line-break>/g,"\n")),o&&(e=e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")),e}function d(e){if(u(e))return e.replace(/-->\s*<!-- wp:/g,"--\x3e\n\n\x3c!-- wp:");const t="blockquote|ul|ol|li|table|thead|tbody|tfoot|tr|th|td|h[1-6]|fieldset",n=t+"|div|p",o=t+"|pre";let r=!1,s=!1;return e?(-1===e.indexOf("<pre")&&-1===e.indexOf("<script")||(r=!0,e=e.replace(/<(pre|script)[^>]*>[\s\S]+?<\/\1>/g,function(e){return(e=(e=e.replace(/<br ?\/?>(\r\n|\n)?/g,"<wp-line-break>")).replace(/<\/?p( [^>]*)?>(\r\n|\n)?/g,"<wp-line-break>")).replace(/\r?\n/g,"<wp-line-break>")})),-1!==e.indexOf("[caption")&&(s=!0,e=e.replace(/\[caption[\s\S]+?\[\/caption\]/g,function(e){return e.replace(/<br([^>]*)>/g,"<wp-temp-br$1>").replace(/[\r\n\t]+/,"")})),-1!==(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=(e=e.replace(new RegExp("\\s*</("+n+")>\\s*","g"),"</$1>\n")).replace(new RegExp("\\s*<((?:"+n+")(?: [^>]*)?)>","g"),"\n<$1>")).replace(/(<p [^>]+>.*?)<\/p>/g,"$1</p#>")).replace(/<div( [^>]*)?>\s*<p>/gi,"<div$1>\n\n")).replace(/\s*<p>/gi,"")).replace(/\s*<\/p>\s*/gi,"\n\n")).replace(/\n[\s\u00a0]+\n/g,"\n\n")).replace(/\s*<br ?\/?>\s*/gi,"\n")).replace(/\s*<div/g,"\n<div")).replace(/<\/div>\s*/g,"</div>\n")).replace(/\s*\[caption([^\[]+)\[\/caption\]\s*/gi,"\n\n[caption$1[/caption]\n\n")).replace(/caption\]\n\n+\[caption/g,"caption]\n\n[caption")).replace(new RegExp("\\s*<((?:"+o+")(?: [^>]*)?)\\s*>","g"),"\n<$1>")).replace(new RegExp("\\s*</("+o+")>\\s*","g"),"</$1>\n")).replace(/<li([^>]*)>/g,"\t<li$1>")).indexOf("<option")&&(e=(e=e.replace(/\s*<option/g,"\n<option")).replace(/\s*<\/select>/g,"\n</select>")),-1!==e.indexOf("<hr")&&(e=e.replace(/\s*<hr( [^>]*)?>\s*/g,"\n\n<hr$1>\n\n")),-1!==e.indexOf("<object")&&(e=e.replace(/<object[\s\S]+?<\/object>/g,function(e){return e.replace(/[\r\n]+/g,"")})),e=(e=(e=(e=e.replace(/<\/p#>/g,"</p>\n")).replace(/\s*(<p [^>]+>[\s\S]*?<\/p>)/g,"\n$1")).replace(/^\s+/,"")).replace(/[\s\u00a0]+$/,""),r&&(e=e.replace(/<wp-line-break>/g,"\n")),s&&(e=e.replace(/<wp-temp-br([^>]*)>/g,"<br$1>")),e):""}function m(e){if("string"!=typeof e)throw new Error("capitalPDangit expects a string as input");return e.replace(/Wordpress/g,"WordPress")}function f(e){if(e&&e.querySelector)return e;if("string"!=typeof e)return null;const t=document.createElement("div");t.innerHTML=e;const n=t.children,o=document.createDocumentFragment();for(;n.length>0;)o.appendChild(n[0]);return o}n.d(t,"b",function(){return a}),n.d(t,"f",function(){return c}),n.d(t,"d",function(){return p}),n.d(t,"g",function(){return l}),n.d(t,"e",function(){return d}),n.d(t,"a",function(){return m}),n.d(t,"c",function(){return f});String.fromCharCode(160)},"./client/lib/i18n-utils/browser.js":function(e,t,n){"use strict";n.d(t,"f",function(){return i});var o=n("./packages/i18n-calypso/dist/esm/index.js"),r=n.n(o),s=n("./client/lib/i18n-utils/utils.js");n.d(t,"a",function(){return s.a}),n.d(t,"c",function(){return s.c}),n.d(t,"d",function(){return s.d}),n.d(t,"e",function(){return s.e}),n.d(t,"h",function(){return s.g}),n.d(t,"i",function(){return s.h}),n.d(t,"j",function(){return s.i}),n.d(t,"b",function(){return s.b}),n.d(t,"k",function(){return s.j}),n.d(t,"g",function(){return s.f});const i=()=>r.a.getLocaleSlug()},"./client/lib/i18n-utils/utils.js":function(e,t,n){"use strict";n.d(t,"f",function(){return p}),n.d(t,"g",function(){return u}),n.d(t,"h",function(){return l}),n.d(t,"b",function(){return d}),n.d(t,"d",function(){return m}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"a",function(){return g}),n.d(t,"i",function(){return _}),n.d(t,"j",function(){return v});var o=n("./node_modules/lodash/lodash.js"),r=n("./node_modules/url/url.js"),s=n.n(r),i=n("./packages/i18n-calypso/dist/esm/index.js"),a=n("./client/config/index.js");const c=/^[A-Z]{2,3}(-[A-Z]{2,3})?(_[A-Z]{2,6})?$/i;function p(e){return e.replace(/\/$/,"").split("/")}function u(e){return e===Object(a.a)("i18n_default_locale_slug")}function l(e){if(!Object(o.isString)(e))return!1;const t=f(e);return!!t&&Object(o.isString)(t.parentLangSlug)}function d(e){return-1===["en","sr_latin"].indexOf(e)}function m(){return Object(o.map)(Object(a.a)("languages"),"langSlug")}function f(e){if(c.test(e))return Object(o.find)(Object(a.a)("languages"),{langSlug:e})||Object(o.find)(Object(a.a)("languages"),{langSlug:e.split(/[-_]/)[0]})}function h(e){const t=p(s.a.parse(e).pathname).pop();return void 0===f(t)?void 0:t}function g(e,t){const n=s.a.parse(e),o=n.search||"";return v(n.pathname)+"/".concat(t)+o}const y=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return(n,o)=>{const r={"pt-br":"br",br:"bre",zh:"zh-cn","zh-hk":"zh-tw","zh-sg":"zh-cn",kr:"ko"};return"string"==typeof t&&(t=Object(a.a)(t)),t.includes(o)&&(n.host="".concat(r[o]||o,".").concat(e)),n}},b=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return(t,n)=>("string"==typeof e&&(e=Object(a.a)(e)),e.includes(n)&&(t.pathname=n+t.pathname),t)},w={"wordpress.com":y("wordpress.com","magnificent_non_en_locales"),"wordpress.com/tos/":y("wordpress.com","magnificent_non_en_locales"),"jetpack.com":y("jetpack.com","jetpack_com_locales"),"en.support.wordpress.com":y("support.wordpress.com","support_site_locales"),"en.blog.wordpress.com":y("blog.wordpress.com",["en","ja","es","pt","fr","pt-br"]),"en.forums.wordpress.com":y("forums.wordpress.com","forum_locales"),"automattic.com/privacy/":b(["en","fr","de"]),"automattic.com/cookies/":b(["en","fr","de"])};function _(e,t){const n=t||("function"==typeof i.getLocaleSlug?Object(i.getLocaleSlug)():"en"),r=s.a.parse(String(e));if(!r)return e;if(r.protocol="https","en.wordpress.com"===r.hostname&&(r.host="wordpress.com"),Object(o.endsWith)(r.pathname,".php")||(r.pathname=(r.pathname+"/").replace(/\/+$/,"/")),!n||"en"===n)return"en.wordpress.com"===r.hostname?(r.host="wordpress.com",s.a.format(r)):e;const a=[r.hostname,r.hostname+r.pathname];for(let e=a.length-1;e>=0;e--)if(a[e]in w)return s.a.format(w[a[e]](r,n));return e}function v(e){const t=s.a.parse(e),n=t.search||"",o=p(t.pathname),r=o.pop();return void 0===f(r)&&o.push(r),o.join("/")+n}},"./client/lib/invites/constants.js":function(e,t,n){"use strict";n.d(t,"a",function(){return o});const o={FETCH_INVITE:"FETCH_INVITE",RECEIVE_INVITE:"RECEIVE_INVITE",RECEIVE_INVITE_ERROR:"RECEIVE_INVITE_ERROR",INVITE_ACCEPTED:"INVITE_ACCEPTED",RECEIVE_INVITE_ACCEPTED_SUCCESS:"RECEIVE_INVITE_ACCEPTED_SUCCESS",RECEIVE_INVITE_ACCEPTED_ERROR:"RECEIVE_INVITE_ACCEPTED_ERROR",SENDING_INVITES:"SENDING_INVITES",RECEIVE_SENDING_INVITES_ERROR:"RECEIVE_SENDING_INVITES_ERROR",RECEIVE_SENDING_INVITES_SUCCESS:"RECEIVE_SENDING_INVITES_SUCCESS",CREATE_INVITE_VALIDATION:"CREATE_INVITE_VALIDATION",RECEIVE_CREATE_INVITE_VALIDATION_ERROR:"RECEIVE_CREATE_INVITE_VALIDATION_ERROR",RECEIVE_CREATE_INVITE_VALIDATION_SUCCESS:"RECEIVE_CREATE_INVITE_VALIDATION_SUCCESS"}},"./client/lib/localforage/index.js":function(e,t,n){"use strict";var o=n("./node_modules/localforage/dist/localforage.js"),r=n.n(o),s=n("./node_modules/lodash/lodash.js"),i=n("./node_modules/debug/src/browser.js"),a=n.n(i);const c=a()("calypso:support-user"),p={};function u(e,t){t&&e.then(e=>{t(null,e)},e=>{t(e)})}var l={_driver:"localForageBypass",_initStorage:function(e){const t={};if(e)for(const n in e)t[n]=e[n];return t.db={},p[t.name]=t.db,this._dbInfo=t,Promise.resolve()},iterate:function(e){const t=new Promise((t,n)=>{this.ready().then(()=>{try{const o=this._dbInfo.db;for(const t in o){const n=o[t];e(n,t)}t()}catch(e){n(e)}}).catch(n)});return u(t,e),t},getItem:function(e,t){c("localForage bypass","getItem",e),"string"!=typeof e&&(e=String(e));const n=new Promise((t,n)=>{this.ready().then(()=>{try{const o=this._dbInfo.db[e];t(o)}catch(e){n(e)}}).catch(n)});return u(n,t),n},setItem:function(e,t,n){c("localForage bypass","setItem",e);const o=new Promise((n,o)=>{if("string"!=typeof e)return o();this.ready().then(()=>{void 0===t&&(t=null);const o=t;this._dbInfo.db[e]=t,n(o)}).catch(o)});return u(o,n),o},removeItem:function(e,t){c("localForage bypass","removeItem",e);const n=new Promise((t,n)=>{if("string"!=typeof e)return n();this.ready().then(()=>{const n=this._dbInfo.db;n.hasOwnProperty(e)&&delete n[e],t()}).catch(n)});return u(n,t),n},clear:function(e){c("localForage bypass","clear");const t=new Promise((e,t)=>{this.ready().then(()=>{const t=this._dbInfo.db;for(const e in t)t.hasOwnProperty(e)&&delete t[e];e()}).catch(t)});return u(t,e),t},length:function(e){const t=new Promise((e,t)=>{this.keys().then(t=>{e(t.length)}).catch(t)});return u(t,e),t},key:function(e,t){const n=new Promise((t,n)=>{this.ready().then(()=>{const n=this._dbInfo.db;let o=null,r=0;for(const t in n)if(n.hasOwnProperty(t)&&void 0!==n[t]){if(e===r){o=t;break}r++}t(o)}).catch(n)});return u(n,t),n},keys:function(e){const t=new Promise((e,t)=>{this.ready().then(()=>{const t=this._dbInfo.db,n=[];for(const e in t)t.hasOwnProperty(e)&&n.push(e);e(n)}).catch(t)});return u(t,e),t}};const d=a()("calypso:localforage"),m={name:"calypso",storeName:"calypso_store",version:1,description:"Calypso Browser Storage",driver:[r.a.INDEXEDDB,r.a.WEBSQL,r.a.LOCALSTORAGE]};let f=!1;const h=r.a.defineDriver(l).then(()=>(r.a.config(m),f=!0,r.a)).catch(e=>d("Configuring localforage: %s",e)),g=Object(s.reduce)(["getItem","setItem","removeItem","length","key","keys","iterate","clear"],(e,t)=>(e[t]=((e,t)=>(function(){for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return e.then(e=>t.apply(e,o))}))(h,r.a[t]),e),{});g.bypass=(()=>{f?d("Cannot bypass localforage after initialization"):m.driver=[l._driver]});t.a=Object.assign({},r.a,g)},"./client/lib/mixins/emitter/index.js":function(e,t,n){"use strict";var o=n("./node_modules/lodash/lodash.js"),r=n("./node_modules/events/events.js");t.a=function(e){Object(o.assign)(e,r.EventEmitter.prototype),e.emitChange=function(){this.emit("change")},e.off=e.removeListener}},"./client/lib/oauth-token/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"b",function(){return u});var o=n("./node_modules/cookie/index.js"),r=n.n(o),s=n("./node_modules/store/dist/store.modern.js"),i=n.n(s);const a="wpcom_token",c=31536e6;function p(){const e=r.a.parse(document.cookie);if(void 0!==e[a])return e[a];const t=i.a.get(a);return t||!1}function u(e){document.cookie=r.a.serialize(a,e,{maxAge:c})}},"./client/lib/route/index.js":function(e,t,n){"use strict";n.d(t,"a",function(){return p}),n.d(t,"j",function(){return u}),n.d(t,"k",function(){return l}),n.d(t,"h",function(){return d});var o=n("./node_modules/page/page.js"),r=n.n(o),s=n("./node_modules/url/url.js"),i=n.n(s),a=n("./node_modules/lodash/lodash.js"),c=n("./client/lib/route/path.js");n.d(t,"b",function(){return c.a}),n.d(t,"c",function(){return c.b}),n.d(t,"d",function(){return c.c}),n.d(t,"e",function(){return c.d}),n.d(t,"f",function(){return c.e}),n.d(t,"g",function(){return c.f}),n.d(t,"i",function(){return c.g});const p=(e,t)=>{if("object"!=typeof e)throw new Error("addQueryArgs expects the first argument to be an object.");if("string"!=typeof t)throw new Error("addQueryArgs expects the second argument to be a string.");e=Object(a.pickBy)(e,e=>null!=e);const n=i.a.parse(t,!0);let o=n.query||{};o=Object.assign(o,e);const r=Object.assign(n,{query:o,search:!1});return i.a.format(r)},u=e=>e.replace(/(\/)?$/,"/"),l=e=>"/"===e?e:e.replace(/\/$/,""),d=(e,t)=>{const n=l(e.pathname);n!==e.pathname?r.a.redirect(((e,t)=>e+(t?"?"+t:""))(n,e.querystring)):t()}},"./client/lib/route/legacy-routes.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i});var o=n("./client/config/index.js");const r=e=>()=>!o.a.isEnabled(e),s=[{match:/.php$/},{match:/^\/?$/,predicate:r("reader")},{match:/^\/manage/},{match:/^\/plans/},{match:/^\/me/,noMatch:/^\/me\/(billing|next)/,predicate:r("me/my-profile")}];function i(e){return s.some(t=>{let n=t.match,o=t.noMatch,r=void 0===o?{test:()=>!1}:o,s=t.predicate;return(void 0===s?()=>!0:s)(e)&&n.test(e)&&!r.test(e)})}},"./client/lib/route/path.js":function(e,t,n){"use strict";n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"g",function(){return c}),n.d(t,"d",function(){return p}),n.d(t,"e",function(){return u}),n.d(t,"f",function(){return l}),n.d(t,"b",function(){return d});var o=n("./node_modules/lodash/lodash.js"),r=n("./client/lib/route/index.js");const s={day:"/stats/day/",week:"/stats/week/",month:"/stats/month/",year:"/stats/year/",insights:"/stats/insights/",googleMyBusiness:"/google-my-business/stats/"};function i(e){const t=e.split("?")[0],n=t.split("/");if(0===t.indexOf("/checkout/thank-you/no-site/"))return!1;if(0===t.indexOf("/me/purchases/")||0===t.indexOf("/checkout/thank-you/")){const e=n[3];if(e&&-1!==e.indexOf("."))return e;const t=parseInt(e,10);if(Number.isSafeInteger(t))return t}for(let e=2;e>0;e--){const t=n[n.length-e];if(t&&-1!==t.indexOf("."))return t}for(let e=2;e>0;e--){const t=parseInt(n[n.length-e],10);if(Number.isSafeInteger(t))return t}return!1}function a(e,t){const n=c(e).split("/");if(Object(o.includes)(["post","page","edit"],n[1])){const e="edit"===n[1]?3:2;n.splice(e,0,t)}else n.push(t);return n.join("/")}function c(e,t){let n=e.split("?")[0];return t||(t=i(n)),t&&(n=Object(r.j)(n).replace("/"+t+"/","/")),Object(r.k)(n)}function p(e){return e?"/stats/day/"+e:Object(r.k)("/stats/day/")}function u(e,t){if(!e)return p(t);if("insights"===e&&!t)return p();const n=s[e];return n?t?Object(r.k)(n+t):Object(r.k)(n):p(t)}function l(e){switch(e){case"drafts":return"draft,pending";case"scheduled":return"future";case"trashed":return"trash";default:return"publish,private"}}function d(e){window.location=e}},"./client/lib/url/index.js":function(e,t,n){"use strict";n.d(t,"g",function(){return c}),n.d(t,"e",function(){return p}),n.d(t,"f",function(){return u}),n.d(t,"m",function(){return m}),n.d(t,"b",function(){return f}),n.d(t,"j",function(){return h}),n.d(t,"l",function(){return g}),n.d(t,"k",function(){return y}),n.d(t,"i",function(){return b}),n.d(t,"h",function(){return w}),n.d(t,"d",function(){return _}),n.d(t,"c",function(){return v});var o=n("./node_modules/url/url.js"),r=n("./node_modules/lodash/lodash.js"),s=n("./client/config/index.js"),i=n("./client/lib/route/legacy-routes.js"),a=n("./client/lib/route/index.js");function c(e){return e&&(Object(r.startsWith)(e,"//")||!Object(r.startsWith)(e,"/"))}function p(e){Object(r.startsWith)(e,"http://")||Object(r.startsWith)(e,"https://")||Object(r.startsWith)(e,"//")||(e="//"+e);const t=Object(o.parse)(e,!1,!0),n=t.hostname,a=t.path;return!!n&&("undefined"!=typeof window&&n===window.location.hostname?!(!a||!Object(i.a)(a.replace("//","/"))):n!==Object(s.a)("hostname"))}function u(e){return e&&Object(r.startsWith)(e,"https://")}n.d(t,"a",function(){return a.a});const l=/^\w+:\/\//,d=/^https?:\/\//;function m(e){return""===e?"":e?e.replace(d,""):null}function f(e,t){return!1===l.test(e)?t+"://"+e:e}function h(e,t){const n=t+"://";if(Object(r.startsWith)(e,n))return e;const o=f(e,t);return o!==e?o:e.replace(l,n)}function g(e){return e?m(e).replace(/\//g,"::"):null}function y(e){return m(e).replace(/\/$/,"")}function b(e){if(!e)return!1;let t=Object(o.parse)(e);if(t.protocol||(t=Object(o.parse)("http://"+e)),!t.hostname||-1===t.hostname.indexOf("."))return!1;if(t.hostname.lastIndexOf(".")>t.hostname.length-3)return!1;return!(t.hostname.split(".").filter(Boolean).length<2)}function w(e,t){if(!e)return null;const n=Object(o.parse)(e,!0);return n.query=Object(r.omit)(n.query,t),delete n.search,Object(o.format)(n)}function _(e){if(!Object(r.isString)(e)&&!Object(r.has)(e,"toString"))return"";try{return decodeURI(e)}catch(t){return e}}function v(e){if(!Object(r.isString)(e)&&!Object(r.has)(e,"toString"))return"";try{return decodeURIComponent(e)}catch(t){return e}}},"./client/lib/user/index.js":function(e,t,n){"use strict";n.r(t);var o=n("./client/dispatcher/index.js"),r=n("./client/lib/invites/constants.js"),s=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(s),a=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),c=n.n(a),p=n("./node_modules/lodash/lodash.js"),u=n("./node_modules/store/dist/store.modern.js"),l=n.n(u),d=n("./node_modules/debug/src/browser.js"),m=n.n(d),f=n("./client/config/index.js"),h=n("./node_modules/qs/lib/index.js"),g=n("./client/lib/user/support-user-interop.js"),y=n("./client/lib/wp/browser.js"),b=n("./client/lib/mixins/emitter/index.js"),w=n("./client/lib/e2e/index.js"),_=n("./client/lib/formatting/index.js"),v=n("./client/lib/i18n-utils/utils.js"),j=n("./client/lib/url/index.js");function q(e){const t=Object(v.c)(e.language),n=e.primary_blog_url||"";return{primarySiteSlug:(o=n,Object(j.m)(o).replace(/\//g,"::")),localeSlug:e.language,localeVariant:e.locale_variant,isRTL:!(!t||!t.rtl)};var o}var S=n("./client/lib/localforage/index.js"),k=n("./client/lib/abtest/utility.js");const O=m()("calypso:user");function E(){if(!(this instanceof E))return new E;this.initialize()}Object(b.a)(E.prototype),E.prototype.initialize=function(){return O("Initializing User"),this.fetching=!1,this.initialized=!1,this.on("change",this.checkVerification.bind(this)),Object(g.isSupportUserSession)()?(this.data=!1,Object(g.supportUserBoot)(),void this.fetch()):(Object(g.isSupportNextSession)()&&Object(g.supportNextBoot)(),f.a.isEnabled("wpcom-user-bootstrap")?(this.data=window.currentUser||!1,O("Bootstrapping user data:",this.data),this.data&&this.handleFetchSuccess(this.data),void(this.initialized=!0)):(this.data=l.a.get("wpcom_user")||!1,O("User bootstrap disabled, checking localStorage:",this.data),this.data&&(this.initialized=!0,this.emit("change")),void this.fetch()))},E.prototype.clearStoreIfChanged=function(e){const t=l.a.get("wpcom_user");t&&t.ID!==e&&(O("Clearing localStorage because user changed"),l.a.clearAll())},E.prototype.get=function(){return this.data||this.fetch(),this.data},E.prototype.fetch=function(){if(this.fetching)return;const e=y.a.me();this.fetching=!0,O("Getting user from api"),e.get({meta:"flags",abtests:Object(k.b)({appendDatestamp:!0,asCSV:!0})},(e,t)=>{if(e)return void this.handleFetchFailure(e);const n=function(e){const t={},n=["display_name","description","user_URL"];return["ID","display_name","username","avatar_URL","site_count","visible_site_count","date","has_unseen_notes","newest_note_type","phone_account","email","email_verified","is_valid_google_apps_country","user_ip_country_code","logout_URL","primary_blog","primary_blog_is_jetpack","primary_blog_url","meta","is_new_reader","social_login_connections","abtests"].forEach(function(o){t[o]=e[o]&&Object(p.includes)(n,o)?Object(_.b)(e[o]):e[o]}),Object(p.assign)(t,q(e))}(t);this.handleFetchSuccess(n),O("User successfully retrieved")})},E.prototype.handleFetchFailure=function(e){f.a.isEnabled("wpcom-user-bootstrap")||"authorization_required"!==e.error?O("Something went wrong trying to get the user."):(O("The user is not logged in."),this.initialized=!0,this.emit("change"))},E.prototype.handleFetchSuccess=function(e){if(this.fetching=!1,this.clearStoreIfChanged(e.ID),l.a.set("wpcom_user",e),e.abtests)if(f.a.isEnabled("dev/test-helper")||Object(w.a)()){const t=l.a.get(k.a),n="object"==typeof t?t:void 0;l.a.set(k.a,c()({},e.abtests,n))}else l.a.set(k.a,e.abtests);this.data=e,this.settings&&(O("Retaining fetched settings data in new user data"),this.data.settings=this.settings),this.initialized=!0,this.emit("change")},E.prototype.getLanguage=function(){return Object(v.c)(this.data.localeSlug)},E.prototype.getAvatarUrl=function(e){const t=this.get().avatar_URL,n="string"==typeof t?t.split("?")[0]:"";return e=e||{},e=Object.assign({},e,{s:80,d:"mm",r:"G"}),n+"?"+Object(h.stringify)(e)},E.prototype.clear=function(e){this.data=[],delete this.settings,l.a.clearAll(),f.a.isEnabled("persist-redux")?S.a.clear(e):e&&e()},E.prototype.sendVerificationEmail=function(e){return y.a.undocumented().me().sendVerificationEmail(e)},E.prototype.set=function(e){let t=!1;for(const o of Object(p.entries)(e)){var n=i()(o,2);const e=n[0],r=n[1];Object(p.isEqual)(r,this.data[e])||(this.data[e]=r,t=!0)}return t&&(Object.assign(this.data,q(this.data)),l.a.set("wpcom_user",this.data),this.emit("change")),t},E.prototype.decrementSiteCount=function(){const e=this.get();e&&this.set({visible_site_count:e.visible_site_count-1,site_count:e.site_count-1}),this.fetch()},E.prototype.incrementSiteCount=function(){const e=this.get();if(e)return this.set({visible_site_count:e.visible_site_count+1,site_count:e.site_count+1});this.fetch()},E.prototype.verificationPollerCallback=function(e){(!document.hidden&&0!==this.listeners("verify").length||e)&&(O("Verification: POLL"),this.once("change",()=>{this.get().email_verified&&(clearInterval(this.verificationPoller),this.verificationPoller=null,O("Verification: VERIFIED"),this.emit("verify"))}),this.fetch())},E.prototype.checkVerification=function(){this.get()&&(this.get().email_verified||this.verificationPoller||(this.verificationPoller=setInterval(this.verificationPollerCallback.bind(this),15e3),window.addEventListener("storage",e=>{"__email_verified_signal__"===e.key&&e.newValue&&(O("Verification: RECEIVED SIGNAL"),window.localStorage.removeItem("__email_verified_signal__"),this.verificationPollerCallback(!0))})))},E.prototype.signalVerification=function(){window.localStorage&&(window.localStorage.setItem("__email_verified_signal__",1),O("Verification: SENT SIGNAL"))};var x=E;let I=!1;t.default=function(){return I||(I=new x),I};x.dispatchToken=o.a.register(function(e){const t=e.action;switch(t.type){case r.a.INVITE_ACCEPTED:-1===["follower","viewer"].indexOf(t.invite.role)&&I.incrementSiteCount()}})},"./client/lib/user/support-user-interop.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/debug/src/browser.js"),r=n.n(o),s=n("./node_modules/lodash/lodash.js"),i=n("./client/lib/wp/browser.js"),a=n("./client/config/index.js"),c=n("./client/lib/localforage/index.js"),p=n("./client/state/support/reducer.js");function u(){return{type:"SUPPORT_SESSION_TRANSITION",nextState:p.a}}const l=r()("calypso:support-user"),d=e=>t=>(l("Bypassing localStorage","key"),t>=Object.keys(e).length?null:Object.keys(e)[t]),m=(e,t,n)=>(o,r)=>{n&&t.indexOf(o)>-1?n(o,r):(l("Bypassing localStorage","setItem",o),e[o]=r)},f=(e,t,n)=>o=>n&&t.indexOf(o)>-1?n(o):(l("Bypassing localStorage","getItem",o),e[o]||null),h=(e,t,n)=>o=>{n&&t.indexOf(o)>-1?n(o):(l("Bypassing localStorage","removeItem",o),delete e[o])},g=e=>()=>{l("Bypassing localStorage","clear");for(const t in e)delete e[t]};var y=function(){let e,t,n,o=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=o.root,s=void 0===r?"undefined"==typeof window?void 0:window:r,i=o.allowedKeys,a=void 0===i?[]:i;l("Bypassing localStorage"),s&&s.localStorage&&s.Storage&&s.Storage.prototype&&(e=s.Storage.prototype.setItem.bind(s.localStorage),t=s.Storage.prototype.getItem.bind(s.localStorage),n=s.Storage.prototype.removeItem.bind(s.localStorage));const c={},p=(e=>()=>(l("Bypassing localStorage","length property"),Object.keys(e).length))(c),u={setItem:m(c,a,e),getItem:f(c,a,t),removeItem:h(c,a,n),key:d(c),clear:g(c)};try{Object.defineProperty(s,"localStorage",{value:u,enumerable:!0,configurable:!0}),Object.defineProperty(s.localStorage,"length",{get:p})}catch(e){Object.assign(s.localStorage,u)}};n.d(t,"setSupportSessionReduxStore",function(){return q}),n.d(t,"isSupportUserSession",function(){return O}),n.d(t,"isSupportNextSession",function(){return E}),n.d(t,"isSupportSession",function(){return x}),n.d(t,"rebootNormally",function(){return C}),n.d(t,"supportUserBoot",function(){return R}),n.d(t,"supportNextBoot",function(){return T});const b=r()("calypso:support-user"),w="boot_support_user",_=()=>a.a.isEnabled("support-user");let v=s.noop;const j=new Promise(e=>{_()&&(v=(t=>e(t)))}),q=v,S=()=>{try{return JSON.parse(window.sessionStorage.getItem(w))}catch(e){return{}}},k=(()=>{if(!_())return!1;const e=S();return e&&e.user&&e.token})(),O=()=>k,E=()=>!!_()&&!("undefined"==typeof window||!window.isSupportSession),x=()=>O()||E();let I;const C=()=>{_()&&(b("Rebooting Calypso normally"),window.sessionStorage.removeItem(w),window.removeEventListener("beforeunload",I),window.location.search="")},V=e=>{b("Deactivating support user and rebooting due to token error",e.message),C()},R=()=>{if(!_())return;const e=S(),t=e.user,n=e.token;b("Booting Calypso with support user",t),window.sessionStorage.removeItem(w),I=((e,t)=>()=>{_()&&e&&t&&window.sessionStorage.setItem(w,JSON.stringify({user:e,token:t}))})(t,n),window.addEventListener("beforeunload",I),c.a.bypass(),y([w,"debug"]),i.a.setSupportUserToken(t,n,V),j.then(e=>e.dispatch(u()))},T=()=>{if(!_())return;c.a.bypass();y(["debug"]),j.then(e=>e.dispatch(u()))}},"./client/lib/user/utils.js":function(e,t,n){"use strict";n.r(t);var o=n("./node_modules/debug/src/browser.js"),r=n.n(o),s=n("./client/config/index.js"),i=n("./client/lib/user/index.js");const a=Object(i.default)(),c=r()("calypso:user:utilities"),p={getLogoutUrl(e){const t=a.get();let n="/logout",o="";return!t.logout_URL||s.a.isEnabled("always_use_logout_url")?(t.localeSlug&&""!==t.localeSlug&&"en"!==t.localeSlug&&(o=t.localeSlug+"."),n=Object(s.a)("logout_url").replace("|subdomain|",o)):n=t.logout_URL,"string"==typeof e&&(n+=e="&redirect_to="+encodeURIComponent(e)),c("Logout Url: "+n),n},logout(e){const t=p.getLogoutUrl(e);a.clear(()=>location.href=t)},getLocaleSlug:()=>a.get().localeSlug,isLoggedIn:()=>Boolean(a.data)};t.default=p},"./client/lib/wp/browser.js":function(e,t,n){"use strict";var o=n("./node_modules/debug/src/browser.js"),r=n.n(o),s=n("./node_modules/wpcom/build/index.js"),i=n.n(s),a=n("./node_modules/inherits/inherits_browser.js"),c=n.n(a),p=n("./node_modules/lodash/lodash.js");const u=r()("calypso:wpcom-undocumented:site");function l(e,t){if(u("UndocumentedSite",e),!(this instanceof l))return new l(e,t);this.wpcom=t,this._id=e}[["statsEvents","posts/"],["statsInsights","stats/insights","1.1"],["statsPodcastDownloads","stats/podcast-downloads","1.1"],["statsAds","wordads/stats","1.1"],["sshCredentialsNew","ssh-credentials/new","1.1","post"],["sshCredentialsMine","ssh-credentials/mine","1.1"],["sshCredentialsMineDelete","ssh-credentials/mine/delete","1.1","post"],["sshScanToggle","ssh-credentials/mine","1.1","post"],["getOption","option/"]].forEach(function(e){let t=e[0],n={subpath:e[1],apiVersion:e[2]||"1",method:e[3]||"get"};l.prototype[t]=function(e){return function(t,n){let o,r=e.subpath;return r=r.replace(/\/:([^\/]+)/g,function(e,n){let o;return void 0!==t[n]?(o=t[n],delete t[n],"/"+o):"/"}),t.apiVersion=e.apiVersion,o="/sites/"+this._id+"/"+r,u("calling undocumented site api path",o),u("query",t),u("resourceOptions",e),"post"===e.method?this.wpcom.req.post(o,{},t,n):this.wpcom.req[e.method](o,t,n)}}.call(this,n)}),l.prototype.domains=function(){return this.wpcom.req.get("/sites/".concat(this._id,"/domains"),{apiVersion:"1.2"})},l.prototype.postFormatsList=function(e){return this.wpcom.req.get("/sites/"+this._id+"/post-formats",{},e)},l.prototype.postAutosave=function(e,t,n){return this.wpcom.req.post({path:"/sites/"+this._id+"/posts/"+e+"/autosave",body:t},n)},l.prototype.embeds=function(e,t){let n="/sites/"+this._id+"/embeds";return e&&e.embed_url&&(n+="/render"),this.wpcom.req.get(n,e,t)},l.prototype.embedReversal=function(e,t){return this.wpcom.req.post("/sites/".concat(this._id,"/embeds/reversal"),{maybe_embed:e},t)},l.prototype.shortcodes=function(e,t){return this.wpcom.req.get("/sites/"+this._id+"/shortcodes/render",e,t)},l.prototype.getRoles=function(e){return this.wpcom.req.get("/sites/"+this._id+"/roles",{},e)},l.prototype.getViewers=function(e,t){return this.wpcom.req.get("/sites/"+this._id+"/viewers",e,t)},l.prototype.removeViewer=function(e,t){return this.wpcom.req.post({path:"/sites/"+this._id+"/viewers/"+e+"/delete"},t)},l.prototype.deleteUser=function(e,t,n){return this.wpcom.req.post({path:"/sites/"+this._id+"/users/"+e+"/delete",body:t},n)},l.prototype.updateUser=function(e,t,n){return this.wpcom.req.post({path:"/sites/"+this._id+"/users/"+e,body:t},n)},l.prototype.getUser=function(e,t){return this.wpcom.req.get("/sites/"+this._id+"/users/login:"+e,t)},l.prototype.removeFollower=function(e,t){return this.wpcom.req.post({path:"/sites/"+this._id+"/followers/"+e+"/delete"},t)},l.prototype.fetchFollowers=function(e,t){return this.wpcom.req.get("/sites/"+this._id+"/followers/",e,t)},l.prototype.removeEmailFollower=function(e,t){return this.wpcom.req.post({path:"/sites/"+this._id+"/email-followers/"+e+"/delete"},t)},l.prototype.setOption=function(e,t){return this.wpcom.req.post("/sites/"+this._id+"/option",{option_name:e.option_name,is_array:e.is_array,site_option:e.site_option},{option_value:e.option_value},t)},l.prototype.postCounts=function(e,t){const n=Object.assign({type:"post",apiNamespace:"wpcom/v2"},e),o=n.type;return delete n.type,this.wpcom.req.get("/sites/"+this._id+"/post-counts/"+o,n,t)},l.prototype.mediaStorage=function(e){return this.wpcom.req.get("/sites/"+this._id+"/media-storage",e)},l.prototype.getGuidedTransferStatus=function(){return u("/sites/:site:/transfer"),this.wpcom.req.get("/sites/"+this._id+"/transfer",{apiNamespace:"wpcom/v2"})},l.prototype.saveGuidedTransferHostDetails=function(e){return u("/sites/:site:/transfer"),this.wpcom.req.post({path:"/sites/"+this._id+"/transfer",body:e,apiNamespace:"wpcom/v2"})},l.prototype.getConnection=function(e){return u("/sites/:site_id:/publicize-connections/:connection_id: query"),this.wpcom.req.get({path:"/sites/"+this._id+"/publicize-connections/"+e,apiVersion:"1.1"})},l.prototype.uploadExternalMedia=function(e,t){return u("/sites/:site_id:/external-media-upload query"),this.wpcom.req.post({path:"/sites/"+this._id+"/external-media-upload"},{external_ids:t,service:e})},l.prototype.runThemeSetup=function(){return this.wpcom.req.post({path:"/sites/"+this._id+"/theme-setup",apiNamespace:"wpcom/v2"})},l.prototype.statsOrders=function(e){return this.wpcom.req.get({path:"/sites/".concat(this._id,"/stats/orders"),apiNamespace:"wpcom/v2"},e)},l.prototype.statsStoreReferrers=function(e){return this.wpcom.req.get({path:"/sites/".concat(this._id,"/stats/events-by-referrer"),apiNamespace:"wpcom/v2"},e)},l.prototype.statsTopSellers=function(e){return this.wpcom.req.get({path:"/sites/".concat(this._id,"/stats/top-sellers"),apiNamespace:"wpcom/v2"},e)},l.prototype.statsTopEarners=function(e){return this.wpcom.req.get({path:"/sites/".concat(this._id,"/stats/top-earners"),apiNamespace:"wpcom/v2"},e)},l.prototype.statsTopCategories=function(e){return this.wpcom.req.get({path:"/sites/".concat(this._id,"/stats/top-product-categories-by-usage"),apiNamespace:"wpcom/v2"},e)},l.prototype.statsTopCoupons=function(e){return this.wpcom.req.get({path:"/sites/".concat(this._id,"/stats/top-coupons-by-usage"),apiNamespace:"wpcom/v2"},e)},l.prototype.deleteInvites=function(e){return this.wpcom.req.post({path:"/sites/".concat(this._id,"/invites/delete"),apiNamespace:"wpcom/v2"},{invite_ids:e})};var d=l;const m=r()("calypso:wpcom-undocumented:me");function f(e){if(!(this instanceof f))return new f(this.wpcom);this.wpcom=e}f.prototype.get=function(e,t){return m("get preferences",e),this.wpcom.req.get("/me/preferences",e,t)},f.prototype.update=function(e,t,n){return m("update preferences",e),this.wpcom.req.put("/me/preferences",e,t,n)};var h=f,g=n("./client/config/index.js");const y=r()("calypso:wpcom-undocumented:me");function b(e){if(y("UndocumentedMe"),!(this instanceof b))return new b(e);this.wpcom=e}c()(b,s.Me),b.prototype.billingHistoryEmailReceipt=function(e,t){const n={path:"/me/billing-history/receipt/"+e+"/email"};return this.wpcom.req.get(n,t)},b.prototype.getReceipt=function(e,t){return this.wpcom.req.get({path:"/me/billing-history/receipt/".concat(e)},t)},b.prototype.purchases=function(e){return this.wpcom.req.get("/me/purchases",e)},b.prototype.validatePassword=function(e,t){const n={apiVersion:"1.1",path:"/me/settings/password/validate",body:{password:e}};return this.wpcom.req.post(n,t)},b.prototype.sendSMSValidationCode=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/two-step/sms/new"},e)},b.prototype.validateTwoStepCode=function(e,t){const n={apiVersion:"1.1",path:"/me/two-step/validate",body:e};return this.wpcom.req.post(n,t)},b.prototype.getTwoStep=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/me/two-step/"},e)},b.prototype.getAppAuthCodes=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/me/two-step/app-auth-setup/"},e)},b.prototype.validateUsername=function(e,t){const n={apiVersion:"1.1",path:"/me/username/validate/"+e};return this.wpcom.req.get(n,t)},b.prototype.changeUsername=function(e,t,n){const o={apiVersion:"1.1",path:"/me/username",body:{username:e,action:t}};return this.wpcom.req.post(o,n)},b.prototype.storedCardAdd=function(e,t){return y("/me/stored-cards"),this.wpcom.req.post({path:"/me/stored-cards"},{payment_key:e,use_for_existing:!0},t)},b.prototype.storedCardDelete=function(e,t){const n={path:"/me/stored-cards/"+e.stored_details_id+"/delete"};return this.wpcom.req.post(n,t)},b.prototype.backupCodes=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/two-step/backup-codes/new"},e)},b.prototype.sendVerificationEmail=function(e){return y("/me/send-verification-email"),this.wpcom.req.post({path:"/me/send-verification-email"},e)},b.prototype.getNotificationSettings=function(e){return y("/me/notification/settings/"),this.wpcom.req.get({apiVersion:"1.1",path:"/me/notifications/settings/"},e)},b.prototype.updateNotificationSettings=function(e,t,n){let o={};return y("/me/notification/settings/"),t&&(o={applyToAll:!0}),this.wpcom.req.post({apiVersion:"1.1",path:"/me/notifications/settings/"},o,e,n)},b.prototype.getAccountRecovery=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/me/account-recovery"},e)},b.prototype.updateAccountRecoveryPhone=function(e,t,n){const o={apiVersion:"1.1",path:"/me/account-recovery/phone",body:{country:e,phone_number:t}};return this.wpcom.req.post(o,n)},b.prototype.deleteAccountRecoveryPhone=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/phone/delete"},e)},b.prototype.newValidationAccountRecoveryPhone=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/phone/validation/new"},e)},b.prototype.validateAccountRecoveryPhone=function(e,t){const n={apiVersion:"1.1",path:"/me/account-recovery/phone/validation",body:{code:e}};return this.wpcom.req.post(n,t)},b.prototype.updateAccountRecoveryEmail=function(e,t){const n={apiVersion:"1.1",path:"/me/account-recovery/email",body:{email:e}};return this.wpcom.req.post(n,t)},b.prototype.deleteAccountRecoveryEmail=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/email/delete"},e)},b.prototype.newValidationAccountRecoveryEmail=function(e){return this.wpcom.req.post({apiVersion:"1.1",path:"/me/account-recovery/email/validation/new"},e)},b.prototype.deletePurchase=function(e,t){return y("/me/purchases/{purchaseId}/delete"),this.wpcom.req.post({path:"/me/purchases/".concat(e,"/delete")},t)},b.prototype.socialConnect=function(e,t){const o={path:"/me/social-login/connect",body:{service:e.service,access_token:e.access_token,id_token:e.id_token,redirect_to:e.redirect_to,client_id:Object(g.a)("wpcom_signup_id"),client_secret:Object(g.a)("wpcom_signup_key")}};return n("./node_modules/wpcom-proxy-request/build/index.js").reloadProxy(),this.wpcom.req.post({metaAPI:{accessAllUsersBlogs:!0}}),this.wpcom.req.post(o,t)},b.prototype.socialDisconnect=function(e,t){const n={path:"/me/social-login/disconnect",body:{service:e,client_id:Object(g.a)("wpcom_signup_id"),client_secret:Object(g.a)("wpcom_signup_key")}};return this.wpcom.req.post(n,t)},b.prototype.preferences=h;var w=b;const _=r()("calypso:wpcom-undocumented:mailing-list");function v(e,t){if(!(this instanceof v))return new v(e,t);this._category=e,this.wpcom=t}function j(e,t,n){let o="/mailing-lists/"+encodeURIComponent(e)+"/subscribers/"+encodeURIComponent(t);return n&&(o+="/"+n),o}function q(e,t){return{hmac:e,context:t}}
/*!
 * Expose `MailingList` module
 */v.prototype.subscribe=function(e,t,n,o){return _("/mailing-lists/:category/subscribers/:emailAddress/new"),"function"==typeof n&&(o=n,n=void 0),this.wpcom.req.post(j(this._category,e,"new"),q(t,n),o)},v.prototype.unsubscribe=function(e,t,n,o){return _("/mailing-lists/:category/subscribers/:emailAddress/delete"),"function"==typeof n&&(o=n,n=void 0),this.wpcom.req.post(j(this._category,e,"delete"),q(t,n),o)};var S=v,k=n("./client/lib/i18n-utils/browser.js");const O=64,E=48,x=20,I=240,C=720;const V=r()("calypso:wpcom-undocumented:undocumented");function R(e){e.client_id=Object(g.a)("wpcom_signup_id"),e.client_secret=Object(g.a)("wpcom_signup_key")}function T(e){if(!(this instanceof T))return new T(e);this.wpcom=e}function N(e,t){return Object.keys(e).reduce(function(n,o){let r=e[o];return Object(p.isPlainObject)(r)&&(r=N(r,t)),n[t(o)]=r,n},{})}function P(e){if(e.content_width)return;const t=function(){if("undefined"==typeof document)return;const e=document.documentElement.clientWidth;return e>1040?C:e>928?e-(I+O):e>660?e-(I+E):e-x}();t&&(e.content_width=t)}T.prototype.site=function(e){return new d(e,this.wpcom)},T.prototype.me=function(){return new w(this.wpcom)},T.prototype.mailingList=function(e){return new S(e,this.wpcom)},T.prototype.getJetpackModules=function(e,t){return this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/module/all/"},t)},T.prototype.jetpackModuleActivate=function(e,t,n){return this.wpcom.req.post({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/module/"+t+"/active/",body:JSON.stringify({active:!0})},n)},T.prototype.jetpackModuleDeactivate=function(e,t,n){return this.wpcom.req.post({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/module/"+t+"/active/",body:JSON.stringify({active:!1})},n)},T.prototype.fetchMonitorSettings=function(e,t){return V("/jetpack-blogs/:site_id: query"),this.wpcom.req.get({path:"/jetpack-blogs/"+e},t)},T.prototype.updateMonitorSettings=function(e,t,n,o){return V("/jetpack-blogs/:site_id: query"),this.wpcom.req.post({path:"/jetpack-blogs/"+e},{},{email_notifications:t,wp_note_notifications:n},o)},T.prototype.disconnectJetpack=function(e,t){return V("/jetpack-blogs/:site_id:/mine/delete query"),this.wpcom.req.post({path:"/jetpack-blogs/"+e+"/mine/delete"},t)},T.prototype.fetchJetpackKeys=function(e,t){return V("/jetpack-blogs/:site_id:/keys query"),this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/keys"},t)},T.prototype.testConnectionJetpack=function(e,t){return V("/jetpack-blogs/:site_id:/test-connection query"),this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/test-connection"},t)},T.prototype.getJetpackConnectionStatus=function(e,t){return this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/connection/"},t)},T.prototype.getJetpackUserConnectionData=function(e,t){return this.wpcom.req.get({path:"/jetpack-blogs/"+e+"/rest-api/"},{path:"/jetpack/v4/connection/data/"},t)},T.prototype.jetpackLogin=function(e,t,n,o,r){V("/jetpack-blogs/:site_id:/jetpack-login query");const s="/jetpack-blogs/"+e+"/jetpack-login",i={_wp_nonce:t,redirect_uri:n,scope:o,state:r};return this.wpcom.req.get({path:s},i)},T.prototype.jetpackAuthorize=function(e,t,n,o,r,s,i){V("/jetpack-blogs/:site_id:/authorize query");const a="/jetpack-blogs/"+e+"/authorize",c={code:t,state:n,redirect_uri:o,secret:r,jp_version:s,from:i};return this.wpcom.req.post({path:a},c)},T.prototype.jetpackValidateSSONonce=function(e,t,n){V("/jetpack-blogs/:site_id:/sso-validate query");const o="/jetpack-blogs/"+e+"/sso-validate",r={sso_nonce:t};return this.wpcom.req.post({path:o},r,n)},T.prototype.jetpackAuthorizeSSONonce=function(e,t,n){V("/jetpack-blogs/:site_id:/sso-authorize query");const o="/jetpack-blogs/"+e+"/sso-authorize",r={sso_nonce:t};return this.wpcom.req.post({path:o},r,n)},T.prototype.jetpackIsUserConnected=function(e){V("/sites/:site_id:/jetpack-connect/is-user-connected query");const t="/sites/"+e+"/jetpack-connect/is-user-connected";return this.wpcom.req.get({path:t,apiNamespace:"wpcom/v2"})},T.prototype.getJetpackSyncStatus=function(e,t){V("/sites/:site_id:/sync/status query");const n="/sites/"+e+"/sync/status";return this.wpcom.req.get({path:n},t)},T.prototype.scheduleJetpackFullysync=function(e,t){V("/sites/:site_id:/sync query");const n="/sites/"+e+"/sync";return this.wpcom.req.post({path:n},{},t)},T.prototype.invitesList=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;return V("/sites/:site_id:/invites query",e,t),this.wpcom.req.get("/sites/"+e+"/invites",t,n)},T.prototype.getInvite=function(e,t,n){return V("/sites/:site_id:/invites/:inviteKey:/ query"),this.wpcom.req.get({path:"/sites/"+e+"/invites/"+t},n)},T.prototype.acceptInvite=function(e,t){V("/sites/:site_id:/invites/:inviteKey:/accept query");return this.wpcom.req.get("/sites/"+e.site.ID+"/invites/"+e.inviteKey+"/accept",{activate:e.activationKey,include_domain_only:!0,apiVersion:"1.2"},t)},T.prototype.sendInvites=function(e,t,n,o,r){return V("/sites/:site_id:/invites/new query"),this.wpcom.req.post("/sites/"+e+"/invites/new",{},{invitees:t,role:n,message:o,source:"calypso"},r)},T.prototype.resendInvite=function(e,t,n){return V("/sites/:site_id:/invites/:invite_id:/resend query"),this.wpcom.req.post("/sites/"+e+"/invites/"+t+"/resend",{},{},n)},T.prototype.createInviteValidation=function(e,t,n,o){return V("/sites/:site_id:/invites/validate query"),this.wpcom.req.post("/sites/"+e+"/invites/validate",{},{invitees:t,role:n},o)},T.prototype.settings=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=arguments.length>3?arguments[3]:void 0;V("/sites/:site_id:/settings query"),"function"==typeof t&&(o=t,t="get",n={});const r=n.apiVersion||"1.1",s=Object(p.omit)(n,["apiVersion"]),i="/sites/"+e+"/settings";return"get"===t?this.wpcom.req.get(i,{apiVersion:r},o):this.wpcom.req.post({path:i},{apiVersion:r},s,o)},T.prototype.getSiteKeyrings=function(e,t){return this.wpcom.req.get("/sites/"+e+"/keyrings",{apiVersion:"1.1"},t)},T.prototype.createSiteKeyring=function(e,t,n){return this.wpcom.req.post("/sites/"+e+"/keyrings",{apiVersion:"1.1"},t,n)},T.prototype.updateSiteKeyring=function(e,t,n,o){return this.wpcom.req.post("/sites/"+e+"/keyrings/"+t,{apiVersion:"1.1"},{external_user_id:n},o)},T.prototype.deleteSiteKeyring=function(e,t,n,o){return o||"function"!=typeof n||(o=n,n=null),this.wpcom.req.post("/sites/"+e+"/keyrings/"+t+"/delete",{apiVersion:"1.1"},{external_user_id:n},o)},T.prototype._sendRequest=function(e,t){const n=e.apiVersion,o=e.method,r=Object(p.omit)(e,["apiVersion","method"]);return n?this.wpcom.req[o.toLowerCase()](r,{apiVersion:n},t):this.wpcom.req[o.toLowerCase()](r,t)},T.prototype.isDomainAvailable=function(e,t,n,o){return this.wpcom.req.get("/domains/".concat(encodeURIComponent(e),"/is-available"),{blog_id:t,apiVersion:"1.3",is_cart_pre_check:n},o)},T.prototype.checkAuthCode=function(e,t,n){return this.wpcom.req.get("/domains/".concat(encodeURIComponent(e),"/inbound-transfer-check-auth-code"),{auth_code:t},n)},T.prototype.getInboundTransferStatus=function(e,t){return this.wpcom.req.get({path:"/domains/".concat(encodeURIComponent(e),"/inbound-transfer-status")},t)},T.prototype.startInboundTransfer=function(e,t,n,o){let r={};return n&&""!==n&&(r={auth_code:n}),this.wpcom.req.get("/domains/".concat(encodeURIComponent(t),"/inbound-transfer-start/").concat(e),r,o)},T.prototype.resendInboundTransferEmail=function(e,t){return this.wpcom.req.get({path:"/domains/".concat(encodeURIComponent(e),"/resend-inbound-transfer-email")},t)},T.prototype.getAvailableTlds=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this.wpcom.req.get("/domains/suggestions/tlds",e)},T.prototype.canRedirect=function(e,t,n){return t=encodeURIComponent(t.toLowerCase()),this.wpcom.req.get({path:"/domains/"+e+"/"+t+"/can-redirect"},n)},T.prototype.getSiteRedirect=function(e,t){return V("/sites/:site_id/domains/redirect query"),this.wpcom.req.get({path:"/sites/"+e+"/domains/redirect"},t)},T.prototype.setSiteRedirect=function(e,t,n){return V("/sites/:site_id/domains/redirect"),this.wpcom.req.post({path:"/sites/"+e+"/domains/redirect"},{location:t},n)},T.prototype.getDomainContactInformation=function(e){return V("/me/domain-contact-information query"),this._sendRequest({path:"/me/domain-contact-information",method:"get"},function(t,n){if(t)return e(t);const o=N(n,function(e){return"_headers"===e?e:Object(p.camelCase)(e)});e(null,o)})},T.prototype.getDomainRegistrationSupportedStates=function(e,t){return V("/domains/supported-states/ query"),this._sendRequest({path:"/domains/supported-states/"+e,method:"get"},t)},T.prototype.validateDomainContactInformation=function(e,t,n){let o={contactInformation:e,domainNames:t};return V("/me/domain-contact-information/validate query"),o=N(o,p.snakeCase),this.wpcom.req.post({path:"/me/domain-contact-information/validate"},o,function(e,t){if(e)return n(e);const o=N(t,function(e){return"_headers"===e?e:Object(p.camelCase)(e)});n(null,o)})},T.prototype.validateGoogleAppsContactInformation=function(e,t){const n=N({contactInformation:e},p.snakeCase);return this.wpcom.req.post({path:"/me/google-apps/validate"},n,(e,n)=>{if(e)return t(e);const o=N(n,e=>"_headers"===e?e:Object(p.camelCase)(e));t(null,o)})},T.prototype.getProducts=function(e){return V("/products query"),this._sendRequest({path:"/products",method:"get"},e)},T.prototype.getSitePlans=function(e,t){return V("/sites/:site_domain:/plans query"),e=encodeURIComponent(e),this._sendRequest({path:"/sites/"+e+"/plans",method:"get",apiVersion:"1.3"},t)},T.prototype.getCart=function(e,t){V("GET: /me/shopping-cart/:cart-key"),this._sendRequest({path:"/me/shopping-cart/"+e,method:"GET"},t)},T.prototype.setCart=function(e,t,n){V("POST: /me/shopping-cart/:cart-key",t),this._sendRequest({path:"/me/shopping-cart/"+e,method:"POST",body:t},n)},T.prototype.getStoredCards=function(e){return V("/me/stored-cards query"),this.wpcom.req.get({path:"/me/stored-cards"},e)},T.prototype.metaKeyring=function(e){return V("/meta/external-services query"),this.wpcom.req.get({path:"/meta/external-services/",apiVersion:"1.1"},e)},T.prototype.getHappinessEngineers=function(e){return V("meta/happiness-engineers/ query"),this.wpcom.req.get({path:"/meta/happiness-engineers/"},e)},T.prototype.sharingButtons=function(e,t,n){return void 0===n&&"function"==typeof t&&(n=t,t={}),V("/sites/:site_id:/sharing-buttons query"),this.wpcom.req.get("/sites/"+e+"/sharing-buttons",t,n)},T.prototype.saveSharingButtons=function(e,t,n){return V("/sites/:site_id:/sharing-buttons query"),this.wpcom.req.post({path:"/sites/"+e+"/sharing-buttons",body:{sharing_buttons:t},apiVersion:"1.1"},n)},T.prototype.mekeyringConnections=function(e,t){return V("/me/keyring-connections query"),"function"==typeof e&&(t=e,e=!1),this.wpcom.req.get("/me/keyring-connections",e?{force_external_users_refetch:e}:{},t)},T.prototype.deletekeyringConnection=function(e,t){return V("/me/keyring-connections/:keyring_connection_id:/delete query"),this.wpcom.req.post({path:"/me/keyring-connections/"+e+"/delete",apiVersion:"1.1"},t)},T.prototype.siteConnections=function(e,t){return V("/sites/:site_id:/publicize-connections query"),this.wpcom.req.get({path:"/sites/"+e+"/publicize-connections",apiVersion:"1.1"},t)},T.prototype.deleteSiteConnection=function(e,t,n){return V("/sites/:site_id:/publicize-connections/:connection_id:/delete query"),this.wpcom.req.post({path:"/sites/"+e+"/publicize-connections/"+t+"/delete",apiVersion:"1.1"},n)},T.prototype.deleteSite=function(e,t){return V("/sites/:site_id/delete query"),this.wpcom.req.post({path:"/sites/"+e+"/delete"},t)},T.prototype.createConnection=function(e,t,n,o,r){void 0===r&&"function"==typeof o&&(r=o,o={});const s={keyring_connection_ID:e};"boolean"==typeof o.shared&&(s.shared=o.shared),n&&(s.external_user_ID=n);const i=t?"/sites/"+t+"/publicize-connections/new":"/me/publicize-connections/new";return this.wpcom.req.post({path:i,body:s,apiVersion:"1.1"},r)},T.prototype.publicizePost=function(e,t,n,o,r){const s={skipped_connections:[]};return s.message=n,o&&o.length>0&&(s.skipped_connections=o),this.wpcom.req.post({path:"/sites/".concat(e,"/posts/").concat(t,"/publicize"),body:s,apiNamespace:"wpcom/v2"},r)},T.prototype.updateConnection=function(e,t,n,o){let r;return e?(V("/sites/:site_id:/publicize-connections/:connection_id: query"),r="/sites/"+e+"/publicize-connections/"+t):(V("/me/publicize-connections/:connection_id: query"),r="/me/publicize-connections/"+t),this.wpcom.req.post({path:r,body:n,apiVersion:"1.1"},o)},T.prototype.transactions=function(e,t,n){return V("/me/transactions query"),"function"==typeof e?(n=e,e="get",t={}):t=N(t,p.snakeCase),this._sendRequest({path:"/me/transactions",method:e,body:t},n)},T.prototype.updateCreditCard=function(e,t){const n=Object(p.pick)(e,["country","zip","month","year","name"]);return n.paygate_token=e.cardToken,this.wpcom.req.post("/upgrades/"+e.purchaseId+"/update-credit-card",n,t)},T.prototype.paygateConfiguration=function(e,t){return V("/me/paygate-configuration query"),this.wpcom.req.get("/me/paygate-configuration",e,t)},T.prototype.ebanxConfiguration=function(e,t){return V("/me/ebanx-configuration query"),this.wpcom.req.get("/me/ebanx-configuration",e,t)},T.prototype.paypalExpressUrl=function(e,t){return V("/me/paypal-express-url query"),e=N(e,p.snakeCase),this.wpcom.req.post("/me/paypal-express-url",e,t)},T.prototype.setPrimaryDomain=function(e,t,n){return V("/sites/:site_id/domains/primary"),this.wpcom.req.post("/sites/"+e+"/domains/primary",{},{domain:t},n)},T.prototype.discoverFeed=function(e,t){return V("/read/feed"),this.wpcom.req.get("/read/feed/",e,t)},T.prototype.readFeedPost=function(e,t){const n=Object(p.omit)(e,["feedId","postId"]);return V("/read/feed/"+e.feedId+"/posts/"+e.postId),n.apiVersion="1.2",P(n),this.wpcom.req.get("/read/feed/"+encodeURIComponent(e.feedId)+"/posts/"+encodeURIComponent(e.postId),n,t)},T.prototype.readTagImages=function(e,t){const n=Object(p.omit)(e,"tag");return V("/read/tags/"+e.tag+"/images"),n.apiVersion="1.2",this.wpcom.req.get("/read/tags/"+encodeURIComponent(e.tag)+"/images",n,t)},T.prototype.readList=function(e,t){const n=Object(p.omit)(e,["owner","slug"]);return V("/read/list"),n.apiVersion="1.2",this.wpcom.req.get("/read/lists/"+e.owner+"/"+e.slug,n,t)},T.prototype.readLists=function(e){return V("/read/lists"),this.wpcom.req.get("/read/lists",{apiVersion:"1.2"},e)},T.prototype.readListsUpdate=function(e,t){const n=Object(p.omit)(e,["owner","slug"]);return V("/read/lists/:list/update"),this.wpcom.req.post("/read/lists/"+encodeURIComponent(e.owner)+"/"+encodeURIComponent(e.slug)+"/update",{apiVersion:"1.2"},n,t)},T.prototype.followList=function(e,t){const n=Object(p.omit)(e,["owner","slug"]);return V("/read/lists/:owner/:slug/follow"),this.wpcom.req.post("/read/lists/"+encodeURIComponent(e.owner)+"/"+encodeURIComponent(e.slug)+"/follow",{apiVersion:"1.2"},n,t)},T.prototype.unfollowList=function(e,t){const n=Object(p.omit)(e,["owner","slug"]);return V("/read/lists/:owner/:slug/unfollow"),this.wpcom.req.post("/read/lists/"+encodeURIComponent(e.owner)+"/"+encodeURIComponent(e.slug)+"/unfollow",{apiVersion:"1.2"},n,t)},T.prototype.readSitePost=function(e,t){const n=Object(p.omit)(e,["site","postId"]);return V("/read/sites/:site/post/:post"),P(n),this.wpcom.req.get("/read/sites/"+e.site+"/posts/"+e.postId,n,t)},T.prototype.readSitePostRelated=function(e,t){V("/read/site/:site/post/:post/related");const n=Object(p.omit)(e,["site_id","post_id"]);return n.apiVersion="1.2",P(n),this.wpcom.req.get("/read/site/"+e.site_id+"/post/"+e.post_id+"/related",n,t)},T.prototype.saveABTestData=function(e,t,n){const o={name:e,variation:t};return V("POST /me/abtests with ".concat(JSON.stringify(o))),this.wpcom.req.post({path:"/me/abtests",body:o},n)},T.prototype.usersNew=function(e,t){V("/users/new"),R(e),e.locale=Object(k.f)();const n={path:"/users/new",body:e};return this.wpcom.req.post(n,t)},T.prototype.usersSocialNew=function(e,t){e.locale=Object(k.f)(),R(e);const n={path:"/users/social/new",body:e};return this.wpcom.req.post(n,t)},T.prototype.validateNewUser=function(e,t){return V("/signups/validation/user"),e.locale=Object(k.f)(),this.wpcom.req.post("/signups/validation/user/",null,e,t)},T.prototype.requestMagicLoginEmail=function(e,t){return R(e),e.locale=Object(k.f)(),e.lang_id=Object(k.c)(e.locale).value,this.wpcom.req.post("/auth/send-login-email",{apiVersion:"1.2"},e,t)},T.prototype.sitesNew=function(e,t){const n=Object(k.f)();return V("/sites/new"),R(e),e.lang_id=Object(k.c)(n).value,e.locale=n,this.wpcom.req.post({path:"/sites/new",body:e},t)},T.prototype.launchSite=function(e,t){const n="/sites/".concat(e,"/launch");return V(n),this.wpcom.req.post(n,t)},T.prototype.themes=function(e,t,n){const o=e?"/sites/"+e+"/themes":"/themes";return V(o),this.wpcom.req.get(o,t,n)},T.prototype.themeDetails=function(e,t,n){const o=t?"/sites/".concat(t):"",r="".concat(o,"/themes/").concat(e);return V(r),this.wpcom.req.get(r,{apiVersion:"1.2"},n)},T.prototype.jetpackThemeDetails=function(e,t,n){const o="/sites/".concat(t,"/themes");return V(o),this.wpcom.req.post({path:o,body:{themes:e}},n)},T.prototype.installThemeOnJetpack=function(e,t,n){const o="/sites/".concat(e,"/themes/").concat(t,"/install");return V(o),this.wpcom.req.post({path:o},n)},T.prototype.deleteThemeFromJetpack=function(e,t,n){const o="/sites/".concat(e,"/themes/").concat(t,"/delete");return V(o),this.wpcom.req.post({path:o},n)},T.prototype.activeTheme=function(e,t){return V("/sites/:site_id/themes/mine"),this.wpcom.req.get({path:"/sites/"+e+"/themes/mine"},t)},T.prototype.activateTheme=function(e,t,n){return V("/sites/:site_id/themes/mine"),this.wpcom.req.post({path:"/sites/"+t+"/themes/mine",body:{theme:e}},n)},T.prototype.uploadTheme=function(e,t,n){return V("/sites/:site_id/themes/new"),new Promise((o,r)=>{this.wpcom.req.post({path:"/sites/"+e+"/themes/new",formData:[["zip[]",t]]},(e,t)=>{e?r(e):o(t)}).upload.onprogress=n})},T.prototype.nameservers=function(e,t){return this.wpcom.req.get("/domains/"+e+"/nameservers",function(e,n){e?t(e):t(null,n)})},T.prototype.updateNameservers=function(e,t,n){return this.wpcom.req.post("/domains/"+e+"/nameservers/",{},t,function(e,t){e?n(e):n(null,t)})},T.prototype.resendIcannVerification=function(e,t){return this.wpcom.req.post("/domains/"+e+"/resend-icann/",t)},T.prototype.fetchDns=function(e,t){return this.wpcom.req.get("/domains/"+e+"/dns",t)},T.prototype.updateDns=function(e,t,n){const o=Object(p.reject)(t,"isBeingDeleted"),r={dns:JSON.stringify(o)};return this.wpcom.req.post("/domains/"+e+"/dns",r,n)},T.prototype.applyDnsTemplate=function(e,t,n,o,r){return this.wpcom.req.post("/domains/"+e+"/dns/providers/"+t+"/services/"+n,{variables:o},r)},T.prototype.applyDnsTemplateSyncFlow=function(e,t,n,o,r){return this.wpcom.req.get("/domain-connect/authorize/v2/domainTemplates/providers/"+t+"/services/"+n+"/apply/authorized",Object.assign({},{apiVersion:"1.3"},o),r)},T.prototype.getDnsTemplateRecords=function(e,t,n,o,r){return this.wpcom.req.post("/domains/"+e+"/dns/providers/"+t+"/services/"+n+"/preview",{variables:o},r)},T.prototype.fetchWapiDomainInfo=function(e,t){return this.wpcom.req.get("/domains/"+e+"/status",t)},T.prototype.requestTransferCode=function(e,t){const n=e.domainName,o={domainStatus:JSON.stringify({command:"send-code"})};return this.wpcom.req.post("/domains/"+n+"/transfer",o,t)},T.prototype.cancelTransferRequest=function(e,t){let n=e.domainName,o=e.declineTransfer;const r={domainStatus:JSON.stringify({command:"cancel-transfer-request",payload:{decline_transfer:o}})};return this.wpcom.req.post("/domains/"+n+"/transfer",r,t)},T.prototype.enablePrivacyProtection=function(e,t){return this.wpcom.req.post("/domains/"+e+"/privacy/enable",t)},T.prototype.disablePrivacyProtection=function(e,t){return this.wpcom.req.post("/domains/"+e+"/privacy/disable",t)},T.prototype.acceptTransfer=function(e,t){const n={domainStatus:JSON.stringify({command:"accept-transfer"})};return this.wpcom.req.post("/domains/"+e+"/transfer",n,t)},T.prototype.declineTransfer=function(e,t){const n={domainStatus:JSON.stringify({command:"deny-transfer"})};return this.wpcom.req.post("/domains/"+e+"/transfer",n,t)},T.prototype.transferToUser=function(e,t,n,o){return this.wpcom.req.post("/sites/"+e+"/domains/"+t+"/transfer-to-user/"+n,o)},T.prototype.transferToSite=function(e,t,n,o){return this.wpcom.req.post("/sites/".concat(e,"/domains/").concat(t,"/transfer-to-site/").concat(n),o)},T.prototype.fetchWhois=function(e,t){return V("/domains/:domainName/whois query"),this.wpcom.req.get("/domains/".concat(e,"/whois"),t)},T.prototype.updateWhois=function(e,t,n,o){return V("/domains/:domainName/whois"),this.wpcom.req.post({path:"/domains/".concat(e,"/whois"),apiVersion:"1.1",body:{whois:t,transfer_lock:n}},o)},T.prototype.addVipDomainMapping=function(e,t,n){return V("/site/:site_id/vip-domain-mapping"),this.wpcom.req.post({path:"/sites/".concat(e,"/vip-domain-mapping"),body:{domain:t}},n)},T.prototype.changeTheme=function(e,t,n){return V("/site/:site_id/themes/mine"),this.wpcom.req.post({path:"/sites/"+e+"/themes/mine",body:t},n)},T.prototype.sitePurchases=function(e,t){return V("/site/:site_id/purchases"),this.wpcom.req.get({path:"/sites/"+e+"/purchases"},t)},T.prototype.resetPasswordForMailbox=function(e,t,n){return V("/domains/:domainName/google-apps/:mailbox/get-new-password"),this.wpcom.req.post({path:"/domains/"+e+"/google-apps/"+t+"/get-new-password"},n)},T.prototype.isSiteImportable=function(e){return V("/wpcom/v2/site-importer-global/is-site-importable?".concat(e)),this.wpcom.req.get({path:"/site-importer-global/is-site-importable",apiNamespace:"wpcom/v2"},{site_url:e})},T.prototype.fetchImporterState=function(e){return V("/sites/".concat(e,"/importer/")),this.wpcom.req.get({path:"/sites/".concat(e,"/imports/")})},T.prototype.updateImporter=function(e,t){return V("/sites/".concat(e,"/imports/").concat(t.importId)),this.wpcom.req.post({path:"/sites/".concat(e,"/imports/").concat(t.importerId),formData:[["importStatus",JSON.stringify(t)]]})},T.prototype.uploadExportFile=function(e,t){return new Promise((n,o)=>{const r=this.wpcom.req.post({path:"/sites/".concat(e,"/imports/new"),formData:[["importStatus",JSON.stringify(t.importStatus)],["import",t.file]]},(e,t)=>{e?o(e):n(t)});r.upload.onprogress=t.onprogress,r.onabort=t.onabort})},T.prototype.getHelpLinks=function(e,t){return V("help-search/ searchQuery"),this.wpcom.req.get("/help/search",{query:e,include_post_id:1},t)},T.prototype.getQandA=function(e,t,n){return V("help-contact-qanda/ searchQuery {query}"),this.wpcom.req.get("/help/qanda",{query:e,site:t},n)},T.prototype.cancelPurchase=function(e,t){return V("upgrades/{purchaseId}/disable-auto-renew"),this.wpcom.req.post({path:"/upgrades/".concat(e,"/disable-auto-renew")},t)},T.prototype.cancelAndRefundPurchase=function(e,t,n){return V("upgrades/{purchaseId}/cancel"),this.wpcom.req.post({path:"/upgrades/".concat(e,"/cancel"),body:t},n)},T.prototype.cancelPlanTrial=function(e,t){return V("/upgrades/{planId}/cancel-plan-trial"),this.wpcom.req.post({path:"/upgrades/".concat(e,"/cancel-plan-trial")},t)},T.prototype.getDirectlyConfiguration=function(e){return this.wpcom.req.get({apiVersion:"1.1",path:"/help/directly/mine"},e)},T.prototype.submitKayakoTicket=function(e,t,n,o,r){return V("submitKayakoTicket"),this.wpcom.req.post({path:"/help/tickets/kayako/new",body:{subject:e,message:t,locale:n,client:o}},r)},T.prototype.getKayakoConfiguration=function(e){return this.wpcom.req.get({path:"/help/tickets/kayako/mine"},e)},T.prototype.getOlarkConfiguration=function(e,t){return this.wpcom.req.get({apiVersion:"1.1",path:"/help/olark/mine",body:{client:e}},t)},T.prototype.submitSupportForumsTopic=function(e,t,n,o,r){return this.wpcom.req.post({path:"/help/forums/support/topics/new",body:{subject:e,message:t,locale:n,client:o}},r)},T.prototype.getExportSettings=function(e,t){return this.wpcom.req.get({apiVersion:"1.1",path:"/sites/".concat(e,"/exports/settings")},t)},T.prototype.startExport=function(e,t,n){return this.wpcom.req.post({apiVersion:"1.1",path:"/sites/".concat(e,"/exports/start")},t,n)},T.prototype.getExport=function(e,t,n){return this.wpcom.req.get({apiVersion:"1.1",path:"/sites/".concat(e,"/exports/").concat(t)},n)},T.prototype.getSiteConnectInfo=function(e){return this.wpcom.req.get("/connect/site-info",{url:e})},T.prototype.exportReaderFeed=function(e){V("/read/following/mine/export");return this.wpcom.req.get("/read/following/mine/export",{apiVersion:"1.2"},e)},T.prototype.importReaderFeed=function(e,t){V("/read/following/mine/import");const n={path:"/read/following/mine/import",formData:[["import",e]]};return this.wpcom.req.post(n,{apiVersion:"1.2"},null,t)},T.prototype.registerDevice=function(e,t,n,o){return V("/devices/new"),this.wpcom.req.post({path:"/devices/new"},{},{device_token:e,device_family:t,device_name:n},o)},T.prototype.unregisterDevice=function(e,t){return V("/devices/:device_id/delete"),this.wpcom.req.post({path:"/devices/".concat(e,"/delete")},t)},T.prototype.wordAdsApprove=function(e){return V("/sites/:site:/wordads/approve"),this.wpcom.req.post("/sites/"+e+"/wordads/approve")},T.prototype.initiateTransfer=function(e,t,n,o){return V("/sites/:site_id/automated-transfers/initiate"),new Promise((r,s)=>{const i={path:"/sites/".concat(e,"/automated-transfers/initiate")};t&&(i.body={plugin:t}),n&&(i.formData=[["theme",n]]);const a=this.wpcom.req.post(i,(e,t)=>{e?s(e):r(t)});a&&(a.upload.onprogress=o)})},T.prototype.externalMediaList=function(e,t){return V("/meta/external-media/".concat(e.source)),this.wpcom.req.get("/meta/external-media/".concat(e.source),e,t)},T.prototype.transferStatus=function(e,t){return V("/sites/:site_id/automated-transfers/status/:transfer_id"),this.wpcom.req.get({path:"/sites/".concat(e,"/automated-transfers/status/").concat(t)})},T.prototype.submitNPSSurvey=function(e,t,n){return this.wpcom.req.post({path:"/nps/".concat(e)},{apiVersion:"1.2"},{score:t},n)},T.prototype.dismissNPSSurvey=function(e,t){return this.wpcom.req.post({path:"/nps/".concat(e)},{apiVersion:"1.2"},{dismissed:!0},t)},T.prototype.checkNPSSurveyEligibility=function(e){return this.wpcom.req.get({path:"/nps"},{apiVersion:"1.2"},{},e)},T.prototype.sendNPSSurveyFeedback=function(e,t,n){return this.wpcom.req.post({path:"/nps/".concat(e)},{apiVersion:"1.2"},{feedback:t},n)},T.prototype.oauth2ClientId=function(e,t){return this.wpcom.req.get("/oauth2/client-data/".concat(e),{apiNamespace:"wpcom/v2"},t)},T.prototype.getFeaturedPlugins=function(e){return this.wpcom.req.get("/plugins/featured",{apiNamespace:"wpcom/v2"},e)},T.prototype.getRequestSiteAddressChangeNonce=function(e){return this.wpcom.req.get({path:"/sites/".concat(e,"/site-address-change/nonce"),apiNamespace:"wpcom/v2"})},T.prototype.checkSiteAddressValidation=function(e,t,n,o){return this.wpcom.req.post({path:"/sites/".concat(e,"/site-address-change/validate"),apiNamespace:"wpcom/v2"},{},{blogname:t,domain:n,type:o})},T.prototype.updateSiteAddress=function(e,t,n,o,r,s,i){return this.wpcom.req.post({path:"/sites/".concat(e,"/site-address-change"),apiNamespace:"wpcom/v2"},{},{blogname:t,domain:n,old_domain:o,type:r,discard:s,nonce:i})},T.prototype.requestGdprConsentManagementLink=function(e,t){return this.wpcom.req.get("/domains/".concat(e,"/request-gdpr-consent-management-link"),function(e,n){e?t(e):t(null,n)})},T.prototype.getDomainConnectSyncUxUrl=function(e,t,n,o,r){return this.wpcom.req.get("/domains/".concat(e,"/dns/providers/").concat(t,"/services/").concat(n,"/syncurl"),{redirect_uri:o},r)},T.prototype.applePayMerchantValidation=function(e){return this.wpcom.req.get("/apple-pay/merchant-validation/",{validation_url:e})},T.prototype.domainsVerifyRegistrantEmail=function(e,t,n){return this.wpcom.req.get("/domains/".concat(e,"/verify-email"),{email:t,token:n})};var A=T;const U=r()("calypso:wpcom-undocumented");function D(e,t){if(!(this instanceof D))return new D(e,t);"function"==typeof e?(t=e,e=null):e&&this.loadToken(e),i.a.call(this,e,function(e,n){return this.isTokenLoaded()&&(e=Object(p.assign)({},e,{authToken:this._token,token:this._token})),t(e,n)}),U("Extending wpcom with undocumented endpoints.")}c()(D,i.a),D.prototype.undocumented=function(){return new A(this)},i.a.prototype.loadToken=function(e){this._token=e},D.prototype.isTokenLoaded=function(){return void 0!==this._token};var L=D,z=n("./node_modules/@babel/runtime/helpers/objectSpread.js"),F=n.n(z),M=n("./node_modules/qs/lib/index.js");var B=n("./client/lib/wp/localization/index.js"),$=n("./node_modules/store/dist/store.modern.js"),H=n.n($);const J=()=>H.a.get("guest_sandbox_ticket");(()=>{if("undefined"==typeof window)return;(()=>{const e=J();e&&e.createdDate<Date.now()-72e5&&H.a.remove("guest_sandbox_ticket")})();const e=Object(M.parse)(window.location.search.replace("?",""));e.guest_ticket&&H.a.set("guest_sandbox_ticket",{createdDate:Date.now(),value:e.guest_ticket})})();var W=n("./client/lib/oauth-token/index.js"),G=n("./node_modules/wpcom-xhr-request/build/index.js"),K=n.n(G);const Q=r()("calypso:wpcom-xhr-wrapper");var Z=n("./node_modules/wpcom-proxy-request/build/index.js"),Y=n.n(Z);const X=r()("calypso:wp");let ee;g.a.isEnabled("oauth")?ee=L(W.a(),function(e,t){return K()(e,function(e,o,r){e&&"InvalidTokenError"===e.name&&(Q("Invalid token error detected, authorisation probably revoked - logging out"),n("./client/lib/user/utils.js").logout()),t(e,o,r)})}):(ee=L(Y.a)).request({metaAPI:{accessAllUsersBlogs:!0}},function(e){if(e)throw e;X('Proxy now running in "access all user\'s blogs" mode')}),g.a.isEnabled("support-user")&&(ee=function(e){let t="",n="",o=null;const r=e.request.bind(e);return Object.assign(e,{addSupportParams:function(e){return F()({},e,{support_user:t,_support_token:n})},setSupportUserToken:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",s=arguments.length>2?arguments[2]:void 0;return(e!==t||r!==n)&&(t=e,n=r,o=(e=>(function(t){if(t&&t.error&&"invalid_support_token"===t.error&&"function"==typeof s)s(t);else{for(var n=arguments.length,o=new Array(n>1?n-1:0),r=1;r<n;r++)o[r-1]=arguments[r];e(t,...o)}})),!0)},request:(e,s)=>t&&n&&o?r(function(e){const o=Object(M.parse)(e.query);return o.support_user=t,o._support_token=n,Object.assign({},e,{query:Object(M.stringify)(o)})}(e),o(s)):r(e,s)})}(ee)),Object(B.b)(ee),(e=>{const t=e.request.bind(e);Object.assign(e,{request(e,n){const o=J();if(o){const t=Object(M.parse)(e.query);e=Object.assign({},e,{query:Object(M.stringify)(Object.assign(t,{store_sandbox_ticket:o.value}))})}return t(e,n)}})})(ee);t.a=ee},"./client/lib/wp/localization/index.js":function(e,t,n){"use strict";n.d(t,"b",function(){return a}),n.d(t,"a",function(){return c});var o=n("./node_modules/qs/lib/index.js"),r=n("./client/lib/i18n-utils/browser.js"),s=n("./client/state/current-user/selectors.js");let i;function a(e){const t=e.request.bind(e);return Object.assign(e,{localized:!0,request:function(e,n){return t(function(e){if(!i||"en"===i)return e;let t;const n=Object(o.parse)(e.query);return t=e.apiNamespace?{_locale:i}:{locale:i},Object.assign(e,{query:Object(o.stringify)(Object.assign(n,t))})}(e),n)}})}function c(e){function t(){var t;t=Object(s.i)(e.getState())||Object(s.h)(e.getState())||Object(r.f)(),i=t}e.subscribe(t),t()}},"./client/state/current-user/selectors.js":function(e,t,n){"use strict";n.d(t,"g",function(){return s}),n.d(t,"n",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"h",function(){return p}),n.d(t,"i",function(){return u}),n.d(t,"c",function(){return l}),n.d(t,"k",function(){return d}),n.d(t,"l",function(){return m}),n.d(t,"d",function(){return f}),n.d(t,"e",function(){return h}),n.d(t,"j",function(){return g}),n.d(t,"f",function(){return y}),n.d(t,"o",function(){return b}),n.d(t,"a",function(){return w}),n.d(t,"m",function(){return _});var o=n("./node_modules/lodash/lodash.js"),r=n("./client/state/users/selectors.js");function s(e){return Object(o.get)(e,["currentUser","id"])}function i(e){return null!==s(e)}function a(e){const t=s(e);return t?Object(r.a)(e,t):null}const c=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return n=>{const r=a(n);return Object(o.get)(r,e,t)}},p=c("localeSlug"),u=c("localeVariant"),l=c("user_ip_country_code");function d(e){const t=a(e);return t?t.site_count||0:null}function m(e){const t=a(e);return t?t.visible_site_count||0:null}function f(e){return e.currentUser.currencyCode}const h=c("date"),g=c("username"),y=c("email");function b(e,t,n){const o=e.currentUser.capabilities[t];return o?o.hasOwnProperty(n):null}function w(e,t){return-1!==e.currentUser.flags.indexOf(t)}const _=c("email_verified",!1)},"./client/state/support/reducer.js":function(e,t,n){"use strict";n.d(t,"a",function(){return i}),n.d(t,"b",function(){return a}),n.d(t,"c",function(){return c});var o=n("./node_modules/debug/src/browser.js");const r=n.n(o)()("calypso:state:support:actions"),s="none",i="active",a="expired";function c(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:s,t=arguments.length>1?arguments[1]:void 0,n=t.type,o=t.nextState;switch(n){case"SUPPORT_SESSION_TRANSITION":return e===s&&o===i||e===i&&o===a?o:(r("invalid support session transition from '".concat(e,"' to '").concat(o,"'")),e);default:return e}}},"./client/state/users/selectors.js":function(e,t,n){"use strict";function o(e,t){return e.users.items[t]}n.d(t,"a",function(){return o})},"./packages/i18n-calypso/dist/esm/i18n.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=o(n("./node_modules/debug/src/browser.js")),s=o(n("./node_modules/interpolate-components/lib/index.js")),i=o(n("./node_modules/jed/jed.js")),a=o(n("./node_modules/lru/index.js")),c=o(n("./node_modules/moment/moment.js")),p=o(n("./node_modules/hash.js/lib/hash/sha/1.js")),u=n("./node_modules/events/events.js"),l=o(n("./packages/i18n-calypso/dist/esm/number-format.js")),d=(0,r.default)("i18n-calypso"),m=[function(e){return e}],f={};function h(){_.throwErrors&&"undefined"!=typeof window&&window.console&&window.console.warn&&window.console.warn.apply(window.console,arguments)}function g(e){return Array.prototype.slice.call(e)}function y(e){var t=e[0];("string"!=typeof t||e.length>3||e.length>2&&"object"==typeof e[1]&&"object"==typeof e[2])&&h("Deprecated Invocation: `translate()` accepts ( string, [string], [object] ). These arguments passed:",g(e),". See https://github.com/Automattic/i18n-calypso#translate-method"),2===e.length&&"string"==typeof t&&"string"==typeof e[1]&&h("Invalid Invocation: `translate()` requires an options object for plural translations, but passed:",g(e));for(var n={},o=0;o<e.length;o++)"object"==typeof e[o]&&(n=e[o]);if("string"==typeof t?n.original=t:"object"==typeof n.original&&(n.plural=n.original.plural,n.count=n.original.count,n.original=n.original.single),"string"==typeof e[1]&&(n.plural=e[1]),void 0===n.original)throw new Error("Translate called without a `string` value as first argument.");return n}function b(e,t){var n="gettext";t.context&&(n="p"+n),"string"==typeof t.original&&"string"==typeof t.plural&&(n="n"+n);var o=function(e,t){switch(e){case"gettext":return[t.original];case"ngettext":return[t.original,t.plural,t.count];case"npgettext":return[t.context,t.original,t.plural,t.count];case"pgettext":return[t.context,t.original]}return[]}(n,t);return e[n].apply(e,o)}function w(e,t){for(var n=m.length-1;n>=0;n--){var o=m[n](Object.assign({},t));if(e.state.locale[o.original])return b(e.state.jed,o)}return null}function _(){if(!(this instanceof _))return new _;this.defaultLocaleSlug="en",this.state={numberFormatSettings:{},jed:void 0,locale:void 0,localeSlug:void 0,translations:(0,a.default)({max:100})},this.componentUpdateHooks=[],this.translateHooks=[],this.stateObserver=new u.EventEmitter,this.stateObserver.setMaxListeners(0),this.configure()}_.throwErrors=!1,_.prototype.moment=c.default,_.prototype.on=function(){var e;(e=this.stateObserver).on.apply(e,arguments)},_.prototype.off=function(){var e;(e=this.stateObserver).off.apply(e,arguments)},_.prototype.emit=function(){var e;(e=this.stateObserver).emit.apply(e,arguments)},_.prototype.numberFormat=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n="number"==typeof t?t:t.decimals||0,o=t.decPoint||this.state.numberFormatSettings.decimal_point||".",r=t.thousandsSep||this.state.numberFormatSettings.thousands_sep||",";return(0,l.default)(e,n,o,r)},_.prototype.configure=function(e){Object.assign(this,e||{}),this.setLocale()},_.prototype.setLocale=function(e){if(e&&e[""]&&e[""]["key-hash"]){var t=e[""]["key-hash"],n=function(e,t){var n=!1===t?"":String(t);if(void 0!==f[n+e])return f[n+e];var o=(0,p.default)().update(e).digest("hex");return f[n+e]=t?o.substr(0,t):o},o=function(e){return function(t){return t.context?(t.original=n(t.context+String.fromCharCode(4)+t.original,e),delete t.context):t.original=n(t.original,e),t}};if("sha1"===t.substr(0,4))if(4===t.length)m.push(o(!1));else{var r=t.substr(5).indexOf("-");if(r<0){var s=Number(t.substr(5));m.push(o(s))}else for(var a=Number(t.substr(5,r)),u=Number(t.substr(6+r)),l=a;l<=u;l++)m.push(o(l))}}if(e&&e[""].localeSlug)if(e[""].localeSlug===this.state.localeSlug){if(e===this.state.locale)return;Object.assign(this.state.locale,e)}else this.state.locale=Object.assign({},e);else this.state.locale={"":{localeSlug:this.defaultLocaleSlug}};this.state.localeSlug=this.state.locale[""].localeSlug,this.state.jed=new i.default({locale_data:{messages:this.state.locale}}),c.default.locale(this.state.localeSlug),this.state.numberFormatSettings.decimal_point=b(this.state.jed,y(["number_format_decimals"])),this.state.numberFormatSettings.thousands_sep=b(this.state.jed,y(["number_format_thousands_sep"])),"number_format_decimals"===this.state.numberFormatSettings.decimal_point&&(this.state.numberFormatSettings.decimal_point="."),"number_format_thousands_sep"===this.state.numberFormatSettings.thousands_sep&&(this.state.numberFormatSettings.thousands_sep=","),this.state.translations.clear(),this.stateObserver.emit("change")},_.prototype.getLocale=function(){return this.state.locale},_.prototype.getLocaleSlug=function(){return this.state.localeSlug},_.prototype.addTranslations=function(e){for(var t in e)""!==t&&(this.state.jed.options.locale_data.messages[t]=e[t]);this.state.translations.clear(),this.stateObserver.emit("change")},_.prototype.hasTranslation=function(){return!!w(this,y(arguments))},_.prototype.translate=function(){var e,t=y(arguments),n=!t.components;if(n){try{e=JSON.stringify(t)}catch(e){n=!1}if(e){var o=this.state.translations.get(e);if(o)return o}}var r=w(this,t);if(r||(r=b(this.state.jed,t)),t.args){var a=Array.isArray(t.args)?t.args.slice(0):[t.args];a.unshift(r);try{r=i.default.sprintf.apply(i.default,a)}catch(e){if(!window||!window.console)return;var c=this.throwErrors?"error":"warn";"string"!=typeof e?window.console[c](e):window.console[c]("i18n sprintf error:",a)}}return t.components&&(r=(0,s.default)({mixedString:r,components:t.components,throwErrors:this.throwErrors})),this.translateHooks.forEach(function(e){r=e(r,t)}),n&&this.state.translations.set(e,r),r},_.prototype.reRenderTranslations=function(){d("Re-rendering all translations due to external request"),this.state.translations.clear(),this.stateObserver.emit("change")},_.prototype.registerComponentUpdateHook=function(e){this.componentUpdateHooks.push(e)},_.prototype.registerTranslateHook=function(e){this.translateHooks.push(e)};var v=_;t.default=v},"./packages/i18n-calypso/dist/esm/index.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"I18N",{enumerable:!0,get:function(){return r.default}}),t.useTranslate=t.localize=t.emit=t.off=t.on=t.stateObserver=t.state=t.registerTranslateHook=t.registerComponentUpdateHook=t.reRenderTranslations=t.addTranslations=t.getLocaleSlug=t.getLocale=t.setLocale=t.configure=t.translate=t.numberFormat=t.moment=t.default=void 0;var r=o(n("./packages/i18n-calypso/dist/esm/i18n.js")),s=o(n("./packages/i18n-calypso/dist/esm/localize.js")),i=o(n("./packages/i18n-calypso/dist/esm/use-translate.js")),a=new r.default,c=a;t.default=c;var p=a.moment;t.moment=p;var u=a.numberFormat.bind(a);t.numberFormat=u;var l=a.translate.bind(a);t.translate=l;var d=a.configure.bind(a);t.configure=d;var m=a.setLocale.bind(a);t.setLocale=m;var f=a.getLocale.bind(a);t.getLocale=f;var h=a.getLocaleSlug.bind(a);t.getLocaleSlug=h;var g=a.addTranslations.bind(a);t.addTranslations=g;var y=a.reRenderTranslations.bind(a);t.reRenderTranslations=y;var b=a.registerComponentUpdateHook.bind(a);t.registerComponentUpdateHook=b;var w=a.registerTranslateHook.bind(a);t.registerTranslateHook=w;var _=a.state;t.state=_;var v=a.stateObserver;t.stateObserver=v;var j=a.on.bind(a);t.on=j;var q=a.off.bind(a);t.off=q;var S=a.emit.bind(a);t.emit=S;var k=(0,s.default)(a);t.localize=k;var O=(0,i.default)(a);t.useTranslate=O},"./packages/i18n-calypso/dist/esm/localize.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t={moment:e.moment,numberFormat:e.numberFormat.bind(e),translate:e.translate.bind(e)};return function(n){var o,m,f=n.displayName||n.name||"";return m=o=function(o){function m(){var e,t;(0,s.default)(this,m);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];return t=(0,a.default)(this,(e=(0,c.default)(m)).call.apply(e,[this].concat(o))),(0,l.default)((0,p.default)(t),"boundForceUpdate",t.forceUpdate.bind((0,p.default)(t))),t}return(0,u.default)(m,o),(0,i.default)(m,[{key:"componentDidMount",value:function(){e.on("change",this.boundForceUpdate)}},{key:"componentWillUnmount",value:function(){e.off("change",this.boundForceUpdate)}},{key:"render",value:function(){var o=(0,r.default)({locale:e.getLocaleSlug()},this.props,t);return d.default.createElement(n,o)}}]),m}(d.default.Component),(0,l.default)(o,"displayName","Localized("+f+")"),m}};var r=o(n("./node_modules/@babel/runtime/helpers/objectSpread.js")),s=o(n("./node_modules/@babel/runtime/helpers/classCallCheck.js")),i=o(n("./node_modules/@babel/runtime/helpers/createClass.js")),a=o(n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js")),c=o(n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js")),p=o(n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js")),u=o(n("./node_modules/@babel/runtime/helpers/inherits.js")),l=o(n("./node_modules/@babel/runtime/helpers/defineProperty.js")),d=o(n("./node_modules/react/index.js"))},"./packages/i18n-calypso/dist/esm/number-format.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o){e=(e+"").replace(/[^0-9+\-Ee.]/g,"");var r=isFinite(+e)?+e:0,s=isFinite(+t)?Math.abs(t):0,i=void 0===o?",":o,a=void 0===n?".":n,c="";(c=(s?
/*
 * Exposes number format capability
 *
 * @copyright Copyright (c) 2013 Kevin van Zonneveld (http://kvz.io) and Contributors (http://phpjs.org/authors).
 * @license See CREDITS.md
 * @see https://github.com/kvz/phpjs/blob/ffe1356af23a6f2512c84c954dd4e828e92579fa/functions/strings/number_format.js
 */
function(e,t){var n=Math.pow(10,t);return""+(Math.round(e*n)/n).toFixed(t)}(r,s):""+Math.round(r)).split("."))[0].length>3&&(c[0]=c[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,i));(c[1]||"").length<s&&(c[1]=c[1]||"",c[1]+=new Array(s-c[1].length+1).join("0"));return c.join(a)}},"./packages/i18n-calypso/dist/esm/use-translate.js":function(e,t,n){"use strict";var o=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){function t(){var t=e.translate.bind(e);return Object.defineProperty(t,"localeSlug",{get:e.getLocaleSlug.bind(e)}),t}return function(){var n=s.default.useState(t),o=(0,r.default)(n,2),i=o[0],a=o[1];return s.default.useEffect(function(){var n=function(){return a(t)};return e.on("change",n),function(){return e.off("change",n)}},[]),i}};var r=o(n("./node_modules/@babel/runtime/helpers/slicedToArray.js")),s=o(n("./node_modules/react/index.js"))}}]);